/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 42);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n// https://github.com/kelektiv/node-uuid\n/** @private */\nconst uuid = __webpack_require__(46);\n\nexports.default = uuid;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvZ2VuZXJhdGVfdXVpZC5qcz9hZjU2Il0sIm5hbWVzIjpbInV1aWQiLCJyZXF1aXJlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFDQTtBQUNBO0FBQ0EsTUFBTUEsT0FBTyxtQkFBQUMsQ0FBUSxFQUFSLENBQWI7O2tCQUVlRCxJIiwiZmlsZSI6IjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9rZWxla3Rpdi9ub2RlLXV1aWRcbi8qKiBAcHJpdmF0ZSAqL1xuY29uc3QgdXVpZCA9IHJlcXVpcmUoJ3V1aWQvdjQnKVxuXG5leHBvcnQgZGVmYXVsdCB1dWlkXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvdXRpbHMvZ2VuZXJhdGVfdXVpZC5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/** @private */\nconst BYTES_PER_ELEMENT = Object.freeze({\n  float32: 4,\n  int16: 2,\n  int32: 4,\n  int8: 1,\n  uint16: 2,\n  uint32: 4,\n  uint8: 1\n});\n\n/** @private */\nconst TYPED_ARRAY_CONSTRUCTOR = Object.freeze({\n  float32: Float32Array,\n  int16: Int16Array,\n  int32: Int32Array,\n  int8: Int8Array,\n  uint16: Uint16Array,\n  uint32: Uint32Array,\n  uint8: Uint8Array\n});\n\n/** @private */\nconst TYPED_ARRAY_GETTER = Object.freeze({\n  float32: obj => obj.float32Array,\n  int32: obj => obj.int32Array,\n  int16: obj => obj.int16Array,\n  int8: obj => obj.int8Array,\n  uint32: obj => obj.uint32Array,\n  uint16: obj => obj.uint16Array,\n  uint8: obj => obj.uint8Array\n});\n\n/** @private */\nconst GL_ITEM_TYPES = Object.freeze({\n  float32: 'FLOAT',\n  int16: 'SHORT',\n  int32: 'INT',\n  int8: 'BYTE',\n  uint16: 'UNSIGNED_SHORT',\n  uint32: 'UNSIGNED_INT',\n  uint8: 'UNSIGNED_BYTE'\n});\n\nexports.BYTES_PER_ELEMENT = BYTES_PER_ELEMENT;\nexports.TYPED_ARRAY_CONSTRUCTOR = TYPED_ARRAY_CONSTRUCTOR;\nexports.TYPED_ARRAY_GETTER = TYPED_ARRAY_GETTER;\nexports.GL_ITEM_TYPES = GL_ITEM_TYPES;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvdHlwZWRfYXJyYXlfaGVscGVycy5qcz80N2Q2Il0sIm5hbWVzIjpbIkJZVEVTX1BFUl9FTEVNRU5UIiwiT2JqZWN0IiwiZnJlZXplIiwiZmxvYXQzMiIsImludDE2IiwiaW50MzIiLCJpbnQ4IiwidWludDE2IiwidWludDMyIiwidWludDgiLCJUWVBFRF9BUlJBWV9DT05TVFJVQ1RPUiIsIkZsb2F0MzJBcnJheSIsIkludDE2QXJyYXkiLCJJbnQzMkFycmF5IiwiSW50OEFycmF5IiwiVWludDE2QXJyYXkiLCJVaW50MzJBcnJheSIsIlVpbnQ4QXJyYXkiLCJUWVBFRF9BUlJBWV9HRVRURVIiLCJvYmoiLCJmbG9hdDMyQXJyYXkiLCJpbnQzMkFycmF5IiwiaW50MTZBcnJheSIsImludDhBcnJheSIsInVpbnQzMkFycmF5IiwidWludDE2QXJyYXkiLCJ1aW50OEFycmF5IiwiR0xfSVRFTV9UWVBFUyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ0E7QUFDQSxNQUFNQSxvQkFBb0JDLE9BQU9DLE1BQVAsQ0FBYztBQUN0Q0MsV0FBUyxDQUQ2QjtBQUV0Q0MsU0FBTyxDQUYrQjtBQUd0Q0MsU0FBTyxDQUgrQjtBQUl0Q0MsUUFBTSxDQUpnQztBQUt0Q0MsVUFBUSxDQUw4QjtBQU10Q0MsVUFBUSxDQU44QjtBQU90Q0MsU0FBTztBQVArQixDQUFkLENBQTFCOztBQVVBO0FBQ0EsTUFBTUMsMEJBQTBCVCxPQUFPQyxNQUFQLENBQWM7QUFDNUNDLFdBQVNRLFlBRG1DO0FBRTVDUCxTQUFPUSxVQUZxQztBQUc1Q1AsU0FBT1EsVUFIcUM7QUFJNUNQLFFBQU1RLFNBSnNDO0FBSzVDUCxVQUFRUSxXQUxvQztBQU01Q1AsVUFBUVEsV0FOb0M7QUFPNUNQLFNBQU9RO0FBUHFDLENBQWQsQ0FBaEM7O0FBVUE7QUFDQSxNQUFNQyxxQkFBcUJqQixPQUFPQyxNQUFQLENBQWM7QUFDdkNDLFdBQVVnQixHQUFELElBQVNBLElBQUlDLFlBRGlCO0FBRXZDZixTQUFRYyxHQUFELElBQVNBLElBQUlFLFVBRm1CO0FBR3ZDakIsU0FBUWUsR0FBRCxJQUFTQSxJQUFJRyxVQUhtQjtBQUl2Q2hCLFFBQU9hLEdBQUQsSUFBU0EsSUFBSUksU0FKb0I7QUFLdkNmLFVBQVNXLEdBQUQsSUFBU0EsSUFBSUssV0FMa0I7QUFNdkNqQixVQUFTWSxHQUFELElBQVNBLElBQUlNLFdBTmtCO0FBT3ZDaEIsU0FBUVUsR0FBRCxJQUFTQSxJQUFJTztBQVBtQixDQUFkLENBQTNCOztBQVVBO0FBQ0EsTUFBTUMsZ0JBQWdCMUIsT0FBT0MsTUFBUCxDQUFjO0FBQ2xDQyxXQUFTLE9BRHlCO0FBRWxDQyxTQUFPLE9BRjJCO0FBR2xDQyxTQUFPLEtBSDJCO0FBSWxDQyxRQUFNLE1BSjRCO0FBS2xDQyxVQUFRLGdCQUwwQjtBQU1sQ0MsVUFBUSxjQU4wQjtBQU9sQ0MsU0FBTztBQVAyQixDQUFkLENBQXRCOztRQVdFVCxpQixHQUFBQSxpQjtRQUNBVSx1QixHQUFBQSx1QjtRQUNBUSxrQixHQUFBQSxrQjtRQUNBUyxhLEdBQUFBLGEiLCJmaWxlIjoiMS5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLyoqIEBwcml2YXRlICovXG5jb25zdCBCWVRFU19QRVJfRUxFTUVOVCA9IE9iamVjdC5mcmVlemUoe1xuICBmbG9hdDMyOiA0LFxuICBpbnQxNjogMixcbiAgaW50MzI6IDQsXG4gIGludDg6IDEsXG4gIHVpbnQxNjogMixcbiAgdWludDMyOiA0LFxuICB1aW50ODogMVxufSlcblxuLyoqIEBwcml2YXRlICovXG5jb25zdCBUWVBFRF9BUlJBWV9DT05TVFJVQ1RPUiA9IE9iamVjdC5mcmVlemUoe1xuICBmbG9hdDMyOiBGbG9hdDMyQXJyYXksXG4gIGludDE2OiBJbnQxNkFycmF5LFxuICBpbnQzMjogSW50MzJBcnJheSxcbiAgaW50ODogSW50OEFycmF5LFxuICB1aW50MTY6IFVpbnQxNkFycmF5LFxuICB1aW50MzI6IFVpbnQzMkFycmF5LFxuICB1aW50ODogVWludDhBcnJheVxufSlcblxuLyoqIEBwcml2YXRlICovXG5jb25zdCBUWVBFRF9BUlJBWV9HRVRURVIgPSBPYmplY3QuZnJlZXplKHtcbiAgZmxvYXQzMjogKG9iaikgPT4gb2JqLmZsb2F0MzJBcnJheSxcbiAgaW50MzI6IChvYmopID0+IG9iai5pbnQzMkFycmF5LFxuICBpbnQxNjogKG9iaikgPT4gb2JqLmludDE2QXJyYXksXG4gIGludDg6IChvYmopID0+IG9iai5pbnQ4QXJyYXksXG4gIHVpbnQzMjogKG9iaikgPT4gb2JqLnVpbnQzMkFycmF5LFxuICB1aW50MTY6IChvYmopID0+IG9iai51aW50MTZBcnJheSxcbiAgdWludDg6IChvYmopID0+IG9iai51aW50OEFycmF5XG59KVxuXG4vKiogQHByaXZhdGUgKi9cbmNvbnN0IEdMX0lURU1fVFlQRVMgPSBPYmplY3QuZnJlZXplKHtcbiAgZmxvYXQzMjogJ0ZMT0FUJyxcbiAgaW50MTY6ICdTSE9SVCcsXG4gIGludDMyOiAnSU5UJyxcbiAgaW50ODogJ0JZVEUnLFxuICB1aW50MTY6ICdVTlNJR05FRF9TSE9SVCcsXG4gIHVpbnQzMjogJ1VOU0lHTkVEX0lOVCcsXG4gIHVpbnQ4OiAnVU5TSUdORURfQllURSdcbn0pXG5cbmV4cG9ydCB7XG4gIEJZVEVTX1BFUl9FTEVNRU5ULFxuICBUWVBFRF9BUlJBWV9DT05TVFJVQ1RPUixcbiAgVFlQRURfQVJSQVlfR0VUVEVSLFxuICBHTF9JVEVNX1RZUEVTXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvdXRpbHMvdHlwZWRfYXJyYXlfaGVscGVycy5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Generic container for shader variables. eg. uniform, vertex attributes, textures ..\n * @desc\n * Each time you change the value, a serial number will be increased.\n * Use `.touch()` if you want to increase the serial number without changing the value.\n */\nclass ShaderVariable {\n  /**\n   * @param {string} name\n   * @param {string} type\n   * @param {number|Object} value\n   */\n  constructor(name, type, value) {\n    this.name = name;\n    this.type = type;\n    this._value = value;\n\n    /**\n     * The serial number increases each time you change the value.\n     * @type {number}\n     */\n    this.serial = 0;\n  }\n\n  get value() {\n    return this._value;\n  }\n\n  set value(val) {\n    if (this._value !== val) {\n      this._value = val;\n      ++this.serial;\n    }\n  }\n\n  /**\n   * Increase serial number.\n   */\n  touch() {\n    ++this.serial;\n  }\n}\n\nexports.default = ShaderVariable;\nShaderVariable.TYPE = Object.freeze({\n  UNIFORM: 'uniform',\n  ATTRIB: 'attrib',\n  TEXTURE_2D: 'tex2d'\n});//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9zaGFkZXJfdmFyaWFibGUuanM/MmRlNyJdLCJuYW1lcyI6WyJTaGFkZXJWYXJpYWJsZSIsImNvbnN0cnVjdG9yIiwibmFtZSIsInR5cGUiLCJ2YWx1ZSIsIl92YWx1ZSIsInNlcmlhbCIsInZhbCIsInRvdWNoIiwiVFlQRSIsIk9iamVjdCIsImZyZWV6ZSIsIlVOSUZPUk0iLCJBVFRSSUIiLCJURVhUVVJFXzJEIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBOzs7Ozs7QUFNZSxNQUFNQSxjQUFOLENBQXFCO0FBQ2xDOzs7OztBQUtBQyxjQUFhQyxJQUFiLEVBQW1CQyxJQUFuQixFQUF5QkMsS0FBekIsRUFBZ0M7QUFDOUIsU0FBS0YsSUFBTCxHQUFZQSxJQUFaO0FBQ0EsU0FBS0MsSUFBTCxHQUFZQSxJQUFaO0FBQ0EsU0FBS0UsTUFBTCxHQUFjRCxLQUFkOztBQUVBOzs7O0FBSUEsU0FBS0UsTUFBTCxHQUFjLENBQWQ7QUFDRDs7QUFFRCxNQUFJRixLQUFKLEdBQWE7QUFDWCxXQUFPLEtBQUtDLE1BQVo7QUFDRDs7QUFFRCxNQUFJRCxLQUFKLENBQVdHLEdBQVgsRUFBZ0I7QUFDZCxRQUFJLEtBQUtGLE1BQUwsS0FBZ0JFLEdBQXBCLEVBQXlCO0FBQ3ZCLFdBQUtGLE1BQUwsR0FBY0UsR0FBZDtBQUNBLFFBQUUsS0FBS0QsTUFBUDtBQUNEO0FBQ0Y7O0FBRUQ7OztBQUdBRSxVQUFTO0FBQ1AsTUFBRSxLQUFLRixNQUFQO0FBQ0Q7QUFsQ2lDOztrQkFBZk4sYztBQXFDckJBLGVBQWVTLElBQWYsR0FBc0JDLE9BQU9DLE1BQVAsQ0FBYztBQUNsQ0MsV0FBUyxTQUR5QjtBQUVsQ0MsVUFBUSxRQUYwQjtBQUdsQ0MsY0FBWTtBQUhzQixDQUFkLENBQXRCIiwiZmlsZSI6IjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEdlbmVyaWMgY29udGFpbmVyIGZvciBzaGFkZXIgdmFyaWFibGVzLiBlZy4gdW5pZm9ybSwgdmVydGV4IGF0dHJpYnV0ZXMsIHRleHR1cmVzIC4uXG4gKiBAZGVzY1xuICogRWFjaCB0aW1lIHlvdSBjaGFuZ2UgdGhlIHZhbHVlLCBhIHNlcmlhbCBudW1iZXIgd2lsbCBiZSBpbmNyZWFzZWQuXG4gKiBVc2UgYC50b3VjaCgpYCBpZiB5b3Ugd2FudCB0byBpbmNyZWFzZSB0aGUgc2VyaWFsIG51bWJlciB3aXRob3V0IGNoYW5naW5nIHRoZSB2YWx1ZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2hhZGVyVmFyaWFibGUge1xuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcbiAgICogQHBhcmFtIHtudW1iZXJ8T2JqZWN0fSB2YWx1ZVxuICAgKi9cbiAgY29uc3RydWN0b3IgKG5hbWUsIHR5cGUsIHZhbHVlKSB7XG4gICAgdGhpcy5uYW1lID0gbmFtZVxuICAgIHRoaXMudHlwZSA9IHR5cGVcbiAgICB0aGlzLl92YWx1ZSA9IHZhbHVlXG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2VyaWFsIG51bWJlciBpbmNyZWFzZXMgZWFjaCB0aW1lIHlvdSBjaGFuZ2UgdGhlIHZhbHVlLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5zZXJpYWwgPSAwXG4gIH1cblxuICBnZXQgdmFsdWUgKCkge1xuICAgIHJldHVybiB0aGlzLl92YWx1ZVxuICB9XG5cbiAgc2V0IHZhbHVlICh2YWwpIHtcbiAgICBpZiAodGhpcy5fdmFsdWUgIT09IHZhbCkge1xuICAgICAgdGhpcy5fdmFsdWUgPSB2YWxcbiAgICAgICsrdGhpcy5zZXJpYWxcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSW5jcmVhc2Ugc2VyaWFsIG51bWJlci5cbiAgICovXG4gIHRvdWNoICgpIHtcbiAgICArK3RoaXMuc2VyaWFsXG4gIH1cbn1cblxuU2hhZGVyVmFyaWFibGUuVFlQRSA9IE9iamVjdC5mcmVlemUoe1xuICBVTklGT1JNOiAndW5pZm9ybScsXG4gIEFUVFJJQjogJ2F0dHJpYicsXG4gIFRFWFRVUkVfMkQ6ICd0ZXgyZCdcbn0pXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29yZS9zaGFkZXJfdmFyaWFibGUuanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _resource_ref = __webpack_require__(5);\n\nvar _resource_ref2 = _interopRequireDefault(_resource_ref);\n\nvar _typed_array_helpers = __webpack_require__(1);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Vertex Object Array\n *\n * @class VOArray\n *\n * @param {VODescriptor} descriptor - *Vertex object* descriptor\n * @param {number} capacity - Maximum number of *vertex objects*\n * @param {?ArrayBuffer|DataView|Float32Array} data\n * @param {string} [usage=VOArray.USAGE.DYNAMIC] usage hint\n *\n * @desc\n * An array of *vertex objects*.\n * Has a maximum capacity and a reference to the *vertex object descriptor*.\n *\n */\n\nclass VOArray {\n  constructor(descriptor, capacity, data) {\n    let usage = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : VOArray.USAGE.DYNAMIC;\n\n    /** @type {ResourceRef} */\n    this.resourceRef = new _resource_ref2.default(this, { usage });\n\n    /** @type {VODescriptor} */\n    this.descriptor = descriptor;\n    /** @type {number} */\n    this.capacity = capacity;\n\n    if (data instanceof ArrayBuffer) {\n      this.float32Array = new Float32Array(data);\n    } else if (data instanceof DataView) {\n      this.float32Array = new Float32Array(data.buffer, data.byteOffset, data.byteLength / 4);\n    } else if (data instanceof Float32Array) {\n      this.float32Array = data;\n    } else {\n      this.float32Array = new Float32Array(new ArrayBuffer(capacity * descriptor.bytesPerVO));\n    }\n\n    const buffer = this.buffer,\n          bufferByteOffset = this.bufferByteOffset,\n          bufferByteLength = this.bufferByteLength;\n\n    descriptor.typeList.filter(type => type !== 'float32').forEach(type => {\n      this[`${type}Array`] = new _typed_array_helpers.TYPED_ARRAY_CONSTRUCTOR[type](buffer, bufferByteOffset, bufferByteLength / _typed_array_helpers.BYTES_PER_ELEMENT[type]);\n    });\n\n    Object.freeze(this);\n  }\n\n  /** @type {ArrayBuffer} */\n  get buffer() {\n    return this.float32Array.buffer;\n  }\n\n  /** @type {number} */\n  get bufferByteOffset() {\n    return this.float32Array.byteOffset;\n  }\n\n  /** @type {number} */\n  get bufferByteLength() {\n    return this.float32Array.byteLength;\n  }\n\n  /**\n   * Copy **all** *vertex object* data from an external vertex array to the internal array\n   * @param {VOArray} fromVOArray - The source vertex array\n   * @param {number} [toOffset=0] - *Vertex object* offset for the internal vertex array\n   */\n  copy(fromVOArray, toOffset) {\n    let offset = 0;\n\n    if (toOffset === undefined) {\n      offset = toOffset * (this.descriptor.bytesPerVO >> 2);\n    }\n\n    this.float32Array.set(fromVOArray.float32Array, offset);\n  }\n\n  /**\n   * Create a VOArray *sub* array\n   * @desc\n   * This will **not** *copy* the internal vertex data - this will create a new view into the internal buffer.\n   * Both (the new VOArray and the current one) will share the\n   * same memory buffer.\n   *\n   * @param {number} begin - Index of first vertex object\n   * @param {number} [size=1]\n   * @return {VOArray}\n   */\n  subarray(begin) {\n    let size = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n    return new VOArray(this.descriptor, size, new DataView(this.buffer, this.bufferByteOffset + begin * this.descriptor.bytesPerVO, size * this.descriptor.bytesPerVO));\n  }\n}\n\nexports.default = VOArray;\nVOArray.USAGE = Object.freeze({\n  STATIC: 'static',\n  DYNAMIC: 'dynamic'\n});//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS92X29fYXJyYXkuanM/NzYxMSJdLCJuYW1lcyI6WyJWT0FycmF5IiwiY29uc3RydWN0b3IiLCJkZXNjcmlwdG9yIiwiY2FwYWNpdHkiLCJkYXRhIiwidXNhZ2UiLCJVU0FHRSIsIkRZTkFNSUMiLCJyZXNvdXJjZVJlZiIsIkFycmF5QnVmZmVyIiwiZmxvYXQzMkFycmF5IiwiRmxvYXQzMkFycmF5IiwiRGF0YVZpZXciLCJidWZmZXIiLCJieXRlT2Zmc2V0IiwiYnl0ZUxlbmd0aCIsImJ5dGVzUGVyVk8iLCJidWZmZXJCeXRlT2Zmc2V0IiwiYnVmZmVyQnl0ZUxlbmd0aCIsInR5cGVMaXN0IiwiZmlsdGVyIiwidHlwZSIsImZvckVhY2giLCJPYmplY3QiLCJmcmVlemUiLCJjb3B5IiwiZnJvbVZPQXJyYXkiLCJ0b09mZnNldCIsIm9mZnNldCIsInVuZGVmaW5lZCIsInNldCIsInN1YmFycmF5IiwiYmVnaW4iLCJzaXplIiwiU1RBVElDIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7OztBQUVBOzs7O0FBRUE7Ozs7Ozs7Ozs7Ozs7Ozs7QUFnQmUsTUFBTUEsT0FBTixDQUFjO0FBQzNCQyxjQUFhQyxVQUFiLEVBQXlCQyxRQUF6QixFQUFtQ0MsSUFBbkMsRUFBd0U7QUFBQSxRQUEvQkMsS0FBK0IsdUVBQXZCTCxRQUFRTSxLQUFSLENBQWNDLE9BQVM7O0FBQ3RFO0FBQ0EsU0FBS0MsV0FBTCxHQUFtQiwyQkFBZ0IsSUFBaEIsRUFBc0IsRUFBRUgsS0FBRixFQUF0QixDQUFuQjs7QUFFQTtBQUNBLFNBQUtILFVBQUwsR0FBa0JBLFVBQWxCO0FBQ0E7QUFDQSxTQUFLQyxRQUFMLEdBQWdCQSxRQUFoQjs7QUFFQSxRQUFJQyxnQkFBZ0JLLFdBQXBCLEVBQWlDO0FBQy9CLFdBQUtDLFlBQUwsR0FBb0IsSUFBSUMsWUFBSixDQUFpQlAsSUFBakIsQ0FBcEI7QUFDRCxLQUZELE1BRU8sSUFBSUEsZ0JBQWdCUSxRQUFwQixFQUE4QjtBQUNuQyxXQUFLRixZQUFMLEdBQW9CLElBQUlDLFlBQUosQ0FBaUJQLEtBQUtTLE1BQXRCLEVBQThCVCxLQUFLVSxVQUFuQyxFQUErQ1YsS0FBS1csVUFBTCxHQUFrQixDQUFqRSxDQUFwQjtBQUNELEtBRk0sTUFFQSxJQUFJWCxnQkFBZ0JPLFlBQXBCLEVBQWtDO0FBQ3ZDLFdBQUtELFlBQUwsR0FBb0JOLElBQXBCO0FBQ0QsS0FGTSxNQUVBO0FBQ0wsV0FBS00sWUFBTCxHQUFvQixJQUFJQyxZQUFKLENBQWlCLElBQUlGLFdBQUosQ0FBZ0JOLFdBQVdELFdBQVdjLFVBQXRDLENBQWpCLENBQXBCO0FBQ0Q7O0FBakJxRSxVQW1COURILE1BbkI4RCxHQW1CZixJQW5CZSxDQW1COURBLE1BbkI4RDtBQUFBLFVBbUJ0REksZ0JBbkJzRCxHQW1CZixJQW5CZSxDQW1CdERBLGdCQW5Cc0Q7QUFBQSxVQW1CcENDLGdCQW5Cb0MsR0FtQmYsSUFuQmUsQ0FtQnBDQSxnQkFuQm9DOztBQW9CdEVoQixlQUFXaUIsUUFBWCxDQUFvQkMsTUFBcEIsQ0FBMkJDLFFBQVFBLFNBQVMsU0FBNUMsRUFBdURDLE9BQXZELENBQStERCxRQUFRO0FBQ3JFLFdBQU0sR0FBRUEsSUFBSyxPQUFiLElBQXVCLElBQUssNkNBQXdCQSxJQUF4QixDQUFMLENBQW9DUixNQUFwQyxFQUE0Q0ksZ0JBQTVDLEVBQThEQyxtQkFBbUIsdUNBQWtCRyxJQUFsQixDQUFqRixDQUF2QjtBQUNELEtBRkQ7O0FBSUFFLFdBQU9DLE1BQVAsQ0FBYyxJQUFkO0FBQ0Q7O0FBRUQ7QUFDQSxNQUFJWCxNQUFKLEdBQWM7QUFDWixXQUFPLEtBQUtILFlBQUwsQ0FBa0JHLE1BQXpCO0FBQ0Q7O0FBRUQ7QUFDQSxNQUFJSSxnQkFBSixHQUF3QjtBQUN0QixXQUFPLEtBQUtQLFlBQUwsQ0FBa0JJLFVBQXpCO0FBQ0Q7O0FBRUQ7QUFDQSxNQUFJSSxnQkFBSixHQUF3QjtBQUN0QixXQUFPLEtBQUtSLFlBQUwsQ0FBa0JLLFVBQXpCO0FBQ0Q7O0FBRUQ7Ozs7O0FBS0FVLE9BQU1DLFdBQU4sRUFBbUJDLFFBQW5CLEVBQTZCO0FBQzNCLFFBQUlDLFNBQVMsQ0FBYjs7QUFFQSxRQUFJRCxhQUFhRSxTQUFqQixFQUE0QjtBQUMxQkQsZUFBU0QsWUFBWSxLQUFLekIsVUFBTCxDQUFnQmMsVUFBaEIsSUFBOEIsQ0FBMUMsQ0FBVDtBQUNEOztBQUVELFNBQUtOLFlBQUwsQ0FBa0JvQixHQUFsQixDQUFzQkosWUFBWWhCLFlBQWxDLEVBQWdEa0IsTUFBaEQ7QUFDRDs7QUFFRDs7Ozs7Ozs7Ozs7QUFXQUcsV0FBVUMsS0FBVixFQUEyQjtBQUFBLFFBQVZDLElBQVUsdUVBQUgsQ0FBRzs7QUFDekIsV0FBTyxJQUFJakMsT0FBSixDQUFZLEtBQUtFLFVBQWpCLEVBQTZCK0IsSUFBN0IsRUFDTCxJQUFJckIsUUFBSixDQUFhLEtBQUtDLE1BQWxCLEVBQ0csS0FBS0ksZ0JBQUwsR0FBeUJlLFFBQVEsS0FBSzlCLFVBQUwsQ0FBZ0JjLFVBRHBELEVBRUVpQixPQUFPLEtBQUsvQixVQUFMLENBQWdCYyxVQUZ6QixDQURLLENBQVA7QUFJRDtBQTFFMEI7O2tCQUFSaEIsTztBQTZFckJBLFFBQVFNLEtBQVIsR0FBZ0JpQixPQUFPQyxNQUFQLENBQWM7QUFDNUJVLFVBQVEsUUFEb0I7QUFFNUIzQixXQUFTO0FBRm1CLENBQWQsQ0FBaEIiLCJmaWxlIjoiMy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZXNvdXJjZVJlZiBmcm9tICcuLi91dGlscy9yZXNvdXJjZV9yZWYnXG5cbmltcG9ydCB7IEJZVEVTX1BFUl9FTEVNRU5ULCBUWVBFRF9BUlJBWV9DT05TVFJVQ1RPUiB9IGZyb20gJy4uL3V0aWxzL3R5cGVkX2FycmF5X2hlbHBlcnMnXG5cbi8qKlxuICogVmVydGV4IE9iamVjdCBBcnJheVxuICpcbiAqIEBjbGFzcyBWT0FycmF5XG4gKlxuICogQHBhcmFtIHtWT0Rlc2NyaXB0b3J9IGRlc2NyaXB0b3IgLSAqVmVydGV4IG9iamVjdCogZGVzY3JpcHRvclxuICogQHBhcmFtIHtudW1iZXJ9IGNhcGFjaXR5IC0gTWF4aW11bSBudW1iZXIgb2YgKnZlcnRleCBvYmplY3RzKlxuICogQHBhcmFtIHs/QXJyYXlCdWZmZXJ8RGF0YVZpZXd8RmxvYXQzMkFycmF5fSBkYXRhXG4gKiBAcGFyYW0ge3N0cmluZ30gW3VzYWdlPVZPQXJyYXkuVVNBR0UuRFlOQU1JQ10gdXNhZ2UgaGludFxuICpcbiAqIEBkZXNjXG4gKiBBbiBhcnJheSBvZiAqdmVydGV4IG9iamVjdHMqLlxuICogSGFzIGEgbWF4aW11bSBjYXBhY2l0eSBhbmQgYSByZWZlcmVuY2UgdG8gdGhlICp2ZXJ0ZXggb2JqZWN0IGRlc2NyaXB0b3IqLlxuICpcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWT0FycmF5IHtcbiAgY29uc3RydWN0b3IgKGRlc2NyaXB0b3IsIGNhcGFjaXR5LCBkYXRhLCB1c2FnZSA9IFZPQXJyYXkuVVNBR0UuRFlOQU1JQykge1xuICAgIC8qKiBAdHlwZSB7UmVzb3VyY2VSZWZ9ICovXG4gICAgdGhpcy5yZXNvdXJjZVJlZiA9IG5ldyBSZXNvdXJjZVJlZih0aGlzLCB7IHVzYWdlIH0pXG5cbiAgICAvKiogQHR5cGUge1ZPRGVzY3JpcHRvcn0gKi9cbiAgICB0aGlzLmRlc2NyaXB0b3IgPSBkZXNjcmlwdG9yXG4gICAgLyoqIEB0eXBlIHtudW1iZXJ9ICovXG4gICAgdGhpcy5jYXBhY2l0eSA9IGNhcGFjaXR5XG5cbiAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICB0aGlzLmZsb2F0MzJBcnJheSA9IG5ldyBGbG9hdDMyQXJyYXkoZGF0YSlcbiAgICB9IGVsc2UgaWYgKGRhdGEgaW5zdGFuY2VvZiBEYXRhVmlldykge1xuICAgICAgdGhpcy5mbG9hdDMyQXJyYXkgPSBuZXcgRmxvYXQzMkFycmF5KGRhdGEuYnVmZmVyLCBkYXRhLmJ5dGVPZmZzZXQsIGRhdGEuYnl0ZUxlbmd0aCAvIDQpXG4gICAgfSBlbHNlIGlmIChkYXRhIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KSB7XG4gICAgICB0aGlzLmZsb2F0MzJBcnJheSA9IGRhdGFcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5mbG9hdDMyQXJyYXkgPSBuZXcgRmxvYXQzMkFycmF5KG5ldyBBcnJheUJ1ZmZlcihjYXBhY2l0eSAqIGRlc2NyaXB0b3IuYnl0ZXNQZXJWTykpXG4gICAgfVxuXG4gICAgY29uc3QgeyBidWZmZXIsIGJ1ZmZlckJ5dGVPZmZzZXQsIGJ1ZmZlckJ5dGVMZW5ndGggfSA9IHRoaXNcbiAgICBkZXNjcmlwdG9yLnR5cGVMaXN0LmZpbHRlcih0eXBlID0+IHR5cGUgIT09ICdmbG9hdDMyJykuZm9yRWFjaCh0eXBlID0+IHtcbiAgICAgIHRoaXNbYCR7dHlwZX1BcnJheWBdID0gbmV3IChUWVBFRF9BUlJBWV9DT05TVFJVQ1RPUlt0eXBlXSkoYnVmZmVyLCBidWZmZXJCeXRlT2Zmc2V0LCBidWZmZXJCeXRlTGVuZ3RoIC8gQllURVNfUEVSX0VMRU1FTlRbdHlwZV0pXG4gICAgfSlcblxuICAgIE9iamVjdC5mcmVlemUodGhpcylcbiAgfVxuXG4gIC8qKiBAdHlwZSB7QXJyYXlCdWZmZXJ9ICovXG4gIGdldCBidWZmZXIgKCkge1xuICAgIHJldHVybiB0aGlzLmZsb2F0MzJBcnJheS5idWZmZXJcbiAgfVxuXG4gIC8qKiBAdHlwZSB7bnVtYmVyfSAqL1xuICBnZXQgYnVmZmVyQnl0ZU9mZnNldCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmxvYXQzMkFycmF5LmJ5dGVPZmZzZXRcbiAgfVxuXG4gIC8qKiBAdHlwZSB7bnVtYmVyfSAqL1xuICBnZXQgYnVmZmVyQnl0ZUxlbmd0aCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmxvYXQzMkFycmF5LmJ5dGVMZW5ndGhcbiAgfVxuXG4gIC8qKlxuICAgKiBDb3B5ICoqYWxsKiogKnZlcnRleCBvYmplY3QqIGRhdGEgZnJvbSBhbiBleHRlcm5hbCB2ZXJ0ZXggYXJyYXkgdG8gdGhlIGludGVybmFsIGFycmF5XG4gICAqIEBwYXJhbSB7Vk9BcnJheX0gZnJvbVZPQXJyYXkgLSBUaGUgc291cmNlIHZlcnRleCBhcnJheVxuICAgKiBAcGFyYW0ge251bWJlcn0gW3RvT2Zmc2V0PTBdIC0gKlZlcnRleCBvYmplY3QqIG9mZnNldCBmb3IgdGhlIGludGVybmFsIHZlcnRleCBhcnJheVxuICAgKi9cbiAgY29weSAoZnJvbVZPQXJyYXksIHRvT2Zmc2V0KSB7XG4gICAgbGV0IG9mZnNldCA9IDBcblxuICAgIGlmICh0b09mZnNldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBvZmZzZXQgPSB0b09mZnNldCAqICh0aGlzLmRlc2NyaXB0b3IuYnl0ZXNQZXJWTyA+PiAyKVxuICAgIH1cblxuICAgIHRoaXMuZmxvYXQzMkFycmF5LnNldChmcm9tVk9BcnJheS5mbG9hdDMyQXJyYXksIG9mZnNldClcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBWT0FycmF5ICpzdWIqIGFycmF5XG4gICAqIEBkZXNjXG4gICAqIFRoaXMgd2lsbCAqKm5vdCoqICpjb3B5KiB0aGUgaW50ZXJuYWwgdmVydGV4IGRhdGEgLSB0aGlzIHdpbGwgY3JlYXRlIGEgbmV3IHZpZXcgaW50byB0aGUgaW50ZXJuYWwgYnVmZmVyLlxuICAgKiBCb3RoICh0aGUgbmV3IFZPQXJyYXkgYW5kIHRoZSBjdXJyZW50IG9uZSkgd2lsbCBzaGFyZSB0aGVcbiAgICogc2FtZSBtZW1vcnkgYnVmZmVyLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gYmVnaW4gLSBJbmRleCBvZiBmaXJzdCB2ZXJ0ZXggb2JqZWN0XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbc2l6ZT0xXVxuICAgKiBAcmV0dXJuIHtWT0FycmF5fVxuICAgKi9cbiAgc3ViYXJyYXkgKGJlZ2luLCBzaXplID0gMSkge1xuICAgIHJldHVybiBuZXcgVk9BcnJheSh0aGlzLmRlc2NyaXB0b3IsIHNpemUsXG4gICAgICBuZXcgRGF0YVZpZXcodGhpcy5idWZmZXIsXG4gICAgICAgICh0aGlzLmJ1ZmZlckJ5dGVPZmZzZXQgKyAoYmVnaW4gKiB0aGlzLmRlc2NyaXB0b3IuYnl0ZXNQZXJWTykpLFxuICAgICAgICBzaXplICogdGhpcy5kZXNjcmlwdG9yLmJ5dGVzUGVyVk8pKVxuICB9XG59XG5cblZPQXJyYXkuVVNBR0UgPSBPYmplY3QuZnJlZXplKHtcbiAgU1RBVElDOiAnc3RhdGljJyxcbiAgRFlOQU1JQzogJ2R5bmFtaWMnXG59KVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvcmUvdl9vX2FycmF5LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typed_array_helpers = __webpack_require__(1);\n\n/**\n * Vertex object *attribute* descriptor.\n */\nclass VOAttrDescriptor {\n  /**\n   * @param {string} name\n   * @param {string} type\n   * @param {number} size\n   * @param {number} [offset] - either `offset` or `byteOffset` must be specified\n   * @param {number} [byteOffset] - either `offset` or `byteOffset` must be specified\n   * @param {boolean} uniform\n   * @param {string[]} [attrNames]\n   */\n  constructor(name, type, size, offset, byteOffset, uniform, attrNames) {\n    this.name = name;\n    this.type = type;\n    this.size = size;\n    this.uniform = uniform;\n    this.attrNames = attrNames;\n\n    this.bytesPerElement = _typed_array_helpers.BYTES_PER_ELEMENT[this.type];\n    this.bytesPerVertex = this.bytesPerElement * size;\n\n    if (typeof byteOffset !== 'number') {\n      this.byteOffset = offset * this.bytesPerElement;\n    } else {\n      this.byteOffset = byteOffset;\n    }\n\n    if (typeof offset !== 'number') {\n      this.offset = byteOffset / this.bytesPerElement;\n    } else {\n      this.offset = offset;\n    }\n  }\n\n  /**\n   * Number of attributes per vertex\n   * @type {number}\n   */\n  vertexAttrCount(descriptor) {\n    return descriptor.bytesPerVertex / this.bytesPerElement;\n  }\n\n  /**\n   * @private\n   */\n  static defineProperties(attrDesc, propertiesObject, descriptor) {\n    const name = attrDesc.name;\n\n    const getArray = _typed_array_helpers.TYPED_ARRAY_GETTER[attrDesc.type];\n    const vertexCount = descriptor.vertexCount;\n    const vertexAttrCount = attrDesc.vertexAttrCount(descriptor);\n    const offset = attrDesc.byteOffset / attrDesc.bytesPerElement;\n\n    let i, j;\n\n    if (attrDesc.size === 1) {\n      if (attrDesc.uniform) {\n        const valueGetter = getV1u(getArray, offset);\n\n        attrDesc.getValue = function (vo) {\n          return valueGetter.call(vo);\n        };\n\n        propertiesObject[name] = {\n\n          get: valueGetter,\n          set: setV1u(getArray, vertexCount, vertexAttrCount, offset),\n          enumerable: true\n\n        };\n      } else {\n        propertiesObject['set' + camelize(name)] = {\n\n          value: setVNv(getArray, 1, vertexCount, vertexAttrCount, offset),\n          enumerable: true\n\n        };\n\n        const valueGetters = [];\n\n        for (i = 0; i < descriptor.vertexCount; ++i) {\n          const curValueGetter = getV1u(getArray, offset + i * vertexAttrCount);\n\n          valueGetters.push(curValueGetter);\n\n          propertiesObject[name + i] = {\n\n            get: curValueGetter,\n            set: setVNv(getArray, 1, 1, 0, offset + i * vertexAttrCount),\n            enumerable: true\n\n          };\n        }\n\n        attrDesc.getValue = function (vo, vi) {\n          return valueGetters[vi].call(vo);\n        };\n      }\n    } else if (attrDesc.size >= 2) {\n      if (attrDesc.uniform) {\n        const valueGetter = getVNu(getArray, offset);\n\n        attrDesc.getValue = function (vo, vi, idx) {\n          return valueGetter.call(vo, idx);\n        };\n\n        propertiesObject['get' + camelize(name)] = {\n\n          value: valueGetter,\n          enumerable: true\n\n        };\n\n        propertiesObject['set' + camelize(name)] = {\n\n          value: setVNu(getArray, attrDesc.size, vertexCount, vertexAttrCount, offset),\n          enumerable: true\n\n        };\n\n        for (i = 0; i < attrDesc.size; ++i) {\n          const setterName = attrPostfix(attrDesc, name, i);\n\n          propertiesObject[setterName] = {\n\n            get: getV1u(getArray, offset + i),\n            set: setV1u(getArray, vertexCount, vertexAttrCount, offset + i),\n            enumerable: true\n\n          };\n        }\n      } else {\n        propertiesObject['set' + camelize(name)] = {\n\n          value: setVNv(getArray, attrDesc.size, vertexCount, vertexAttrCount, offset),\n          enumerable: true\n\n        };\n\n        const valueGetters = [];\n\n        for (i = 0; i < descriptor.vertexCount; ++i) {\n          const curVertexValueGetters = [];\n\n          for (j = 0; j < attrDesc.size; ++j) {\n            const setterName = attrPostfix(attrDesc, name, j) + i;\n            const curValueGetter = getV1u(getArray, offset + i * vertexAttrCount + j);\n\n            curVertexValueGetters.push(curValueGetter);\n\n            propertiesObject[setterName] = {\n\n              get: curValueGetter,\n              set: setVNv(getArray, 1, 1, 0, offset + i * vertexAttrCount + j),\n              enumerable: true\n\n            };\n          }\n\n          valueGetters.push(curVertexValueGetters);\n        }\n\n        attrDesc.getValue = function (vo, vi, idx) {\n          return valueGetters[vi][idx].call(vo);\n        };\n      }\n    }\n  }\n}\n\nexports.default = VOAttrDescriptor; /** @private */\n\nfunction attrPostfix(attrDesc, name, index) {\n  if (attrDesc.attrNames) {\n    let postfix = attrDesc.attrNames[index];\n\n    if (postfix !== undefined) {\n      return postfix;\n    }\n  }\n\n  return name + '_' + index;\n}\n\n/** @private */\nfunction getVNu(getArray, offset) {\n  return function (attrIndex) {\n    return getArray(this.voArray)[offset + attrIndex];\n  };\n}\n\n/** @private */\nfunction setVNu(getArray, vectorLength, vertexCount, vertexAttrCount, offset) {\n  return function () {\n    const _array = getArray(this.voArray);\n    let i;\n    let n;\n\n    for (i = 0; i < vertexCount; ++i) {\n      for (n = 0; n < vectorLength; ++n) {\n        _array[i * vertexAttrCount + offset + n] = arguments[n];\n      }\n    }\n  };\n}\n\n/** @private */\nfunction getV1u(getArray, offset) {\n  return function () {\n    return getArray(this.voArray)[offset];\n  };\n}\n\n/** @private */\nfunction setVNv(getArray, vectorLength, vertexCount, vertexAttrCount, offset) {\n  return function () {\n    const _array = getArray(this.voArray);\n    let i;\n    let n;\n\n    for (i = 0; i < vertexCount; ++i) {\n      for (n = 0; n < vectorLength; ++n) {\n        _array[i * vertexAttrCount + offset + n] = arguments[i * vectorLength + n];\n      }\n    }\n  };\n}\n\n/** @private */\nfunction setV1u(getArray, vertexCount, vertexAttrCount, offset) {\n  return function (value) {\n    const _array = getArray(this.voArray);\n\n    for (let i = 0; i < vertexCount; ++i) {\n      _array[i * vertexAttrCount + offset] = value;\n    }\n  };\n}\n\n/** @private */\nfunction camelize(name) {\n  return name[0].toUpperCase() + name.substr(1);\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS92X29fYXR0cl9kZXNjcmlwdG9yLmpzPzhjYjIiXSwibmFtZXMiOlsiVk9BdHRyRGVzY3JpcHRvciIsImNvbnN0cnVjdG9yIiwibmFtZSIsInR5cGUiLCJzaXplIiwib2Zmc2V0IiwiYnl0ZU9mZnNldCIsInVuaWZvcm0iLCJhdHRyTmFtZXMiLCJieXRlc1BlckVsZW1lbnQiLCJieXRlc1BlclZlcnRleCIsInZlcnRleEF0dHJDb3VudCIsImRlc2NyaXB0b3IiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiYXR0ckRlc2MiLCJwcm9wZXJ0aWVzT2JqZWN0IiwiZ2V0QXJyYXkiLCJ2ZXJ0ZXhDb3VudCIsImkiLCJqIiwidmFsdWVHZXR0ZXIiLCJnZXRWMXUiLCJnZXRWYWx1ZSIsInZvIiwiY2FsbCIsImdldCIsInNldCIsInNldFYxdSIsImVudW1lcmFibGUiLCJjYW1lbGl6ZSIsInZhbHVlIiwic2V0Vk52IiwidmFsdWVHZXR0ZXJzIiwiY3VyVmFsdWVHZXR0ZXIiLCJwdXNoIiwidmkiLCJnZXRWTnUiLCJpZHgiLCJzZXRWTnUiLCJzZXR0ZXJOYW1lIiwiYXR0clBvc3RmaXgiLCJjdXJWZXJ0ZXhWYWx1ZUdldHRlcnMiLCJpbmRleCIsInBvc3RmaXgiLCJ1bmRlZmluZWQiLCJhdHRySW5kZXgiLCJ2b0FycmF5IiwidmVjdG9yTGVuZ3RoIiwiX2FycmF5IiwibiIsImFyZ3VtZW50cyIsInRvVXBwZXJDYXNlIiwic3Vic3RyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7QUFFQTs7O0FBR2UsTUFBTUEsZ0JBQU4sQ0FBdUI7QUFDcEM7Ozs7Ozs7OztBQVNBQyxjQUFhQyxJQUFiLEVBQW1CQyxJQUFuQixFQUF5QkMsSUFBekIsRUFBK0JDLE1BQS9CLEVBQXVDQyxVQUF2QyxFQUFtREMsT0FBbkQsRUFBNERDLFNBQTVELEVBQXVFO0FBQ3JFLFNBQUtOLElBQUwsR0FBWUEsSUFBWjtBQUNBLFNBQUtDLElBQUwsR0FBWUEsSUFBWjtB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VWlELFdBQVYsS0FBMEJqRCxLQUFLa0QsTUFBTCxDQUFZLENBQVosQ0FBakM7QUFDRCIsImZpbGUiOiI0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQllURVNfUEVSX0VMRU1FTlQsIFRZUEVEX0FSUkFZX0dFVFRFUiB9IGZyb20gJy4uL3V0aWxzL3R5cGVkX2FycmF5X2hlbHBlcnMnXG5cbi8qKlxuICogVmVydGV4IG9iamVjdCAqYXR0cmlidXRlKiBkZXNjcmlwdG9yLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWT0F0dHJEZXNjcmlwdG9yIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb2Zmc2V0XSAtIGVpdGhlciBgb2Zmc2V0YCBvciBgYnl0ZU9mZnNldGAgbXVzdCBiZSBzcGVjaWZpZWRcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtieXRlT2Zmc2V0XSAtIGVpdGhlciBgb2Zmc2V0YCBvciBgYnl0ZU9mZnNldGAgbXVzdCBiZSBzcGVjaWZpZWRcbiAgICogQHBhcmFtIHtib29sZWFufSB1bmlmb3JtXG4gICAqIEBwYXJhbSB7c3RyaW5nW119IFthdHRyTmFtZXNdXG4gICAqL1xuICBjb25zdHJ1Y3RvciAobmFtZSwgdHlwZSwgc2l6ZSwgb2Zmc2V0LCBieXRlT2Zmc2V0LCB1bmlmb3JtLCBhdHRyTmFtZXMpIHtcbiAgICB0aGlzLm5hbWUgPSBuYW1lXG4gICAgdGhpcy50eXBlID0gdHlwZVxuICAgIHRoaXMuc2l6ZSA9IHNpemVcbiAgICB0aGlzLnVuaWZvcm0gPSB1bmlmb3JtXG4gICAgdGhpcy5hdHRyTmFtZXMgPSBhdHRyTmFtZXNcblxuICAgIHRoaXMuYnl0ZXNQZXJFbGVtZW50ID0gQllURVNfUEVSX0VMRU1FTlRbIHRoaXMudHlwZSBdXG4gICAgdGhpcy5ieXRlc1BlclZlcnRleCA9IHRoaXMuYnl0ZXNQZXJFbGVtZW50ICogc2l6ZVxuXG4gICAgaWYgKHR5cGVvZiBieXRlT2Zmc2V0ICE9PSAnbnVtYmVyJykge1xuICAgICAgdGhpcy5ieXRlT2Zmc2V0ID0gb2Zmc2V0ICogdGhpcy5ieXRlc1BlckVsZW1lbnRcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5ieXRlT2Zmc2V0ID0gYnl0ZU9mZnNldFxuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb2Zmc2V0ICE9PSAnbnVtYmVyJykge1xuICAgICAgdGhpcy5vZmZzZXQgPSBieXRlT2Zmc2V0IC8gdGhpcy5ieXRlc1BlckVsZW1lbnRcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5vZmZzZXQgPSBvZmZzZXRcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTnVtYmVyIG9mIGF0dHJpYnV0ZXMgcGVyIHZlcnRleFxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKi9cbiAgdmVydGV4QXR0ckNvdW50IChkZXNjcmlwdG9yKSB7XG4gICAgcmV0dXJuIGRlc2NyaXB0b3IuYnl0ZXNQZXJWZXJ0ZXggLyB0aGlzLmJ5dGVzUGVyRWxlbWVudFxuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzdGF0aWMgZGVmaW5lUHJvcGVydGllcyAoYXR0ckRlc2MsIHByb3BlcnRpZXNPYmplY3QsIGRlc2NyaXB0b3IpIHtcbiAgICBjb25zdCB7IG5hbWUgfSA9IGF0dHJEZXNjXG4gICAgY29uc3QgZ2V0QXJyYXkgPSBUWVBFRF9BUlJBWV9HRVRURVJbYXR0ckRlc2MudHlwZV1cbiAgICBjb25zdCB2ZXJ0ZXhDb3VudCA9IGRlc2NyaXB0b3IudmVydGV4Q291bnRcbiAgICBjb25zdCB2ZXJ0ZXhBdHRyQ291bnQgPSBhdHRyRGVzYy52ZXJ0ZXhBdHRyQ291bnQoZGVzY3JpcHRvcilcbiAgICBjb25zdCBvZmZzZXQgPSBhdHRyRGVzYy5ieXRlT2Zmc2V0IC8gYXR0ckRlc2MuYnl0ZXNQZXJFbGVtZW50XG5cbiAgICBsZXQgaSwgalxuXG4gICAgaWYgKGF0dHJEZXNjLnNpemUgPT09IDEpIHtcbiAgICAgIGlmIChhdHRyRGVzYy51bmlmb3JtKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlR2V0dGVyID0gZ2V0VjF1KGdldEFycmF5LCBvZmZzZXQpXG5cbiAgICAgICAgYXR0ckRlc2MuZ2V0VmFsdWUgPSBmdW5jdGlvbiAodm8pIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWVHZXR0ZXIuY2FsbCh2bylcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3BlcnRpZXNPYmplY3RbIG5hbWUgXSA9IHtcblxuICAgICAgICAgIGdldDogdmFsdWVHZXR0ZXIsXG4gICAgICAgICAgc2V0OiBzZXRWMXUoZ2V0QXJyYXksIHZlcnRleENvdW50LCB2ZXJ0ZXhBdHRyQ291bnQsIG9mZnNldCksXG4gICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb3BlcnRpZXNPYmplY3RbICdzZXQnICsgY2FtZWxpemUobmFtZSkgXSA9IHtcblxuICAgICAgICAgIHZhbHVlOiBzZXRWTnYoZ2V0QXJyYXksIDEsIHZlcnRleENvdW50LCB2ZXJ0ZXhBdHRyQ291bnQsIG9mZnNldCksXG4gICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB2YWx1ZUdldHRlcnMgPSBbXVxuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBkZXNjcmlwdG9yLnZlcnRleENvdW50OyArK2kpIHtcbiAgICAgICAgICBjb25zdCBjdXJWYWx1ZUdldHRlciA9IGdldFYxdShnZXRBcnJheSwgb2Zmc2V0ICsgKGkgKiB2ZXJ0ZXhBdHRyQ291bnQpKVxuXG4gICAgICAgICAgdmFsdWVHZXR0ZXJzLnB1c2goY3VyVmFsdWVHZXR0ZXIpXG5cbiAgICAgICAgICBwcm9wZXJ0aWVzT2JqZWN0WyBuYW1lICsgaSBdID0ge1xuXG4gICAgICAgICAgICBnZXQ6IGN1clZhbHVlR2V0dGVyLFxuICAgICAgICAgICAgc2V0OiBzZXRWTnYoZ2V0QXJyYXksIDEsIDEsIDAsIG9mZnNldCArIChpICogdmVydGV4QXR0ckNvdW50KSksXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG5cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBhdHRyRGVzYy5nZXRWYWx1ZSA9IGZ1bmN0aW9uICh2bywgdmkpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWVHZXR0ZXJzW3ZpXS5jYWxsKHZvKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChhdHRyRGVzYy5zaXplID49IDIpIHtcbiAgICAgIGlmIChhdHRyRGVzYy51bmlmb3JtKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlR2V0dGVyID0gZ2V0Vk51KGdldEFycmF5LCBvZmZzZXQpXG5cbiAgICAgICAgYXR0ckRlc2MuZ2V0VmFsdWUgPSBmdW5jdGlvbiAodm8sIHZpLCBpZHgpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWVHZXR0ZXIuY2FsbCh2bywgaWR4KVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvcGVydGllc09iamVjdFsgJ2dldCcgKyBjYW1lbGl6ZShuYW1lKSBdID0ge1xuXG4gICAgICAgICAgdmFsdWU6IHZhbHVlR2V0dGVyLFxuICAgICAgICAgIGVudW1lcmFibGU6IHRydWVcblxuICAgICAgICB9XG5cbiAgICAgICAgcHJvcGVydGllc09iamVjdFsgJ3NldCcgKyBjYW1lbGl6ZShuYW1lKSBdID0ge1xuXG4gICAgICAgICAgdmFsdWU6IHNldFZOdShnZXRBcnJheSwgYXR0ckRlc2Muc2l6ZSwgdmVydGV4Q291bnQsIHZlcnRleEF0dHJDb3VudCwgb2Zmc2V0KSxcbiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG5cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBhdHRyRGVzYy5zaXplOyArK2kpIHtcbiAgICAgICAgICBjb25zdCBzZXR0ZXJOYW1lID0gYXR0clBvc3RmaXgoYXR0ckRlc2MsIG5hbWUsIGkpXG5cbiAgICAgICAgICBwcm9wZXJ0aWVzT2JqZWN0WyBzZXR0ZXJOYW1lIF0gPSB7XG5cbiAgICAgICAgICAgIGdldDogZ2V0VjF1KGdldEFycmF5LCBvZmZzZXQgKyBpKSxcbiAgICAgICAgICAgIHNldDogc2V0VjF1KGdldEFycmF5LCB2ZXJ0ZXhDb3VudCwgdmVydGV4QXR0ckNvdW50LCBvZmZzZXQgKyBpKSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWVcblxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvcGVydGllc09iamVjdFsgJ3NldCcgKyBjYW1lbGl6ZShuYW1lKSBdID0ge1xuXG4gICAgICAgICAgdmFsdWU6IHNldFZOdihnZXRBcnJheSwgYXR0ckRlc2Muc2l6ZSwgdmVydGV4Q291bnQsIHZlcnRleEF0dHJDb3VudCwgb2Zmc2V0KSxcbiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG5cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHZhbHVlR2V0dGVycyA9IFtdXG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGRlc2NyaXB0b3IudmVydGV4Q291bnQ7ICsraSkge1xuICAgICAgICAgIGNvbnN0IGN1clZlcnRleFZhbHVlR2V0dGVycyA9IFtdXG5cbiAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgYXR0ckRlc2Muc2l6ZTsgKytqKSB7XG4gICAgICAgICAgICBjb25zdCBzZXR0ZXJOYW1lID0gYXR0clBvc3RmaXgoYXR0ckRlc2MsIG5hbWUsIGopICsgaVxuICAgICAgICAgICAgY29uc3QgY3VyVmFsdWVHZXR0ZXIgPSBnZXRWMXUoZ2V0QXJyYXksIG9mZnNldCArIChpICogdmVydGV4QXR0ckNvdW50KSArIGopXG5cbiAgICAgICAgICAgIGN1clZlcnRleFZhbHVlR2V0dGVycy5wdXNoKGN1clZhbHVlR2V0dGVyKVxuXG4gICAgICAgICAgICBwcm9wZXJ0aWVzT2JqZWN0WyBzZXR0ZXJOYW1lIF0gPSB7XG5cbiAgICAgICAgICAgICAgZ2V0OiBjdXJWYWx1ZUdldHRlcixcbiAgICAgICAgICAgICAgc2V0OiBzZXRWTnYoZ2V0QXJyYXksIDEsIDEsIDAsIG9mZnNldCArIChpICogdmVydGV4QXR0ckNvdW50KSArIGopLFxuICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YWx1ZUdldHRlcnMucHVzaChjdXJWZXJ0ZXhWYWx1ZUdldHRlcnMpXG4gICAgICAgIH1cblxuICAgICAgICBhdHRyRGVzYy5nZXRWYWx1ZSA9IGZ1bmN0aW9uICh2bywgdmksIGlkeCkge1xuICAgICAgICAgIHJldHVybiB2YWx1ZUdldHRlcnNbdmldW2lkeF0uY2FsbCh2bylcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKiogQHByaXZhdGUgKi9cbmZ1bmN0aW9uIGF0dHJQb3N0Zml4IChhdHRyRGVzYywgbmFtZSwgaW5kZXgpIHtcbiAgaWYgKGF0dHJEZXNjLmF0dHJOYW1lcykge1xuICAgIGxldCBwb3N0Zml4ID0gYXR0ckRlc2MuYXR0ck5hbWVzWyBpbmRleCBdXG5cbiAgICBpZiAocG9zdGZpeCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gcG9zdGZpeFxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuYW1lICsgJ18nICsgaW5kZXhcbn1cblxuLyoqIEBwcml2YXRlICovXG5mdW5jdGlvbiBnZXRWTnUgKGdldEFycmF5LCBvZmZzZXQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChhdHRySW5kZXgpIHtcbiAgICByZXR1cm4gZ2V0QXJyYXkodGhpcy52b0FycmF5KVsgb2Zmc2V0ICsgYXR0ckluZGV4IF1cbiAgfVxufVxuXG4vKiogQHByaXZhdGUgKi9cbmZ1bmN0aW9uIHNldFZOdSAoZ2V0QXJyYXksIHZlY3Rvckxlbmd0aCwgdmVydGV4Q291bnQsIHZlcnRleEF0dHJDb3VudCwgb2Zmc2V0KSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgX2FycmF5ID0gZ2V0QXJyYXkodGhpcy52b0FycmF5KVxuICAgIGxldCBpXG4gICAgbGV0IG5cblxuICAgIGZvciAoaSA9IDA7IGkgPCB2ZXJ0ZXhDb3VudDsgKytpKSB7XG4gICAgICBmb3IgKG4gPSAwOyBuIDwgdmVjdG9yTGVuZ3RoOyArK24pIHtcbiAgICAgICAgX2FycmF5WyAoaSAqIHZlcnRleEF0dHJDb3VudCkgKyBvZmZzZXQgKyBuIF0gPSBhcmd1bWVudHNbbl1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqIEBwcml2YXRlICovXG5mdW5jdGlvbiBnZXRWMXUgKGdldEFycmF5LCBvZmZzZXQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZ2V0QXJyYXkodGhpcy52b0FycmF5KVsgb2Zmc2V0IF1cbiAgfVxufVxuXG4vKiogQHByaXZhdGUgKi9cbmZ1bmN0aW9uIHNldFZOdiAoZ2V0QXJyYXksIHZlY3Rvckxlbmd0aCwgdmVydGV4Q291bnQsIHZlcnRleEF0dHJDb3VudCwgb2Zmc2V0KSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgX2FycmF5ID0gZ2V0QXJyYXkodGhpcy52b0FycmF5KVxuICAgIGxldCBpXG4gICAgbGV0IG5cblxuICAgIGZvciAoaSA9IDA7IGkgPCB2ZXJ0ZXhDb3VudDsgKytpKSB7XG4gICAgICBmb3IgKG4gPSAwOyBuIDwgdmVjdG9yTGVuZ3RoOyArK24pIHtcbiAgICAgICAgX2FycmF5WyhpICogdmVydGV4QXR0ckNvdW50KSArIG9mZnNldCArIG5dID0gYXJndW1lbnRzWyhpICogdmVjdG9yTGVuZ3RoKSArIG5dXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKiBAcHJpdmF0ZSAqL1xuZnVuY3Rpb24gc2V0VjF1IChnZXRBcnJheSwgdmVydGV4Q291bnQsIHZlcnRleEF0dHJDb3VudCwgb2Zmc2V0KSB7XG4gIHJldHVybiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBjb25zdCBfYXJyYXkgPSBnZXRBcnJheSh0aGlzLnZvQXJyYXkpXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlcnRleENvdW50OyArK2kpIHtcbiAgICAgIF9hcnJheVsgKGkgKiB2ZXJ0ZXhBdHRyQ291bnQpICsgb2Zmc2V0IF0gPSB2YWx1ZVxuICAgIH1cbiAgfVxufVxuXG4vKiogQHByaXZhdGUgKi9cbmZ1bmN0aW9uIGNhbWVsaXplIChuYW1lKSB7XG4gIHJldHVybiBuYW1lWyAwIF0udG9VcHBlckNhc2UoKSArIG5hbWUuc3Vic3RyKDEpXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29yZS92X29fYXR0cl9kZXNjcmlwdG9yLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _generate_uuid = __webpack_require__(0);\n\nvar _generate_uuid2 = _interopRequireDefault(_generate_uuid);\n\nvar _serial = __webpack_require__(41);\n\nvar _serial2 = _interopRequireDefault(_serial);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Represents a resource reference which points to a *renderable resource*.\n * Every resource has an id, serial and possible resource allocation *hints*.\n * The resource reference will be used by the resource library to find or\n * create *renderable resources* (like WebGlBuffer, WebGlTexture, ..).\n */\nclass ResourceRef {\n  constructor(resource) {\n    let hints = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    this.resource = resource;\n    this.hints = hints;\n    this.id = hints.id || (0, _generate_uuid2.default)();\n    this.serial = new _serial2.default(typeof hints.serial === 'number' ? hints.serial : 1);\n  }\n\n  /**\n   * @param {ResourceRef} sourceRef\n   * @returns {boolean}\n   */\n  isSynced(sourceRef) {\n    const value = this.serial.value;\n\n    return value > 0 && value === sourceRef.serial.value;\n  }\n\n  /**\n   * @param {ResourceRef} sourceRef\n   * @returns {boolean}\n   */\n  needSync(sourceRef) {\n    return !this.isSynced(sourceRef);\n  }\n\n  /**\n   * @param {ResourceRef} sourceRef\n   * @param {function} cb\n   */\n  sync(sourceRef, cb) {\n    if (this.needSync(sourceRef)) {\n      cb(this.resource);\n      this.serial.value = sourceRef.serial.value;\n    }\n  }\n}\nexports.default = ResourceRef;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvcmVzb3VyY2VfcmVmLmpzPzZhOWIiXSwibmFtZXMiOlsiUmVzb3VyY2VSZWYiLCJjb25zdHJ1Y3RvciIsInJlc291cmNlIiwiaGludHMiLCJpZCIsInNlcmlhbCIsImlzU3luY2VkIiwic291cmNlUmVmIiwidmFsdWUiLCJuZWVkU3luYyIsInN5bmMiLCJjYiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7QUFDQTs7Ozs7O0FBRUE7Ozs7OztBQU1lLE1BQU1BLFdBQU4sQ0FBa0I7QUFDL0JDLGNBQWFDLFFBQWIsRUFBbUM7QUFBQSxRQUFaQyxLQUFZLHVFQUFKLEVBQUk7O0FBQ2pDLFNBQUtELFFBQUwsR0FBZ0JBLFFBQWhCO0FBQ0EsU0FBS0MsS0FBTCxHQUFhQSxLQUFiO0FBQ0EsU0FBS0MsRUFBTCxHQUFVRCxNQUFNQyxFQUFOLElBQVksOEJBQXRCO0FBQ0EsU0FBS0MsTUFBTCxHQUFjLHFCQUFXLE9BQU9GLE1BQU1FLE1BQWIsS0FBd0IsUUFBeEIsR0FBbUNGLE1BQU1FLE1BQXpDLEdBQWtELENBQTdELENBQWQ7QUFDRDs7QUFFRDs7OztBQUlBQyxXQUFVQyxTQUFWLEVBQXFCO0FBQUEsVUFDWEMsS0FEVyxHQUNELEtBQUtILE1BREosQ0FDWEcsS0FEVzs7QUFFbkIsV0FBT0EsUUFBUSxDQUFSLElBQWFBLFVBQVVELFVBQVVGLE1BQVYsQ0FBaUJHLEtBQS9DO0FBQ0Q7O0FBRUQ7Ozs7QUFJQUMsV0FBVUYsU0FBVixFQUFxQjtBQUNuQixXQUFPLENBQUMsS0FBS0QsUUFBTCxDQUFjQyxTQUFkLENBQVI7QUFDRDs7QUFFRDs7OztBQUlBRyxPQUFNSCxTQUFOLEVBQWlCSSxFQUFqQixFQUFxQjtBQUNuQixRQUFJLEtBQUtGLFFBQUwsQ0FBY0YsU0FBZCxDQUFKLEVBQThCO0FBQzVCSSxTQUFHLEtBQUtULFFBQVI7QUFDQSxXQUFLRyxNQUFMLENBQVlHLEtBQVosR0FBb0JELFVBQVVGLE1BQVYsQ0FBaUJHLEtBQXJDO0FBQ0Q7QUFDRjtBQWxDOEI7a0JBQVpSLFciLCJmaWxlIjoiNS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBnZW5lcmF0ZVV1aWQgZnJvbSAnLi9nZW5lcmF0ZV91dWlkJ1xuaW1wb3J0IFNlcmlhbCBmcm9tICcuL3NlcmlhbCdcblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgcmVzb3VyY2UgcmVmZXJlbmNlIHdoaWNoIHBvaW50cyB0byBhICpyZW5kZXJhYmxlIHJlc291cmNlKi5cbiAqIEV2ZXJ5IHJlc291cmNlIGhhcyBhbiBpZCwgc2VyaWFsIGFuZCBwb3NzaWJsZSByZXNvdXJjZSBhbGxvY2F0aW9uICpoaW50cyouXG4gKiBUaGUgcmVzb3VyY2UgcmVmZXJlbmNlIHdpbGwgYmUgdXNlZCBieSB0aGUgcmVzb3VyY2UgbGlicmFyeSB0byBmaW5kIG9yXG4gKiBjcmVhdGUgKnJlbmRlcmFibGUgcmVzb3VyY2VzKiAobGlrZSBXZWJHbEJ1ZmZlciwgV2ViR2xUZXh0dXJlLCAuLikuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlc291cmNlUmVmIHtcbiAgY29uc3RydWN0b3IgKHJlc291cmNlLCBoaW50cyA9IHt9KSB7XG4gICAgdGhpcy5yZXNvdXJjZSA9IHJlc291cmNlXG4gICAgdGhpcy5oaW50cyA9IGhpbnRzXG4gICAgdGhpcy5pZCA9IGhpbnRzLmlkIHx8IGdlbmVyYXRlVXVpZCgpXG4gICAgdGhpcy5zZXJpYWwgPSBuZXcgU2VyaWFsKHR5cGVvZiBoaW50cy5zZXJpYWwgPT09ICdudW1iZXInID8gaGludHMuc2VyaWFsIDogMSlcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1Jlc291cmNlUmVmfSBzb3VyY2VSZWZcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBpc1N5bmNlZCAoc291cmNlUmVmKSB7XG4gICAgY29uc3QgeyB2YWx1ZSB9ID0gdGhpcy5zZXJpYWxcbiAgICByZXR1cm4gdmFsdWUgPiAwICYmIHZhbHVlID09PSBzb3VyY2VSZWYuc2VyaWFsLnZhbHVlXG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtSZXNvdXJjZVJlZn0gc291cmNlUmVmXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgbmVlZFN5bmMgKHNvdXJjZVJlZikge1xuICAgIHJldHVybiAhdGhpcy5pc1N5bmNlZChzb3VyY2VSZWYpXG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtSZXNvdXJjZVJlZn0gc291cmNlUmVmXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNiXG4gICAqL1xuICBzeW5jIChzb3VyY2VSZWYsIGNiKSB7XG4gICAgaWYgKHRoaXMubmVlZFN5bmMoc291cmNlUmVmKSkge1xuICAgICAgY2IodGhpcy5yZXNvdXJjZSlcbiAgICAgIHRoaXMuc2VyaWFsLnZhbHVlID0gc291cmNlUmVmLnNlcmlhbC52YWx1ZVxuICAgIH1cbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3V0aWxzL3Jlc291cmNlX3JlZi5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _math_helpers = __webpack_require__(40);\n\n/**\n * Represents a `<img>` or `<canvas>` element which sizes (width and height) are\n * always power of 2.\n */\nclass PowerOf2Image {\n  /**\n   * If image dimension is NOT power of 2 then create a new `<canvas>`\n   * (with power of 2 dimension) and copy the original image content onto it.\n   * Since fetching imge data from server is a *async* operation the `imgEl` property\n   * can be `null` right after object construction and will be set later after\n   * image is loaded (and possible converted).\n   *\n   * @param {string|HTMLImageElement|HTMLCanvasElement} from - url or html *image* element\n   */\n  constructor(from) {\n    let imgEl;\n    if (typeof from === 'string') {\n      imgEl = new window.Image();\n      imgEl.src = from;\n    } else {\n      imgEl = from;\n    }\n    if (imgEl.complete === false || imgEl.width === 0 && imgEl.height === 0) {\n      /**\n       * @type {HTMLImageElement|HTMLCanvasElement}\n       */\n      this.imgEl = null;\n      /**\n       * @type {Promise<PowerOf2Image>}\n       */\n      this.complete = new Promise(resolve => {\n        const origOnLoad = imgEl.onload;\n        imgEl.onload = () => {\n          if (origOnLoad) origOnLoad.call(imgEl);\n          setPowerOf2ImgEl(this, imgEl);\n          resolve(this);\n        };\n      });\n    } else {\n      setPowerOf2ImgEl(this, imgEl);\n      /**\n       * @type {Promise<PowerOf2Image>}\n       */\n      this.complete = Promise.resolve(this);\n    }\n  }\n\n  /**\n   * A boolean that is `true` if the image has loaded and possible converted.\n   * @type {boolean}\n   */\n  get isComplete() {\n    return this.imgEl != null;\n  }\n\n  /**\n   * Returns image width or `0` if image loading is not finished.\n   * @type {number}\n   */\n  get width() {\n    return this.imgEl && this.imgEl.width || 0;\n  }\n\n  /**\n   * Returns image height or `0` if image loading is not finished.\n   * @type {number}\n   */\n  get height() {\n    return this.imgEl && this.imgEl.height || 0;\n  }\n}\n\nexports.default = PowerOf2Image;\nfunction setPowerOf2ImgEl(p2img, imgEl) {\n  p2img.imgEl = (0, _math_helpers.isPowerOf2)(imgEl.width) && (0, _math_helpers.isPowerOf2)(imgEl.height) ? imgEl : convertToPowerOf2(imgEl);\n  p2img.origWidth = imgEl.width;\n  p2img.origHeight = imgEl.height;\n}\n\nfunction convertToPowerOf2(image) {\n  const w = (0, _math_helpers.findNextPowerOf2)(image.width);\n  const h = (0, _math_helpers.findNextPowerOf2)(image.height);\n\n  const canvas = document.createElement('canvas');\n  canvas.width = w;\n  canvas.height = h;\n  canvas.getContext('2d').drawImage(image, 0, 0);\n\n  return canvas;\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9wb3dlcl9vZl8yX2ltYWdlLmpzPzllMGYiXSwibmFtZXMiOlsiUG93ZXJPZjJJbWFnZSIsImNvbnN0cnVjdG9yIiwiZnJvbSIsImltZ0VsIiwid2luZG93IiwiSW1hZ2UiLCJzcmMiLCJjb21wbGV0ZSIsIndpZHRoIiwiaGVpZ2h0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJvcmlnT25Mb2FkIiwib25sb2FkIiwiY2FsbCIsInNldFBvd2VyT2YySW1nRWwiLCJpc0NvbXBsZXRlIiwicDJpbWciLCJjb252ZXJ0VG9Qb3dlck9mMiIsIm9yaWdXaWR0aCIsIm9yaWdIZWlnaHQiLCJpbWFnZSIsInciLCJoIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiZ2V0Q29udGV4dCIsImRyYXdJbWFnZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7O0FBRUE7Ozs7QUFJZSxNQUFNQSxhQUFOLENBQW9CO0FBQ2pDOzs7Ozs7Ozs7QUFTQUMsY0FBYUMsSUFBYixFQUFtQjtBQUNqQixRQUFJQyxLQUFKO0FBQ0EsUUFBSSxPQUFPRCxJQUFQLEtBQWdCLFFBQXBCLEVBQThCO0FBQzVCQyxjQUFRLElBQUlDLE9BQU9DLEtBQVgsRUFBUjtBQUNBRixZQUFNRyxHQUFOLEdBQVlKLElBQVo7QUFDRCxLQUhELE1BR087QUFDTEMsY0FBUUQsSUFBUjtBQUNEO0FBQ0QsUUFBSUMsTUFBTUksUUFBTixLQUFtQixLQUFuQixJQUE2QkosTUFBTUssS0FBTixLQUFnQixDQUFoQixJQUFxQkwsTUFBTU0sTUFBTixLQUFpQixDQUF2RSxFQUEyRTtBQUN6RTs7O0FBR0EsV0FBS04sS0FBTCxHQUFhLElBQWI7QUFDQTs7O0FBR0EsV0FBS0ksUUFBTCxHQUFnQixJQUFJRyxPQUFKLENBQVlDLFdBQVc7QUFDckMsY0FBTUMsYUFBYVQsTUFBTVUsTUFBekI7QUFDQVYsY0FBTVUsTUFBTixHQUFlLE1BQU07QUFDbkIsY0FBSUQsVUFBSixFQUFnQkEsV0FBV0UsSUFBWCxDQUFnQlgsS0FBaEI7QUFDaEJZLDJCQUFpQixJQUFqQixFQUF1QlosS0FBdkI7QUFDQVEsa0JBQVEsSUFBUjtBQUNELFNBSkQ7QUFLRCxPQVBlLENBQWhCO0FBUUQsS0FoQkQsTUFnQk87QUFDTEksdUJBQWlCLElBQWpCLEVBQXVCWixLQUF2QjtBQUNBOzs7QUFHQSxXQUFLSSxRQUFMLEdBQWdCRyxRQUFRQyxPQUFSLENBQWdCLElBQWhCLENBQWhCO0FBQ0Q7QUFDRjs7QUFFRDs7OztBQUlBLE1BQUlLLFVBQUosR0FBa0I7QUFDaEIsV0FBTyxLQUFLYixLQUFMLElBQWMsSUFBckI7QUFDRDs7QUFFRDs7OztBQUlBLE1BQUlLLEtBQUosR0FBYTtBQUNYLFdBQVEsS0FBS0wsS0FBTCxJQUFjLEtBQUtBLEtBQUwsQ0FBV0ssS0FBMUIsSUFBb0MsQ0FBM0M7QUFDRDs7QUFFRDs7OztBQUlBLE1BQUlDLE1BQUosR0FBYztBQUNaLFdBQVEsS0FBS04sS0FBTCxJQUFjLEtBQUtBLEtBQUwsQ0FBV00sTUFBMUIsSUFBcUMsQ0FBNUM7QUFDRDtBQWpFZ0M7O2tCQUFkVCxhO0FBb0VyQixTQUFTZSxnQkFBVCxDQUEyQkUsS0FBM0IsRUFBa0NkLEtBQWxDLEVBQXlDO0FBQ3ZDYyxRQUFNZCxLQUFOLEdBQWMsOEJBQVdBLE1BQU1LLEtBQWpCLEtBQTJCLDhCQUFXTCxNQUFNTSxNQUFqQixDQUEzQixHQUFzRE4sS0FBdEQsR0FBOERlLGtCQUFrQmYsS0FBbEIsQ0FBNUU7QUFDQWMsUUFBTUUsU0FBTixHQUFrQmhCLE1BQU1LLEtBQXhCO0FBQ0FTLFFBQU1HLFVBQU4sR0FBbUJqQixNQUFNTSxNQUF6QjtBQUNEOztBQUVELFNBQVNTLGlCQUFULENBQTRCRyxLQUE1QixFQUFtQztBQUNqQyxRQUFNQyxJQUFJLG9DQUFpQkQsTUFBTWIsS0FBdkIsQ0FBVjtBQUNBLFFBQU1lLElBQUksb0NBQWlCRixNQUFNWixNQUF2QixDQUFWOztBQUVBLFFBQU1lLFNBQVNDLFNBQVNDLGFBQVQsQ0FBdUIsUUFBdkIsQ0FBZjtBQUNBRixTQUFPaEIsS0FBUCxHQUFlYyxDQUFmO0FBQ0FFLFNBQU9mLE1BQVAsR0FBZ0JjLENBQWhCO0FBQ0FDLFNBQU9HLFVBQVAsQ0FBa0IsSUFBbEIsRUFBd0JDLFNBQXhCLENBQWtDUCxLQUFsQyxFQUF5QyxDQUF6QyxFQUE0QyxDQUE1Qzs7QUFFQSxTQUFPRyxNQUFQO0FBQ0QiLCJmaWxlIjoiNi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzUG93ZXJPZjIsIGZpbmROZXh0UG93ZXJPZjIgfSBmcm9tICcuLi91dGlscy9tYXRoX2hlbHBlcnMnXG5cbi8qKlxuICogUmVwcmVzZW50cyBhIGA8aW1nPmAgb3IgYDxjYW52YXM+YCBlbGVtZW50IHdoaWNoIHNpemVzICh3aWR0aCBhbmQgaGVpZ2h0KSBhcmVcbiAqIGFsd2F5cyBwb3dlciBvZiAyLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3dlck9mMkltYWdlIHtcbiAgLyoqXG4gICAqIElmIGltYWdlIGRpbWVuc2lvbiBpcyBOT1QgcG93ZXIgb2YgMiB0aGVuIGNyZWF0ZSBhIG5ldyBgPGNhbnZhcz5gXG4gICAqICh3aXRoIHBvd2VyIG9mIDIgZGltZW5zaW9uKSBhbmQgY29weSB0aGUgb3JpZ2luYWwgaW1hZ2UgY29udGVudCBvbnRvIGl0LlxuICAgKiBTaW5jZSBmZXRjaGluZyBpbWdlIGRhdGEgZnJvbSBzZXJ2ZXIgaXMgYSAqYXN5bmMqIG9wZXJhdGlvbiB0aGUgYGltZ0VsYCBwcm9wZXJ0eVxuICAgKiBjYW4gYmUgYG51bGxgIHJpZ2h0IGFmdGVyIG9iamVjdCBjb25zdHJ1Y3Rpb24gYW5kIHdpbGwgYmUgc2V0IGxhdGVyIGFmdGVyXG4gICAqIGltYWdlIGlzIGxvYWRlZCAoYW5kIHBvc3NpYmxlIGNvbnZlcnRlZCkuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfEhUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9IGZyb20gLSB1cmwgb3IgaHRtbCAqaW1hZ2UqIGVsZW1lbnRcbiAgICovXG4gIGNvbnN0cnVjdG9yIChmcm9tKSB7XG4gICAgbGV0IGltZ0VsXG4gICAgaWYgKHR5cGVvZiBmcm9tID09PSAnc3RyaW5nJykge1xuICAgICAgaW1nRWwgPSBuZXcgd2luZG93LkltYWdlKClcbiAgICAgIGltZ0VsLnNyYyA9IGZyb21cbiAgICB9IGVsc2Uge1xuICAgICAgaW1nRWwgPSBmcm9tXG4gICAgfVxuICAgIGlmIChpbWdFbC5jb21wbGV0ZSA9PT0gZmFsc2UgfHwgKGltZ0VsLndpZHRoID09PSAwICYmIGltZ0VsLmhlaWdodCA9PT0gMCkpIHtcbiAgICAgIC8qKlxuICAgICAgICogQHR5cGUge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICAgKi9cbiAgICAgIHRoaXMuaW1nRWwgPSBudWxsXG4gICAgICAvKipcbiAgICAgICAqIEB0eXBlIHtQcm9taXNlPFBvd2VyT2YySW1hZ2U+fVxuICAgICAgICovXG4gICAgICB0aGlzLmNvbXBsZXRlID0gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgIGNvbnN0IG9yaWdPbkxvYWQgPSBpbWdFbC5vbmxvYWRcbiAgICAgICAgaW1nRWwub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgIGlmIChvcmlnT25Mb2FkKSBvcmlnT25Mb2FkLmNhbGwoaW1nRWwpXG4gICAgICAgICAgc2V0UG93ZXJPZjJJbWdFbCh0aGlzLCBpbWdFbClcbiAgICAgICAgICByZXNvbHZlKHRoaXMpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFBvd2VyT2YySW1nRWwodGhpcywgaW1nRWwpXG4gICAgICAvKipcbiAgICAgICAqIEB0eXBlIHtQcm9taXNlPFBvd2VyT2YySW1hZ2U+fVxuICAgICAgICovXG4gICAgICB0aGlzLmNvbXBsZXRlID0gUHJvbWlzZS5yZXNvbHZlKHRoaXMpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEEgYm9vbGVhbiB0aGF0IGlzIGB0cnVlYCBpZiB0aGUgaW1hZ2UgaGFzIGxvYWRlZCBhbmQgcG9zc2libGUgY29udmVydGVkLlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICovXG4gIGdldCBpc0NvbXBsZXRlICgpIHtcbiAgICByZXR1cm4gdGhpcy5pbWdFbCAhPSBudWxsXG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBpbWFnZSB3aWR0aCBvciBgMGAgaWYgaW1hZ2UgbG9hZGluZyBpcyBub3QgZmluaXNoZWQuXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuICBnZXQgd2lkdGggKCkge1xuICAgIHJldHVybiAodGhpcy5pbWdFbCAmJiB0aGlzLmltZ0VsLndpZHRoKSB8fCAwXG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBpbWFnZSBoZWlnaHQgb3IgYDBgIGlmIGltYWdlIGxvYWRpbmcgaXMgbm90IGZpbmlzaGVkLlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKi9cbiAgZ2V0IGhlaWdodCAoKSB7XG4gICAgcmV0dXJuICh0aGlzLmltZ0VsICYmIHRoaXMuaW1nRWwuaGVpZ2h0KSB8fCAwXG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0UG93ZXJPZjJJbWdFbCAocDJpbWcsIGltZ0VsKSB7XG4gIHAyaW1nLmltZ0VsID0gaXNQb3dlck9mMihpbWdFbC53aWR0aCkgJiYgaXNQb3dlck9mMihpbWdFbC5oZWlnaHQpID8gaW1nRWwgOiBjb252ZXJ0VG9Qb3dlck9mMihpbWdFbClcbiAgcDJpbWcub3JpZ1dpZHRoID0gaW1nRWwud2lkdGhcbiAgcDJpbWcub3JpZ0hlaWdodCA9IGltZ0VsLmhlaWdodFxufVxuXG5mdW5jdGlvbiBjb252ZXJ0VG9Qb3dlck9mMiAoaW1hZ2UpIHtcbiAgY29uc3QgdyA9IGZpbmROZXh0UG93ZXJPZjIoaW1hZ2Uud2lkdGgpXG4gIGNvbnN0IGggPSBmaW5kTmV4dFBvd2VyT2YyKGltYWdlLmhlaWdodClcblxuICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKVxuICBjYW52YXMud2lkdGggPSB3XG4gIGNhbnZhcy5oZWlnaHQgPSBoXG4gIGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpLmRyYXdJbWFnZShpbWFnZSwgMCwgMClcblxuICByZXR1cm4gY2FudmFzXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29yZS9wb3dlcl9vZl8yX2ltYWdlLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _generate_uuid = __webpack_require__(0);\n\nvar _generate_uuid2 = _interopRequireDefault(_generate_uuid);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass ShaderSource {\n  /**\n   * @param {string} type - `VERTEX_SHADER` or `FRAGMENT_SHADER`\n   * @param {HTMLElement|string} source\n   */\n  constructor(type, source) {\n    /**\n     * @type {string}\n     */\n    this.id = (0, _generate_uuid2.default)();\n\n    this.type = type;\n\n    /**\n     * @type {string}\n     */\n    this.source = source instanceof HTMLElement ? source.textContent : source.toString();\n  }\n}\n\nexports.default = ShaderSource; /* global HTMLElement */\n\nShaderSource.VERTEX_SHADER = 'VERTEX_SHADER';\nShaderSource.FRAGMENT_SHADER = 'FRAGMENT_SHADER';//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9zaGFkZXJfc291cmNlLmpzPzg1N2IiXSwibmFtZXMiOlsiU2hhZGVyU291cmNlIiwiY29uc3RydWN0b3IiLCJ0eXBlIiwic291cmNlIiwiaWQiLCJIVE1MRWxlbWVudCIsInRleHRDb250ZW50IiwidG9TdHJpbmciLCJWRVJURVhfU0hBREVSIiwiRlJBR01FTlRfU0hBREVSIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFDQTs7Ozs7O0FBRWUsTUFBTUEsWUFBTixDQUFtQjtBQUNoQzs7OztBQUlBQyxjQUFhQyxJQUFiLEVBQW1CQyxNQUFuQixFQUEyQjtBQUN6Qjs7O0FBR0EsU0FBS0MsRUFBTCxHQUFVLDhCQUFWOztBQUVBLFNBQUtGLElBQUwsR0FBWUEsSUFBWjs7QUFFQTs7O0FBR0EsU0FBS0MsTUFBTCxHQUFjQSxrQkFBa0JFLFdBQWxCLEdBQWdDRixPQUFPRyxXQUF2QyxHQUFxREgsT0FBT0ksUUFBUCxFQUFuRTtBQUNEO0FBakIrQjs7a0JBQWJQLFksRUFIckI7O0FBdUJBQSxhQUFhUSxhQUFiLEdBQTZCLGVBQTdCO0FBQ0FSLGFBQWFTLGVBQWIsR0FBK0IsaUJBQS9CIiwiZmlsZSI6IjcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBnbG9iYWwgSFRNTEVsZW1lbnQgKi9cbmltcG9ydCBnZW5lcmF0ZVVVSUQgZnJvbSAnLi4vdXRpbHMvZ2VuZXJhdGVfdXVpZCdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2hhZGVyU291cmNlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gYFZFUlRFWF9TSEFERVJgIG9yIGBGUkFHTUVOVF9TSEFERVJgXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR8c3RyaW5nfSBzb3VyY2VcbiAgICovXG4gIGNvbnN0cnVjdG9yICh0eXBlLCBzb3VyY2UpIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMuaWQgPSBnZW5lcmF0ZVVVSUQoKVxuXG4gICAgdGhpcy50eXBlID0gdHlwZVxuXG4gICAgLyoqXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ID8gc291cmNlLnRleHRDb250ZW50IDogc291cmNlLnRvU3RyaW5nKClcbiAgfVxufVxuXG5TaGFkZXJTb3VyY2UuVkVSVEVYX1NIQURFUiA9ICdWRVJURVhfU0hBREVSJ1xuU2hhZGVyU291cmNlLkZSQUdNRU5UX1NIQURFUiA9ICdGUkFHTUVOVF9TSEFERVInXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29yZS9zaGFkZXJfc291cmNlLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar hasMap = canUseMap();\nvar hasSymbol = canUseSymbol();\nvar hasConsole = typeof console !== 'undefined';\n\nvar PROP_NAMESPACE  = !hasSymbol ? '@@eventize' : (function () {\n    if (!Symbol.eventize) {\n        Symbol.eventize = Symbol('eventize');\n    }\n    return Symbol.eventize;\n})();\n\nvar CATCH_ALL_EVENT = '*';\nvar LOG_NAMESPACE   = '[eventize.js]';\n\n// =====================================================================\n//\n// eventize( object )\n//\n// =====================================================================\n\nfunction eventize (o) {\n\n    if (o[PROP_NAMESPACE]) return o;\n\n    var _e = {\n        lastCallbackId : 0,\n        callbacks      : {},\n        boundObjects   : []\n    };\n\n    _e.callbacks[CATCH_ALL_EVENT] = [];\n\n    var _ePublic = definePublicPropertiesRO({}, {\n        silenced : false,\n        off      : []\n    });\n\n    defineHiddenPropertyRO(o, PROP_NAMESPACE, _ePublic);\n\n    if (eventize.PRIO_DEFAULT === undefined) {\n\n        definePublicPropertiesRO(eventize, {\n            PRIO_MAX     : Number.POSITIVE_INFINITY,\n            PRIO_A       : 1000000000,\n            PRIO_B       : 10000000,\n            PRIO_C       : 100000,\n            PRIO_DEFAULT : 0,\n            PRIO_LOW     : -100000,\n            PRIO_MIN     : Number.NEGATIVE_INFINITY\n        });\n\n    }\n\n    // -----------------------------------------------------------------\n    //\n    // object.on( eventName, [ prio, ] callbackFunc )\n    // object.on( eventName, [ prio, ] obj )\n    //\n    // object.on( callbackFunc )    => object.on( '*', callbackFunc )\n    // object.on( obj )             => object.on( '*', obj )\n    //\n    // object.on( eventName )\n    // object.on()\n    //\n    // -----------------------------------------------------------------\n\n    o.on = function (eventName, prio, fn) {  // --- {{{\n\n        var argsLen = arguments.length;\n\n        if (argsLen === 0) {\n            if (_ePublic.silenced) {\n                definePublicPropertyRO(_ePublic, 'silenced', false);\n                _ePublic.off.length = 0;\n            }\n            return;\n        }\n\n        var i;\n\n        if (argsLen === 1) {\n            if (typeof eventName === 'string') {\n\n                i = _ePublic.off.indexOf(eventName);\n                if (i >= 0) {\n                    _ePublic.off.splice(i, 1);\n                }\n                return;\n\n            } else if (typeof eventName === 'object' || typeof eventName === 'function') {\n\n                // alias for: on('*', listener)\n\n                fn = eventName;\n                eventName = CATCH_ALL_EVENT;\n                prio = eventize.PRIO_DEFAULT;\n\n            } else {\n                if (hasConsole) {\n                    console.warn(LOG_NAMESPACE, '.on() called with insufficient arguments!', arguments);\n                }\n                return;\n            }\n        }\n\n        if (argsLen === 2) {\n            fn = prio;\n            prio = eventize.PRIO_DEFAULT;\n        }\n\n        var eventizeCallbacks = _e.callbacks;\n        var eventListener = eventizeCallbacks[eventName] || (eventizeCallbacks[eventName] = []);\n        var listenerId = createId();\n        var listener = definePublicPropertiesRO({}, {\n            id         : listenerId,\n            fn         : fn,\n            prio       : (typeof prio !== 'number' ? eventize.PRIO_DEFAULT : prio),\n            isFunction : (typeof fn === 'function'),\n        });\n\n        eventListener.push(listener);\n        eventListener.sort(sortListenerByPrio);\n\n        return listenerId;\n\n    };\n\n    function createId () {\n        return ++_e.lastCallbackId;\n    }\n\n    function sortListenerByPrio (a, b) {\n        return a.prio !== b.prio ? b.prio - a.prio : a.id - b.id;\n    }\n\n    // --- on }}}\n\n    // ----------------------------------------------------------------------\n    //\n    // object.once( eventName, [ prio, ] callbackFunc )\n    // object.once( eventName, [ prio, ] obj )\n    //\n    // object.once( callbackFunc )      => object.once( '*', callbackFunc )\n    // object.once( obj )               => object.once( '*', obj )\n    //\n    // ----------------------------------------------------------------------\n\n    o.once = function (eventName, prio, fn) {  // --- {{{\n\n        var argsLen = arguments.length;\n\n        if (!argsLen || argsLen > 3) {\n            if (hasConsole) {\n                console.warn(LOG_NAMESPACE, '.once() called with insufficient arguments!', arguments);\n            }\n            return;\n        }\n\n        if (argsLen === 1) {\n\n            fn = eventName;\n            eventName = CATCH_ALL_EVENT;\n            prio = eventize.PRIO_DEFAULT;\n\n        } else if (argsLen === 2) {\n\n            fn = prio;\n            prio = eventize.PRIO_DEFAULT;\n\n        }\n\n        var id = o.on(eventName, prio, function () {\n            var res = fn.apply(this, arguments);\n            o.off(id);\n            return res;\n        });\n\n        return id;\n\n    };\n\n    // --- once }}}\n\n    // -----------------------------------------------------------------\n    //\n    // object.off( id )\n    // object.off( callback )\n    // object.off( obj )\n    // object.off( eventName )\n    // object.off()\n    //\n    // deactive listener by id or previously bound object or\n    // function reference or event name or silence all events\n    //\n    // -----------------------------------------------------------------\n\n    o.off = function (id) {  // -- {{{\n\n        if (arguments.length === 0) {\n            if (!_ePublic.silenced) {\n                definePublicPropertyRO(_ePublic, 'silenced', true);\n                _ePublic.off.length = 0;\n            }\n            return;\n        }\n\n        if (typeof id === 'string') {\n            //\n            // by event name\n            //\n            if (_ePublic.off.indexOf(id) === -1) {\n                _ePublic.off.push(id);\n            }\n            return;\n        }\n\n        var eventizeCallbacks = _e.callbacks;\n        var cb, i, j, _callbacks, keys;\n        var isObject = typeof id === 'object';\n\n        if (typeof id === 'number' || typeof id === 'function' || isObject) {\n            //\n            // by id or function reference\n            //\n            keys = Object.keys(eventizeCallbacks);\n            for (j = 0; j < keys.length; j++) {\n                _callbacks = eventizeCallbacks[keys[j]];\n                for (i = 0; i < _callbacks.length; i++) {\n                    cb = _callbacks[i];\n                    if (cb.id === id || cb.fn === id) {\n                        _callbacks.splice(i, 1);\n                        if (!isObject) return;\n                    }\n                }\n            }\n        }\n\n        if (isObject) {\n            //\n            // by bound object reference\n            //\n            i = _e.boundObjects.indexOf(id);\n            if ( i >= 0 ) {\n                _e.boundObjects.splice(i, 1);\n            }\n        }\n\n    };\n\n    // --- off }}}\n\n    // -----------------------------------------------------------------\n    //\n    // object.connect( obj )\n    // object.connect( obj, mapping )\n    //\n    // Example:\n    //\n    //   object.connect(options, {\n    //        onProjectionUpdated : [100, 'projectionUpdated'],\n    //        onFrame             : 'frame',\n    //        onFrameEnd          : 'frameEnd'\n    //   })\n    //\n    // -----------------------------------------------------------------\n\n    o.connect = function (obj, mapping) {  // --- {{{\n        var argsLen = arguments.length;\n        if (argsLen === 1) {\n            return _bindObject(obj);\n        } else if (argsLen === 2) {\n            return _connectWithMapping(this, obj, mapping);\n        } else {\n            if (hasConsole) {\n                console.warn(LOG_NAMESPACE, '.connect() called with insufficient arguments!', arguments);\n            }\n        }\n    };\n\n    function _bindObject (obj) {\n\n        // TODO connect(obj) should ..\n        // - support priority\n        // - support filters? (via only, except options)\n        // - support senderContextArgument?: 'prepend'|'append'|false\n\n        if (!obj) return;\n        var i = _e.boundObjects.indexOf(obj);\n        if (i === -1) {\n            _e.boundObjects.push(obj);\n        }\n        return obj;\n\n    }\n\n    function _connectWithMapping (obj, options, listenerMap) {\n\n        var eventName, listenName, listenFunc, prio;\n\n        for (listenName in listenerMap) {\n            if (listenerMap.hasOwnProperty(listenName)) {\n                listenFunc = options[listenName];\n                if (typeof listenFunc === 'function') {\n                    eventName = listenerMap[listenName];\n                    if (Array.isArray(eventName)) {\n                        prio = eventName[0];\n                        eventName = eventName[1];\n                    } else {\n                        prio = eventize.PRIO_DEFAULT;\n                    }\n                    obj.on(eventName, prio, listenFunc);\n                }\n            }\n        }\n\n        return obj;\n\n    }\n\n    // --- connect }}}\n\n    // -----------------------------------------------------------------\n    //\n    // object.emit( eventName [, arguments .. ] )\n    //\n    // -----------------------------------------------------------------\n\n    o.emit = function () {  // --- {{{\n\n        // https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#3-managing-arguments\n        var args = new Array(arguments.length);\n        for (var i = 0; i < args.length; ++i) {\n            args[i] = arguments[i];\n        }\n\n        var eventName;\n        var senderCtx = this;\n        var rootCtx;\n        var argsCtx;\n\n        if (args.length > 1 && typeof args[0] !== 'string' && typeof args[1] === 'string') {\n            rootCtx = args.shift();\n            eventName = args.shift();\n            args[args.length - 1] = rootCtx;\n            argsCtx = args;\n        } else {\n            eventName = args.shift();  // throw out eventName\n            argsCtx = args.concat([senderCtx]);\n        }\n\n        _dispatch(eventName, function (listener) {\n\n            if (listener.isFunction) {\n                listener.fn.apply(senderCtx, args);\n            } else {\n                var fn = listener.fn[eventName];\n                if (typeof fn === 'function') {\n                    fn.apply(listener.fn, argsCtx);\n                } else if (listener.fn[PROP_NAMESPACE]) {\n                    listener.fn.emit.apply(listener.fn, [eventName].concat(args));\n                }\n            }\n\n        }, function (fn, boundObj) {\n\n            if (fn) {\n                fn.apply(boundObj, argsCtx);\n            } else {\n                boundObj.emit.apply(boundObj, [senderCtx, eventName].concat(argsCtx));\n            }\n\n        });\n\n    }\n\n    function _dispatch (eventName, emitListener, emitBoundObject) {\n\n        if (_ePublic.silenced) return;\n        if (_ePublic.off.indexOf(eventName) >= 0) return;\n\n        var listeners              = _e.callbacks[eventName];\n        var catchAllListeners      = _e.callbacks[CATCH_ALL_EVENT];\n        var boundObjsCount         = _e.boundObjects.length;\n        var hasBoundObjectsEmitted = false;\n\n        function _emitBoundObjects () {\n            var j, bo, fn;\n            if (boundObjsCount) {\n                for (j = 0; j < boundObjsCount; j++) {\n                    bo = _e.boundObjects[j];\n                    fn = bo[eventName];\n                    if (typeof fn === 'function') {\n                        emitBoundObject(fn, bo);\n                    } else if (bo[PROP_NAMESPACE]) {\n                        emitBoundObject(null, bo);\n                    }\n                }\n            }\n        }\n\n        var i, len, listen;\n\n        if (listeners || catchAllListeners.length) {\n\n            listeners = listeners ? listeners.concat(catchAllListeners) : catchAllListeners;\n            len = listeners.length;\n\n            for (i = 0; i < len; i++) {\n                listen = listeners[i];\n                if (!hasBoundObjectsEmitted && listen && listen.prio < eventize.PRIO_DEFAULT) {\n                    _emitBoundObjects();\n                    hasBoundObjectsEmitted = true;\n                }\n                emitListener(listen);\n            }\n        }\n\n        if (!hasBoundObjectsEmitted) _emitBoundObjects();\n\n    }\n\n    // --- emit }}}\n\n    // --------------------------------------------------------------------\n    //\n    // object.emitReduce( eventName [, value= {} ] [, arguments .. ] )\n    //\n    // --------------------------------------------------------------------\n\n    o.emitReduce = function () {  // --- {{{\n\n        var args = new Array(arguments.length);\n        for (var i = 0; i < args.length; ++i) {\n            args[i] = arguments[i];\n        }\n\n        var eventName = args.shift();\n        var value;\n\n        function setValue (val) {\n            if (val !== undefined) {\n                value = val;\n            }\n        }\n\n        if (args.length === 0) {\n            value = {};\n            args.push(value);\n        } else {\n            setValue(args[0]);\n        }\n\n        var ctx = this;\n        var argsWithEventName = [eventName].concat(args);\n        var argsCtx = args.concat([ctx]);\n\n        _dispatch(eventName, function (listener) {\n\n            if (listener.isFunction) {\n                args[0] = value;\n                setValue(listener.fn.apply(ctx, args));\n            } else {\n                var fn = listener.fn[eventName];\n                if (typeof fn === 'function') {\n                    argsCtx[0] = value;\n                    setValue(fn.apply(listener.fn, argsCtx));\n                } else if (listener.fn[PROP_NAMESPACE]) {\n                    argsWithEventName[1] = value;\n                    setValue(listener.fn.emitReduce.apply(listener.fn, argsWithEventName));\n                }\n            }\n\n        }, function (fn, boundObj) {\n\n            if (fn) {\n                argsCtx[0] = value;\n                setValue(fn.apply(boundObj, argsCtx));\n            }\n\n        });\n\n        return value;\n\n    };\n\n    // --- emit }}}\n\n    // --------------------------------------------------------------------\n    //\n    // object.from( eventName, Observable )\n    //\n    // See https://github.com/tc39/proposal-observable\n    //\n    // Example:\n    //\n    //      object\n    //          .from('foo', Rx.Observable)\n    //          .filter(x => x % 2 === 0)\n    //          .subscribe(x => console.log(x));\n    //\n    //\n    // --------------------------------------------------------------------\n\n    o.from = function (eventName, observable) {  // --- {{{\n        var self = this;\n        return new observable(function (observer) {\n\n            var id = self.on(eventName, function (data) {\n                observer.next(data);\n            });\n\n            return function () {\n                self.off(id);\n            };\n\n        });\n    };\n\n    // --- from }}}\n\n    // --------------------------------------------------------------------\n    //\n    // object.subscribe( Observable, onNext[, onError][, onComplete] )\n    //\n    // Example:\n    //\n    //      object.subscribe(a, 'value', 'error');   // a => Observable\n    //\n    // --------------------------------------------------------------------\n\n    o.subscribe = function (source, onNext, onError, onComplete) {  // --- {{{\n        var self = this;\n        return source.subscribe(function (value) {\n            self.emit(onNext, value);\n        }, onError ? function (errorValue) {\n            self.emit(onError, errorValue);\n        } : undefined, onComplete ? function (completeValue) {\n            self.emit(onComplete, completeValue);\n        } : undefined);\n    };\n\n    // --- subscribe }}}\n\n    return o;\n\n} // <= eventize()\n\n\neventize.is = function (obj) {\n    return !!( obj && obj[PROP_NAMESPACE] );\n};\n\n\ndefineHiddenPropertyRO( eventize,\n    'EventizeNamespace', PROP_NAMESPACE);\n\n\n// ==========================================================================\n//\n// eventize.queue([ queueId ][, options]) : queue\n//\n// options are:\n//    - replace: true|false  - replace previous events with same name\n//                             when queue is in collection mode\n//\n// queue.play()              - activate play (immediately emit) mode\n// queue.collect()           - activate collection (store all events) mode\n// queue.toggle()            - toggle state\n// queue.state               - 'play'|'collect'\n//\n// ==========================================================================\n\ndefineHiddenPropertyRO(eventize, 'queues', hasMap ? new Map : {});\n\neventize.queue = function (id/*, options */) {\n\n    var queue, options;\n    var len = arguments.length;\n\n    if (len >= 1) {\n        if (typeof id !== 'object' || len === 2) {\n            queue = hasMap ? eventize.queues.get(id) : eventize.queues[id];\n        }\n        if (len === 2) {\n            options = arguments[1];\n        } else if (len === 1 && typeof id === 'object') {\n            options = id;\n        }\n    }\n\n    if (!queue) {\n        queue = createQueue(id, options);\n        if (hasMap) {\n            eventize.queues.set(queue.id, queue);\n        } else {\n            eventize.queues[queue.id] = queue;\n        }\n    }\n\n    return queue;\n\n};\n\n\nvar STATE = 'state';\nvar PLAY = 'play';\nvar COLLECT = 'collect';\n\nfunction createQueue (id, options) {\n\n    var queueId = ((typeof id === 'string' || typeof id === 'symbol') && id) || createUuid();\n    var queue = eventize({});\n    var isReplace = !!(options && options.replace);\n\n    var setState = function (state) {\n        definePublicPropertyRO(queue, STATE, state);\n    };\n\n    var emit = (function (_emit) {\n            return function (args) {\n            _emit.apply(queue, args);\n        };\n    })(queue.emit);\n\n    defineHiddenPropertyRO(queue, 'events', []);\n    definePublicPropertyRO(queue, 'id', queueId);\n\n    queue.collect = function () {\n        if (queue[STATE] !== COLLECT) {\n            setState(COLLECT);\n        }\n        return queue;\n    };\n\n    queue.emit = function () {\n        var args = new Array(arguments.length);\n        var i;\n        for (i = 0; i < args.length; ++i) {\n            args[i] = arguments[i];\n        }\n        if (queue[STATE] === PLAY) {\n            emit(args);\n        } else {  // COLLECT\n            if (isReplace) {\n                var len, eventName = args[0];\n                for (i = 0, len = queue.events.length; i < len; i++) {\n                    if (queue.events[i][0] === eventName) {\n                        queue.events[i] = args;\n                        return;\n                    }\n                }\n            }\n            queue.events.push(args);\n        }\n    };\n\n    queue.play = function () {\n        if (queue[STATE] !== PLAY) {\n            setState(PLAY);\n            queue.events.forEach(emit);\n            queue.events.length = 0;\n        }\n        return queue;\n    };\n\n    queue.toggle = function () {\n        return queue[STATE] !== PLAY ? queue.play() : queue.collect();\n    };\n\n    return queue.play();\n\n}\n\n\n// =====================================================================\n//\n// helper functions\n//\n// =====================================================================\n\n\nfunction createUuid () {\n    // http://stackoverflow.com/questions/105034/create-guid-uuid-in-javascript\n    var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        var r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);\n        return v.toString(16);\n    });\n    return hasSymbol ? Symbol(uuid) : uuid;\n}\n\nfunction canUseSymbol () {\n    return typeof Symbol !== 'undefined';\n}\n\nfunction canUseMap () {\n    return typeof Map !== 'undefined';\n}\n\nfunction definePublicPropertyRO (obj, name, value) {\n    Object.defineProperty(obj, name, {\n        value        : value,\n        configurable : true,\n        enumerable   : true\n    });\n    return obj;\n}\n\nfunction definePublicPropertiesRO (obj, attrs) {\n    var i, keys = Object.keys(attrs);\n    for (i = keys.length; i--;) {\n        definePublicPropertyRO(obj, keys[i], attrs[keys[i]]);\n    }\n    return obj;\n}\n\nfunction defineHiddenPropertyRO (obj, name, value) {\n    Object.defineProperty(obj, name, {\n        value        : value,\n        configurable : true\n    });\n    return obj;\n}\n\n\n// --- end\n//\nmodule.exports = eventize;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L0BzcGVhcndvbGYvZXZlbnRpemUvc3JjL2V2ZW50aXplLmpzP2Q1ZmUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7O0FBRUE7O0FBRUEsOENBQThDO0FBQzlDO0FBQ0E7QUFDQSxLQUFLOztBQUVMOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwyQ0FBMkM7O0FBRTNDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxhQUFhOztBQUViOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw2Q0FBNkM7O0FBRTdDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsU0FBUzs7QUFFVDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FB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QTtBQUNBIiwiZmlsZSI6IjguanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBoYXNNYXAgPSBjYW5Vc2VNYXAoKTtcbnZhciBoYXNTeW1ib2wgPSBjYW5Vc2VTeW1ib2woKTtcbnZhciBoYXNDb25zb2xlID0gdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnO1xuXG52YXIgUFJPUF9OQU1FU1BBQ0UgID0gIWhhc1N5bWJvbCA/ICdAQGV2ZW50aXplJyA6IChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFTeW1ib2wuZXZlbnRpemUpIHtcbiAgICAgICAgU3ltYm9sLmV2ZW50aXplID0gU3ltYm9sKCdldmVudGl6ZScpO1xuICAgIH1cbiAgICByZXR1cm4gU3ltYm9sLmV2ZW50aXplO1xufSkoKTtcblxudmFyIENBVENIX0FMTF9FVkVOVCA9ICcqJztcbnZhciBMT0dfTkFNRVNQQUNFICAgPSAnW2V2ZW50aXplLmpzXSc7XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy9cbi8vIGV2ZW50aXplKCBvYmplY3QgKVxuLy9cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5mdW5jdGlvbiBldmVudGl6ZSAobykge1xuXG4gICAgaWYgKG9bUFJPUF9OQU1FU1BBQ0VdKSByZXR1cm4gbztcblxuICAgIHZhciBfZSA9IHtcbiAgICAgICAgbGFzdENhbGxiYWNrSWQgOiAwLFxuICAgICAgICBjYWxsYmFja3MgICAgICA6IHt9LFxuICAgICAgICBib3VuZE9iamVjdHMgICA6IFtdXG4gICAgfTtcblxuICAgIF9lLmNhbGxiYWNrc1tDQVRDSF9BTExfRVZFTlRdID0gW107XG5cbiAgICB2YXIgX2VQdWJsaWMgPSBkZWZpbmVQdWJsaWNQcm9wZXJ0aWVzUk8oe30sIHtcbiAgICAgICAgc2lsZW5jZWQgOiBmYWxzZSxcbiAgICAgICAgb2ZmICAgICAgOiBbXVxuICAgIH0pO1xuXG4gICAgZGVmaW5lSGlkZGVuUHJvcGVydHlSTyhvLCBQUk9QX05BTUVTUEFDRSwgX2VQdWJsaWMpO1xuXG4gICAgaWYgKGV2ZW50aXplLlBSSU9fREVGQVVMVCA9PT0gdW5kZWZpbmVkKSB7XG5cbiAgICAgICAgZGVmaW5lUHVibGljUHJvcGVydGllc1JPKGV2ZW50aXplLCB7XG4gICAgICAgICAgICBQUklPX01BWCAgICAgOiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksXG4gICAgICAgICAgICBQUklPX0EgICAgICAgOiAxMDAwMDAwMDAwLFxuICAgICAgICAgICAgUFJJT19CICAgICAgIDogMTAwMDAwMDAsXG4gICAgICAgICAgICBQUklPX0MgICAgICAgOiAxMDAwMDAsXG4gICAgICAgICAgICBQUklPX0RFRkFVTFQgOiAwLFxuICAgICAgICAgICAgUFJJT19MT1cgICAgIDogLTEwMDAwMCxcbiAgICAgICAgICAgIFBSSU9fTUlOICAgICA6IE51bWJlci5ORUdBVElWRV9JTkZJTklUWVxuICAgICAgICB9KTtcblxuICAgIH1cblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy9cbiAgICAvLyBvYmplY3Qub24oIGV2ZW50TmFtZSwgWyBwcmlvLCBdIGNhbGxiYWNrRnVuYyApXG4gICAgLy8gb2JqZWN0Lm9uKCBldmVudE5hbWUsIFsgcHJpbywgXSBvYmogKVxuICAgIC8vXG4gICAgLy8gb2JqZWN0Lm9uKCBjYWxsYmFja0Z1bmMgKSAgICA9PiBvYmplY3Qub24oICcqJywgY2FsbGJhY2tGdW5jIClcbiAgICAvLyBvYmplY3Qub24oIG9iaiApICAgICAgICAgICAgID0+IG9iamVjdC5vbiggJyonLCBvYmogKVxuICAgIC8vXG4gICAgLy8gb2JqZWN0Lm9uKCBldmVudE5hbWUgKVxuICAgIC8vIG9iamVjdC5vbigpXG4gICAgLy9cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgby5vbiA9IGZ1bmN0aW9uIChldmVudE5hbWUsIHByaW8sIGZuKSB7ICAvLyAtLS0ge3t7XG5cbiAgICAgICAgdmFyIGFyZ3NMZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuXG4gICAgICAgIGlmIChhcmdzTGVuID09PSAwKSB7XG4gICAgICAgICAgICBpZiAoX2VQdWJsaWMuc2lsZW5jZWQpIHtcbiAgICAgICAgICAgICAgICBkZWZpbmVQdWJsaWNQcm9wZXJ0eVJPKF9lUHVibGljLCAnc2lsZW5jZWQnLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgX2VQdWJsaWMub2ZmLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaTtcblxuICAgICAgICBpZiAoYXJnc0xlbiA9PT0gMSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudE5hbWUgPT09ICdzdHJpbmcnKSB7XG5cbiAgICAgICAgICAgICAgICBpID0gX2VQdWJsaWMub2ZmLmluZGV4T2YoZXZlbnROYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAoaSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIF9lUHVibGljLm9mZi5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZXZlbnROYW1lID09PSAnb2JqZWN0JyB8fCB0eXBlb2YgZXZlbnROYW1lID09PSAnZnVuY3Rpb24nKSB7XG5cbiAgICAgICAgICAgICAgICAvLyBhbGlhcyBmb3I6IG9uKCcqJywgbGlzdGVuZXIpXG5cbiAgICAgICAgICAgICAgICBmbiA9IGV2ZW50TmFtZTtcbiAgICAgICAgICAgICAgICBldmVudE5hbWUgPSBDQVRDSF9BTExfRVZFTlQ7XG4gICAgICAgICAgICAgICAgcHJpbyA9IGV2ZW50aXplLlBSSU9fREVGQVVMVDtcblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoaGFzQ29uc29sZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oTE9HX05BTUVTUEFDRSwgJy5vbigpIGNhbGxlZCB3aXRoIGluc3VmZmljaWVudCBhcmd1bWVudHMhJywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFyZ3NMZW4gPT09IDIpIHtcbiAgICAgICAgICAgIGZuID0gcHJpbztcbiAgICAgICAgICAgIHByaW8gPSBldmVudGl6ZS5QUklPX0RFRkFVTFQ7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZXZlbnRpemVDYWxsYmFja3MgPSBfZS5jYWxsYmFja3M7XG4gICAgICAgIHZhciBldmVudExpc3RlbmVyID0gZXZlbnRpemVDYWxsYmFja3NbZXZlbnROYW1lXSB8fCAoZXZlbnRpemVDYWxsYmFja3NbZXZlbnROYW1lXSA9IFtdKTtcbiAgICAgICAgdmFyIGxpc3RlbmVySWQgPSBjcmVhdGVJZCgpO1xuICAgICAgICB2YXIgbGlzdGVuZXIgPSBkZWZpbmVQdWJsaWNQcm9wZXJ0aWVzUk8oe30sIHtcbiAgICAgICAgICAgIGlkICAgICAgICAgOiBsaXN0ZW5lcklkLFxuICAgICAgICAgICAgZm4gICAgICAgICA6IGZuLFxuICAgICAgICAgICAgcHJpbyAgICAgICA6ICh0eXBlb2YgcHJpbyAhPT0gJ251bWJlcicgPyBldmVudGl6ZS5QUklPX0RFRkFVTFQgOiBwcmlvKSxcbiAgICAgICAgICAgIGlzRnVuY3Rpb24gOiAodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZXZlbnRMaXN0ZW5lci5wdXNoKGxpc3RlbmVyKTtcbiAgICAgICAgZXZlbnRMaXN0ZW5lci5zb3J0KHNvcnRMaXN0ZW5lckJ5UHJpbyk7XG5cbiAgICAgICAgcmV0dXJuIGxpc3RlbmVySWQ7XG5cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gY3JlYXRlSWQgKCkge1xuICAgICAgICByZXR1cm4gKytfZS5sYXN0Q2FsbGJhY2tJZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzb3J0TGlzdGVuZXJCeVByaW8gKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGEucHJpbyAhPT0gYi5wcmlvID8gYi5wcmlvIC0gYS5wcmlvIDogYS5pZCAtIGIuaWQ7XG4gICAgfVxuXG4gICAgLy8gLS0tIG9uIH19fVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vXG4gICAgLy8gb2JqZWN0Lm9uY2UoIGV2ZW50TmFtZSwgWyBwcmlvLCBdIGNhbGxiYWNrRnVuYyApXG4gICAgLy8gb2JqZWN0Lm9uY2UoIGV2ZW50TmFtZSwgWyBwcmlvLCBdIG9iaiApXG4gICAgLy9cbiAgICAvLyBvYmplY3Qub25jZSggY2FsbGJhY2tGdW5jICkgICAgICA9PiBvYmplY3Qub25jZSggJyonLCBjYWxsYmFja0Z1bmMgKVxuICAgIC8vIG9iamVjdC5vbmNlKCBvYmogKSAgICAgICAgICAgICAgID0+IG9iamVjdC5vbmNlKCAnKicsIG9iaiApXG4gICAgLy9cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICBvLm9uY2UgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBwcmlvLCBmbikgeyAgLy8gLS0tIHt7e1xuXG4gICAgICAgIHZhciBhcmdzTGVuID0gYXJndW1lbnRzLmxlbmd0aDtcblxuICAgICAgICBpZiAoIWFyZ3NMZW4gfHwgYXJnc0xlbiA+IDMpIHtcbiAgICAgICAgICAgIGlmIChoYXNDb25zb2xlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKExPR19OQU1FU1BBQ0UsICcub25jZSgpIGNhbGxlZCB3aXRoIGluc3VmZmljaWVudCBhcmd1bWVudHMhJywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhcmdzTGVuID09PSAxKSB7XG5cbiAgICAgICAgICAgIGZuID0gZXZlbnROYW1lO1xuICAgICAgICAgICAgZXZlbnROYW1lID0gQ0FUQ0hfQUxMX0VWRU5UO1xuICAgICAgICAgICAgcHJpbyA9IGV2ZW50aXplLlBSSU9fREVGQVVMVDtcblxuICAgICAgICB9IGVsc2UgaWYgKGFyZ3NMZW4gPT09IDIpIHtcblxuICAgICAgICAgICAgZm4gPSBwcmlvO1xuICAgICAgICAgICAgcHJpbyA9IGV2ZW50aXplLlBSSU9fREVGQVVMVDtcblxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGlkID0gby5vbihldmVudE5hbWUsIHByaW8sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciByZXMgPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgby5vZmYoaWQpO1xuICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGlkO1xuXG4gICAgfTtcblxuICAgIC8vIC0tLSBvbmNlIH19fVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvL1xuICAgIC8vIG9iamVjdC5vZmYoIGlkIClcbiAgICAvLyBvYmplY3Qub2ZmKCBjYWxsYmFjayApXG4gICAgLy8gb2JqZWN0Lm9mZiggb2JqIClcbiAgICAvLyBvYmplY3Qub2ZmKCBldmVudE5hbWUgKVxuICAgIC8vIG9iamVjdC5vZmYoKVxuICAgIC8vXG4gICAgLy8gZGVhY3RpdmUgbGlzdGVuZXIgYnkgaWQgb3IgcHJldmlvdXNseSBib3VuZCBvYmplY3Qgb3JcbiAgICAvLyBmdW5jdGlvbiByZWZlcmVuY2Ugb3IgZXZlbnQgbmFtZSBvciBzaWxlbmNlIGFsbCBldmVudHNcbiAgICAvL1xuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICBvLm9mZiA9IGZ1bmN0aW9uIChpZCkgeyAgLy8gLS0ge3t7XG5cbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGlmICghX2VQdWJsaWMuc2lsZW5jZWQpIHtcbiAgICAgICAgICAgICAgICBkZWZpbmVQdWJsaWNQcm9wZXJ0eVJPKF9lUHVibGljLCAnc2lsZW5jZWQnLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBfZVB1YmxpYy5vZmYubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgaWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gYnkgZXZlbnQgbmFtZVxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIGlmIChfZVB1YmxpYy5vZmYuaW5kZXhPZihpZCkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgX2VQdWJsaWMub2ZmLnB1c2goaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGV2ZW50aXplQ2FsbGJhY2tzID0gX2UuY2FsbGJhY2tzO1xuICAgICAgICB2YXIgY2IsIGksIGosIF9jYWxsYmFja3MsIGtleXM7XG4gICAgICAgIHZhciBpc09iamVjdCA9IHR5cGVvZiBpZCA9PT0gJ29iamVjdCc7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ251bWJlcicgfHwgdHlwZW9mIGlkID09PSAnZnVuY3Rpb24nIHx8IGlzT2JqZWN0KSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gYnkgaWQgb3IgZnVuY3Rpb24gcmVmZXJlbmNlXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAga2V5cyA9IE9iamVjdC5rZXlzKGV2ZW50aXplQ2FsbGJhY2tzKTtcbiAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBrZXlzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgX2NhbGxiYWNrcyA9IGV2ZW50aXplQ2FsbGJhY2tzW2tleXNbal1dO1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBfY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNiID0gX2NhbGxiYWNrc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNiLmlkID09PSBpZCB8fCBjYi5mbiA9PT0gaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jYWxsYmFja3Muc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc09iamVjdCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzT2JqZWN0KSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gYnkgYm91bmQgb2JqZWN0IHJlZmVyZW5jZVxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIGkgPSBfZS5ib3VuZE9iamVjdHMuaW5kZXhPZihpZCk7XG4gICAgICAgICAgICBpZiAoIGkgPj0gMCApIHtcbiAgICAgICAgICAgICAgICBfZS5ib3VuZE9iamVjdHMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgLy8gLS0tIG9mZiB9fX1cblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy9cbiAgICAvLyBvYmplY3QuY29ubmVjdCggb2JqIClcbiAgICAvLyBvYmplY3QuY29ubmVjdCggb2JqLCBtYXBwaW5nIClcbiAgICAvL1xuICAgIC8vIEV4YW1wbGU6XG4gICAgLy9cbiAgICAvLyAgIG9iamVjdC5jb25uZWN0KG9wdGlvbnMsIHtcbiAgICAvLyAgICAgICAgb25Qcm9qZWN0aW9uVXBkYXRlZCA6IFsxMDAsICdwcm9qZWN0aW9uVXBkYXRlZCddLFxuICAgIC8vICAgICAgICBvbkZyYW1lICAgICAgICAgICAgIDogJ2ZyYW1lJyxcbiAgICAvLyAgICAgICAgb25GcmFtZUVuZCAgICAgICAgICA6ICdmcmFtZUVuZCdcbiAgICAvLyAgIH0pXG4gICAgLy9cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgby5jb25uZWN0ID0gZnVuY3Rpb24gKG9iaiwgbWFwcGluZykgeyAgLy8gLS0tIHt7e1xuICAgICAgICB2YXIgYXJnc0xlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIGlmIChhcmdzTGVuID09PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gX2JpbmRPYmplY3Qob2JqKTtcbiAgICAgICAgfSBlbHNlIGlmIChhcmdzTGVuID09PSAyKSB7XG4gICAgICAgICAgICByZXR1cm4gX2Nvbm5lY3RXaXRoTWFwcGluZyh0aGlzLCBvYmosIG1hcHBpbmcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGhhc0NvbnNvbGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oTE9HX05BTUVTUEFDRSwgJy5jb25uZWN0KCkgY2FsbGVkIHdpdGggaW5zdWZmaWNpZW50IGFyZ3VtZW50cyEnLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIF9iaW5kT2JqZWN0IChvYmopIHtcblxuICAgICAgICAvLyBUT0RPIGNvbm5lY3Qob2JqKSBzaG91bGQgLi5cbiAgICAgICAgLy8gLSBzdXBwb3J0IHByaW9yaXR5XG4gICAgICAgIC8vIC0gc3VwcG9ydCBmaWx0ZXJzPyAodmlhIG9ubHksIGV4Y2VwdCBvcHRpb25zKVxuICAgICAgICAvLyAtIHN1cHBvcnQgc2VuZGVyQ29udGV4dEFyZ3VtZW50PzogJ3ByZXBlbmQnfCdhcHBlbmQnfGZhbHNlXG5cbiAgICAgICAgaWYgKCFvYmopIHJldHVybjtcbiAgICAgICAgdmFyIGkgPSBfZS5ib3VuZE9iamVjdHMuaW5kZXhPZihvYmopO1xuICAgICAgICBpZiAoaSA9PT0gLTEpIHtcbiAgICAgICAgICAgIF9lLmJvdW5kT2JqZWN0cy5wdXNoKG9iaik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iajtcblxuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9jb25uZWN0V2l0aE1hcHBpbmcgKG9iaiwgb3B0aW9ucywgbGlzdGVuZXJNYXApIHtcblxuICAgICAgICB2YXIgZXZlbnROYW1lLCBsaXN0ZW5OYW1lLCBsaXN0ZW5GdW5jLCBwcmlvO1xuXG4gICAgICAgIGZvciAobGlzdGVuTmFtZSBpbiBsaXN0ZW5lck1hcCkge1xuICAgICAgICAgICAgaWYgKGxpc3RlbmVyTWFwLmhhc093blByb3BlcnR5KGxpc3Rlbk5hbWUpKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuRnVuYyA9IG9wdGlvbnNbbGlzdGVuTmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5GdW5jID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50TmFtZSA9IGxpc3RlbmVyTWFwW2xpc3Rlbk5hbWVdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShldmVudE5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmlvID0gZXZlbnROYW1lWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnROYW1lID0gZXZlbnROYW1lWzFdO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJpbyA9IGV2ZW50aXplLlBSSU9fREVGQVVMVDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBvYmoub24oZXZlbnROYW1lLCBwcmlvLCBsaXN0ZW5GdW5jKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gb2JqO1xuXG4gICAgfVxuXG4gICAgLy8gLS0tIGNvbm5lY3QgfX19XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vXG4gICAgLy8gb2JqZWN0LmVtaXQoIGV2ZW50TmFtZSBbLCBhcmd1bWVudHMgLi4gXSApXG4gICAgLy9cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgby5lbWl0ID0gZnVuY3Rpb24gKCkgeyAgLy8gLS0tIHt7e1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9wZXRrYWFudG9ub3YvYmx1ZWJpcmQvd2lraS9PcHRpbWl6YXRpb24ta2lsbGVycyMzLW1hbmFnaW5nLWFyZ3VtZW50c1xuICAgICAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGV2ZW50TmFtZTtcbiAgICAgICAgdmFyIHNlbmRlckN0eCA9IHRoaXM7XG4gICAgICAgIHZhciByb290Q3R4O1xuICAgICAgICB2YXIgYXJnc0N0eDtcblxuICAgICAgICBpZiAoYXJncy5sZW5ndGggPiAxICYmIHR5cGVvZiBhcmdzWzBdICE9PSAnc3RyaW5nJyAmJiB0eXBlb2YgYXJnc1sxXSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJvb3RDdHggPSBhcmdzLnNoaWZ0KCk7XG4gICAgICAgICAgICBldmVudE5hbWUgPSBhcmdzLnNoaWZ0KCk7XG4gICAgICAgICAgICBhcmdzW2FyZ3MubGVuZ3RoIC0gMV0gPSByb290Q3R4O1xuICAgICAgICAgICAgYXJnc0N0eCA9IGFyZ3M7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBldmVudE5hbWUgPSBhcmdzLnNoaWZ0KCk7ICAvLyB0aHJvdyBvdXQgZXZlbnROYW1lXG4gICAgICAgICAgICBhcmdzQ3R4ID0gYXJncy5jb25jYXQoW3NlbmRlckN0eF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgX2Rpc3BhdGNoKGV2ZW50TmFtZSwgZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG5cbiAgICAgICAgICAgIGlmIChsaXN0ZW5lci5pc0Z1bmN0aW9uKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIuZm4uYXBwbHkoc2VuZGVyQ3R4LCBhcmdzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIGZuID0gbGlzdGVuZXIuZm5bZXZlbnROYW1lXTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIGZuLmFwcGx5KGxpc3RlbmVyLmZuLCBhcmdzQ3R4KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxpc3RlbmVyLmZuW1BST1BfTkFNRVNQQUNFXSkge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lci5mbi5lbWl0LmFwcGx5KGxpc3RlbmVyLmZuLCBbZXZlbnROYW1lXS5jb25jYXQoYXJncykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LCBmdW5jdGlvbiAoZm4sIGJvdW5kT2JqKSB7XG5cbiAgICAgICAgICAgIGlmIChmbikge1xuICAgICAgICAgICAgICAgIGZuLmFwcGx5KGJvdW5kT2JqLCBhcmdzQ3R4KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYm91bmRPYmouZW1pdC5hcHBseShib3VuZE9iaiwgW3NlbmRlckN0eCwgZXZlbnROYW1lXS5jb25jYXQoYXJnc0N0eCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pO1xuXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2Rpc3BhdGNoIChldmVudE5hbWUsIGVtaXRMaXN0ZW5lciwgZW1pdEJvdW5kT2JqZWN0KSB7XG5cbiAgICAgICAgaWYgKF9lUHVibGljLnNpbGVuY2VkKSByZXR1cm47XG4gICAgICAgIGlmIChfZVB1YmxpYy5vZmYuaW5kZXhPZihldmVudE5hbWUpID49IDApIHJldHVybjtcblxuICAgICAgICB2YXIgbGlzdGVuZXJzICAgICAgICAgICAgICA9IF9lLmNhbGxiYWNrc1tldmVudE5hbWVdO1xuICAgICAgICB2YXIgY2F0Y2hBbGxMaXN0ZW5lcnMgICAgICA9IF9lLmNhbGxiYWNrc1tDQVRDSF9BTExfRVZFTlRdO1xuICAgICAgICB2YXIgYm91bmRPYmpzQ291bnQgICAgICAgICA9IF9lLmJvdW5kT2JqZWN0cy5sZW5ndGg7XG4gICAgICAgIHZhciBoYXNCb3VuZE9iamVjdHNFbWl0dGVkID0gZmFsc2U7XG5cbiAgICAgICAgZnVuY3Rpb24gX2VtaXRCb3VuZE9iamVjdHMgKCkge1xuICAgICAgICAgICAgdmFyIGosIGJvLCBmbjtcbiAgICAgICAgICAgIGlmIChib3VuZE9ianNDb3VudCkge1xuICAgICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBib3VuZE9ianNDb3VudDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvID0gX2UuYm91bmRPYmplY3RzW2pdO1xuICAgICAgICAgICAgICAgICAgICBmbiA9IGJvW2V2ZW50TmFtZV07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtaXRCb3VuZE9iamVjdChmbiwgYm8pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGJvW1BST1BfTkFNRVNQQUNFXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW1pdEJvdW5kT2JqZWN0KG51bGwsIGJvKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpLCBsZW4sIGxpc3RlbjtcblxuICAgICAgICBpZiAobGlzdGVuZXJzIHx8IGNhdGNoQWxsTGlzdGVuZXJzLmxlbmd0aCkge1xuXG4gICAgICAgICAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMgPyBsaXN0ZW5lcnMuY29uY2F0KGNhdGNoQWxsTGlzdGVuZXJzKSA6IGNhdGNoQWxsTGlzdGVuZXJzO1xuICAgICAgICAgICAgbGVuID0gbGlzdGVuZXJzLmxlbmd0aDtcblxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuID0gbGlzdGVuZXJzW2ldO1xuICAgICAgICAgICAgICAgIGlmICghaGFzQm91bmRPYmplY3RzRW1pdHRlZCAmJiBsaXN0ZW4gJiYgbGlzdGVuLnByaW8gPCBldmVudGl6ZS5QUklPX0RFRkFVTFQpIHtcbiAgICAgICAgICAgICAgICAgICAgX2VtaXRCb3VuZE9iamVjdHMoKTtcbiAgICAgICAgICAgICAgICAgICAgaGFzQm91bmRPYmplY3RzRW1pdHRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVtaXRMaXN0ZW5lcihsaXN0ZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFoYXNCb3VuZE9iamVjdHNFbWl0dGVkKSBfZW1pdEJvdW5kT2JqZWN0cygpO1xuXG4gICAgfVxuXG4gICAgLy8gLS0tIGVtaXQgfX19XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vXG4gICAgLy8gb2JqZWN0LmVtaXRSZWR1Y2UoIGV2ZW50TmFtZSBbLCB2YWx1ZT0ge30gXSBbLCBhcmd1bWVudHMgLi4gXSApXG4gICAgLy9cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgby5lbWl0UmVkdWNlID0gZnVuY3Rpb24gKCkgeyAgLy8gLS0tIHt7e1xuXG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZXZlbnROYW1lID0gYXJncy5zaGlmdCgpO1xuICAgICAgICB2YXIgdmFsdWU7XG5cbiAgICAgICAgZnVuY3Rpb24gc2V0VmFsdWUgKHZhbCkge1xuICAgICAgICAgICAgaWYgKHZhbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHZhbHVlID0ge307XG4gICAgICAgICAgICBhcmdzLnB1c2godmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0VmFsdWUoYXJnc1swXSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY3R4ID0gdGhpcztcbiAgICAgICAgdmFyIGFyZ3NXaXRoRXZlbnROYW1lID0gW2V2ZW50TmFtZV0uY29uY2F0KGFyZ3MpO1xuICAgICAgICB2YXIgYXJnc0N0eCA9IGFyZ3MuY29uY2F0KFtjdHhdKTtcblxuICAgICAgICBfZGlzcGF0Y2goZXZlbnROYW1lLCBmdW5jdGlvbiAobGlzdGVuZXIpIHtcblxuICAgICAgICAgICAgaWYgKGxpc3RlbmVyLmlzRnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBhcmdzWzBdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgc2V0VmFsdWUobGlzdGVuZXIuZm4uYXBwbHkoY3R4LCBhcmdzKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBmbiA9IGxpc3RlbmVyLmZuW2V2ZW50TmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBhcmdzQ3R4WzBdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHNldFZhbHVlKGZuLmFwcGx5KGxpc3RlbmVyLmZuLCBhcmdzQ3R4KSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsaXN0ZW5lci5mbltQUk9QX05BTUVTUEFDRV0pIHtcbiAgICAgICAgICAgICAgICAgICAgYXJnc1dpdGhFdmVudE5hbWVbMV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgc2V0VmFsdWUobGlzdGVuZXIuZm4uZW1pdFJlZHVjZS5hcHBseShsaXN0ZW5lci5mbiwgYXJnc1dpdGhFdmVudE5hbWUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSwgZnVuY3Rpb24gKGZuLCBib3VuZE9iaikge1xuXG4gICAgICAgICAgICBpZiAoZm4pIHtcbiAgICAgICAgICAgICAgICBhcmdzQ3R4WzBdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgc2V0VmFsdWUoZm4uYXBwbHkoYm91bmRPYmosIGFyZ3NDdHgpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdmFsdWU7XG5cbiAgICB9O1xuXG4gICAgLy8gLS0tIGVtaXQgfX19XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vXG4gICAgLy8gb2JqZWN0LmZyb20oIGV2ZW50TmFtZSwgT2JzZXJ2YWJsZSApXG4gICAgLy9cbiAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtb2JzZXJ2YWJsZVxuICAgIC8vXG4gICAgLy8gRXhhbXBsZTpcbiAgICAvL1xuICAgIC8vICAgICAgb2JqZWN0XG4gICAgLy8gICAgICAgICAgLmZyb20oJ2ZvbycsIFJ4Lk9ic2VydmFibGUpXG4gICAgLy8gICAgICAgICAgLmZpbHRlcih4ID0+IHggJSAyID09PSAwKVxuICAgIC8vICAgICAgICAgIC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gICAgLy9cbiAgICAvL1xuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICBvLmZyb20gPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBvYnNlcnZhYmxlKSB7ICAvLyAtLS0ge3t7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgcmV0dXJuIG5ldyBvYnNlcnZhYmxlKGZ1bmN0aW9uIChvYnNlcnZlcikge1xuXG4gICAgICAgICAgICB2YXIgaWQgPSBzZWxmLm9uKGV2ZW50TmFtZSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5uZXh0KGRhdGEpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5vZmYoaWQpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLy8gLS0tIGZyb20gfX19XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vXG4gICAgLy8gb2JqZWN0LnN1YnNjcmliZSggT2JzZXJ2YWJsZSwgb25OZXh0Wywgb25FcnJvcl1bLCBvbkNvbXBsZXRlXSApXG4gICAgLy9cbiAgICAvLyBFeGFtcGxlOlxuICAgIC8vXG4gICAgLy8gICAgICBvYmplY3Quc3Vic2NyaWJlKGEsICd2YWx1ZScsICdlcnJvcicpOyAgIC8vIGEgPT4gT2JzZXJ2YWJsZVxuICAgIC8vXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIG8uc3Vic2NyaWJlID0gZnVuY3Rpb24gKHNvdXJjZSwgb25OZXh0LCBvbkVycm9yLCBvbkNvbXBsZXRlKSB7ICAvLyAtLS0ge3t7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBzZWxmLmVtaXQob25OZXh0LCB2YWx1ZSk7XG4gICAgICAgIH0sIG9uRXJyb3IgPyBmdW5jdGlvbiAoZXJyb3JWYWx1ZSkge1xuICAgICAgICAgICAgc2VsZi5lbWl0KG9uRXJyb3IsIGVycm9yVmFsdWUpO1xuICAgICAgICB9IDogdW5kZWZpbmVkLCBvbkNvbXBsZXRlID8gZnVuY3Rpb24gKGNvbXBsZXRlVmFsdWUpIHtcbiAgICAgICAgICAgIHNlbGYuZW1pdChvbkNvbXBsZXRlLCBjb21wbGV0ZVZhbHVlKTtcbiAgICAgICAgfSA6IHVuZGVmaW5lZCk7XG4gICAgfTtcblxuICAgIC8vIC0tLSBzdWJzY3JpYmUgfX19XG5cbiAgICByZXR1cm4gbztcblxufSAvLyA8PSBldmVudGl6ZSgpXG5cblxuZXZlbnRpemUuaXMgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuICEhKCBvYmogJiYgb2JqW1BST1BfTkFNRVNQQUNFXSApO1xufTtcblxuXG5kZWZpbmVIaWRkZW5Qcm9wZXJ0eVJPKCBldmVudGl6ZSxcbiAgICAnRXZlbnRpemVOYW1lc3BhY2UnLCBQUk9QX05BTUVTUEFDRSk7XG5cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vXG4vLyBldmVudGl6ZS5xdWV1ZShbIHF1ZXVlSWQgXVssIG9wdGlvbnNdKSA6IHF1ZXVlXG4vL1xuLy8gb3B0aW9ucyBhcmU6XG4vLyAgICAtIHJlcGxhY2U6IHRydWV8ZmFsc2UgIC0gcmVwbGFjZSBwcmV2aW91cyBldmVudHMgd2l0aCBzYW1lIG5hbWVcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVuIHF1ZXVlIGlzIGluIGNvbGxlY3Rpb24gbW9kZVxuLy9cbi8vIHF1ZXVlLnBsYXkoKSAgICAgICAgICAgICAgLSBhY3RpdmF0ZSBwbGF5IChpbW1lZGlhdGVseSBlbWl0KSBtb2RlXG4vLyBxdWV1ZS5jb2xsZWN0KCkgICAgICAgICAgIC0gYWN0aXZhdGUgY29sbGVjdGlvbiAoc3RvcmUgYWxsIGV2ZW50cykgbW9kZVxuLy8gcXVldWUudG9nZ2xlKCkgICAgICAgICAgICAtIHRvZ2dsZSBzdGF0ZVxuLy8gcXVldWUuc3RhdGUgICAgICAgICAgICAgICAtICdwbGF5J3wnY29sbGVjdCdcbi8vXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5kZWZpbmVIaWRkZW5Qcm9wZXJ0eVJPKGV2ZW50aXplLCAncXVldWVzJywgaGFzTWFwID8gbmV3IE1hcCA6IHt9KTtcblxuZXZlbnRpemUucXVldWUgPSBmdW5jdGlvbiAoaWQvKiwgb3B0aW9ucyAqLykge1xuXG4gICAgdmFyIHF1ZXVlLCBvcHRpb25zO1xuICAgIHZhciBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuXG4gICAgaWYgKGxlbiA+PSAxKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaWQgIT09ICdvYmplY3QnIHx8IGxlbiA9PT0gMikge1xuICAgICAgICAgICAgcXVldWUgPSBoYXNNYXAgPyBldmVudGl6ZS5xdWV1ZXMuZ2V0KGlkKSA6IGV2ZW50aXplLnF1ZXVlc1tpZF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxlbiA9PT0gMikge1xuICAgICAgICAgICAgb3B0aW9ucyA9IGFyZ3VtZW50c1sxXTtcbiAgICAgICAgfSBlbHNlIGlmIChsZW4gPT09IDEgJiYgdHlwZW9mIGlkID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgb3B0aW9ucyA9IGlkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFxdWV1ZSkge1xuICAgICAgICBxdWV1ZSA9IGNyZWF0ZVF1ZXVlKGlkLCBvcHRpb25zKTtcbiAgICAgICAgaWYgKGhhc01hcCkge1xuICAgICAgICAgICAgZXZlbnRpemUucXVldWVzLnNldChxdWV1ZS5pZCwgcXVldWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZXZlbnRpemUucXVldWVzW3F1ZXVlLmlkXSA9IHF1ZXVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHF1ZXVlO1xuXG59O1xuXG5cbnZhciBTVEFURSA9ICdzdGF0ZSc7XG52YXIgUExBWSA9ICdwbGF5JztcbnZhciBDT0xMRUNUID0gJ2NvbGxlY3QnO1xuXG5mdW5jdGlvbiBjcmVhdGVRdWV1ZSAoaWQsIG9wdGlvbnMpIHtcblxuICAgIHZhciBxdWV1ZUlkID0gKCh0eXBlb2YgaWQgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBpZCA9PT0gJ3N5bWJvbCcpICYmIGlkKSB8fCBjcmVhdGVVdWlkKCk7XG4gICAgdmFyIHF1ZXVlID0gZXZlbnRpemUoe30pO1xuICAgIHZhciBpc1JlcGxhY2UgPSAhIShvcHRpb25zICYmIG9wdGlvbnMucmVwbGFjZSk7XG5cbiAgICB2YXIgc2V0U3RhdGUgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgZGVmaW5lUHVibGljUHJvcGVydHlSTyhxdWV1ZSwgU1RBVEUsIHN0YXRlKTtcbiAgICB9O1xuXG4gICAgdmFyIGVtaXQgPSAoZnVuY3Rpb24gKF9lbWl0KSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgICAgIF9lbWl0LmFwcGx5KHF1ZXVlLCBhcmdzKTtcbiAgICAgICAgfTtcbiAgICB9KShxdWV1ZS5lbWl0KTtcblxuICAgIGRlZmluZUhpZGRlblByb3BlcnR5Uk8ocXVldWUsICdldmVudHMnLCBbXSk7XG4gICAgZGVmaW5lUHVibGljUHJvcGVydHlSTyhxdWV1ZSwgJ2lkJywgcXVldWVJZCk7XG5cbiAgICBxdWV1ZS5jb2xsZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAocXVldWVbU1RBVEVdICE9PSBDT0xMRUNUKSB7XG4gICAgICAgICAgICBzZXRTdGF0ZShDT0xMRUNUKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcXVldWU7XG4gICAgfTtcblxuICAgIHF1ZXVlLmVtaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpO1xuICAgICAgICB2YXIgaTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHF1ZXVlW1NUQVRFXSA9PT0gUExBWSkge1xuICAgICAgICAgICAgZW1pdChhcmdzKTtcbiAgICAgICAgfSBlbHNlIHsgIC8vIENPTExFQ1RcbiAgICAgICAgICAgIGlmIChpc1JlcGxhY2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgbGVuLCBldmVudE5hbWUgPSBhcmdzWzBdO1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDAsIGxlbiA9IHF1ZXVlLmV2ZW50cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocXVldWUuZXZlbnRzW2ldWzBdID09PSBldmVudE5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXVlLmV2ZW50c1tpXSA9IGFyZ3M7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBxdWV1ZS5ldmVudHMucHVzaChhcmdzKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBxdWV1ZS5wbGF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAocXVldWVbU1RBVEVdICE9PSBQTEFZKSB7XG4gICAgICAgICAgICBzZXRTdGF0ZShQTEFZKTtcbiAgICAgICAgICAgIHF1ZXVlLmV2ZW50cy5mb3JFYWNoKGVtaXQpO1xuICAgICAgICAgICAgcXVldWUuZXZlbnRzLmxlbmd0aCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHF1ZXVlO1xuICAgIH07XG5cbiAgICBxdWV1ZS50b2dnbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBxdWV1ZVtTVEFURV0gIT09IFBMQVkgPyBxdWV1ZS5wbGF5KCkgOiBxdWV1ZS5jb2xsZWN0KCk7XG4gICAgfTtcblxuICAgIHJldHVybiBxdWV1ZS5wbGF5KCk7XG5cbn1cblxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vXG4vLyBoZWxwZXIgZnVuY3Rpb25zXG4vL1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cblxuZnVuY3Rpb24gY3JlYXRlVXVpZCAoKSB7XG4gICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMDUwMzQvY3JlYXRlLWd1aWQtdXVpZC1pbi1qYXZhc2NyaXB0XG4gICAgdmFyIHV1aWQgPSAneHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Jy5yZXBsYWNlKC9beHldL2csIGZ1bmN0aW9uIChjKSB7XG4gICAgICAgIHZhciByID0gTWF0aC5yYW5kb20oKSoxNnwwLCB2ID0gYyA9PSAneCcgPyByIDogKHImMHgzfDB4OCk7XG4gICAgICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcbiAgICB9KTtcbiAgICByZXR1cm4gaGFzU3ltYm9sID8gU3ltYm9sKHV1aWQpIDogdXVpZDtcbn1cblxuZnVuY3Rpb24gY2FuVXNlU3ltYm9sICgpIHtcbiAgICByZXR1cm4gdHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCc7XG59XG5cbmZ1bmN0aW9uIGNhblVzZU1hcCAoKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBNYXAgIT09ICd1bmRlZmluZWQnO1xufVxuXG5mdW5jdGlvbiBkZWZpbmVQdWJsaWNQcm9wZXJ0eVJPIChvYmosIG5hbWUsIHZhbHVlKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgbmFtZSwge1xuICAgICAgICB2YWx1ZSAgICAgICAgOiB2YWx1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlIDogdHJ1ZSxcbiAgICAgICAgZW51bWVyYWJsZSAgIDogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBvYmo7XG59XG5cbmZ1bmN0aW9uIGRlZmluZVB1YmxpY1Byb3BlcnRpZXNSTyAob2JqLCBhdHRycykge1xuICAgIHZhciBpLCBrZXlzID0gT2JqZWN0LmtleXMoYXR0cnMpO1xuICAgIGZvciAoaSA9IGtleXMubGVuZ3RoOyBpLS07KSB7XG4gICAgICAgIGRlZmluZVB1YmxpY1Byb3BlcnR5Uk8ob2JqLCBrZXlzW2ldLCBhdHRyc1trZXlzW2ldXSk7XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG59XG5cbmZ1bmN0aW9uIGRlZmluZUhpZGRlblByb3BlcnR5Uk8gKG9iaiwgbmFtZSwgdmFsdWUpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBuYW1lLCB7XG4gICAgICAgIHZhbHVlICAgICAgICA6IHZhbHVlLFxuICAgICAgICBjb25maWd1cmFibGUgOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIG9iajtcbn1cblxuXG4vLyAtLS0gZW5kXG4vL1xubW9kdWxlLmV4cG9ydHMgPSBldmVudGl6ZTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9Ac3BlYXJ3b2xmL2V2ZW50aXplL3NyYy9ldmVudGl6ZS5qc1xuLy8gbW9kdWxlIGlkID0gOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 9 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * Group of shader variables.\n */\nclass ShaderVariableGroup {\n  /**\n  * @param {Array<ShaderVariable|ShaderVariableAlias>} shaderVars\n   */\n  constructor(shaderVars) {\n    this.shaderVars = shaderVars;\n  }\n\n  pushVar(shaderContext) {\n    this.shaderVars.forEach(shaderContext.pushVar.bind(shaderContext));\n  }\n\n  popVar(shaderContext) {\n    this.shaderVars.forEach(shaderContext.popVar.bind(shaderContext));\n  }\n}\nexports.default = ShaderVariableGroup;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9zaGFkZXJfdmFyaWFibGVfZ3JvdXAuanM/ZGIxYSJdLCJuYW1lcyI6WyJTaGFkZXJWYXJpYWJsZUdyb3VwIiwiY29uc3RydWN0b3IiLCJzaGFkZXJWYXJzIiwicHVzaFZhciIsInNoYWRlckNvbnRleHQiLCJmb3JFYWNoIiwiYmluZCIsInBvcFZhciJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ0E7OztBQUdlLE1BQU1BLG1CQUFOLENBQTBCO0FBQ3ZDOzs7QUFHQUMsY0FBYUMsVUFBYixFQUF5QjtBQUN2QixTQUFLQSxVQUFMLEdBQWtCQSxVQUFsQjtBQUNEOztBQUVEQyxVQUFTQyxhQUFULEVBQXdCO0FBQ3RCLFNBQUtGLFVBQUwsQ0FBZ0JHLE9BQWhCLENBQXdCRCxjQUFjRCxPQUFkLENBQXNCRyxJQUF0QixDQUEyQkYsYUFBM0IsQ0FBeEI7QUFDRDs7QUFFREcsU0FBUUgsYUFBUixFQUF1QjtBQUNyQixTQUFLRixVQUFMLENBQWdCRyxPQUFoQixDQUF3QkQsY0FBY0csTUFBZCxDQUFxQkQsSUFBckIsQ0FBMEJGLGFBQTFCLENBQXhCO0FBQ0Q7QUFkc0M7a0JBQXBCSixtQiIsImZpbGUiOiI5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG4vKipcbiAqIEdyb3VwIG9mIHNoYWRlciB2YXJpYWJsZXMuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNoYWRlclZhcmlhYmxlR3JvdXAge1xuICAvKipcbiAgKiBAcGFyYW0ge0FycmF5PFNoYWRlclZhcmlhYmxlfFNoYWRlclZhcmlhYmxlQWxpYXM+fSBzaGFkZXJWYXJzXG4gICAqL1xuICBjb25zdHJ1Y3RvciAoc2hhZGVyVmFycykge1xuICAgIHRoaXMuc2hhZGVyVmFycyA9IHNoYWRlclZhcnNcbiAgfVxuXG4gIHB1c2hWYXIgKHNoYWRlckNvbnRleHQpIHtcbiAgICB0aGlzLnNoYWRlclZhcnMuZm9yRWFjaChzaGFkZXJDb250ZXh0LnB1c2hWYXIuYmluZChzaGFkZXJDb250ZXh0KSlcbiAgfVxuXG4gIHBvcFZhciAoc2hhZGVyQ29udGV4dCkge1xuICAgIHRoaXMuc2hhZGVyVmFycy5mb3JFYWNoKHNoYWRlckNvbnRleHQucG9wVmFyLmJpbmQoc2hhZGVyQ29udGV4dCkpXG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb3JlL3NoYWRlcl92YXJpYWJsZV9ncm91cC5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _generate_uuid = __webpack_require__(0);\n\nvar _generate_uuid2 = _interopRequireDefault(_generate_uuid);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass GpuProgram {\n  /**\n   * @param {ShaderSource} vertexShader\n   * @param {ShaderSource} fragmentShader\n   */\n  constructor(vertexShader, fragmentShader) {\n    /**\n     * @type {string}\n     */\n    this.id = (0, _generate_uuid2.default)();\n\n    /**\n     * @type {ShaderSource}\n     */\n    this.vertexShader = vertexShader;\n\n    /**\n     * @type {ShaderSource}\n     */\n    this.fragmentShader = fragmentShader;\n  }\n}\nexports.default = GpuProgram;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9zaGFkZXJfcHJvZ3JhbS5qcz9jMGQzIl0sIm5hbWVzIjpbIkdwdVByb2dyYW0iLCJjb25zdHJ1Y3RvciIsInZlcnRleFNoYWRlciIsImZyYWdtZW50U2hhZGVyIiwiaWQiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7Ozs7QUFFZSxNQUFNQSxVQUFOLENBQWlCO0FBQzlCOzs7O0FBSUFDLGNBQWFDLFlBQWIsRUFBMkJDLGNBQTNCLEVBQTJDO0FBQ3pDOzs7QUFHQSxTQUFLQyxFQUFMLEdBQVUsOEJBQVY7O0FBRUE7OztBQUdBLFNBQUtGLFlBQUwsR0FBb0JBLFlBQXBCOztBQUVBOzs7QUFHQSxTQUFLQyxjQUFMLEdBQXNCQSxjQUF0QjtBQUNEO0FBcEI2QjtrQkFBWEgsVSIsImZpbGUiOiIxMC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBnZW5lcmF0ZVVVSUQgZnJvbSAnLi4vdXRpbHMvZ2VuZXJhdGVfdXVpZCdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR3B1UHJvZ3JhbSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge1NoYWRlclNvdXJjZX0gdmVydGV4U2hhZGVyXG4gICAqIEBwYXJhbSB7U2hhZGVyU291cmNlfSBmcmFnbWVudFNoYWRlclxuICAgKi9cbiAgY29uc3RydWN0b3IgKHZlcnRleFNoYWRlciwgZnJhZ21lbnRTaGFkZXIpIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMuaWQgPSBnZW5lcmF0ZVVVSUQoKVxuXG4gICAgLyoqXG4gICAgICogQHR5cGUge1NoYWRlclNvdXJjZX1cbiAgICAgKi9cbiAgICB0aGlzLnZlcnRleFNoYWRlciA9IHZlcnRleFNoYWRlclxuXG4gICAgLyoqXG4gICAgICogQHR5cGUge1NoYWRlclNvdXJjZX1cbiAgICAgKi9cbiAgICB0aGlzLmZyYWdtZW50U2hhZGVyID0gZnJhZ21lbnRTaGFkZXJcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvcmUvc2hhZGVyX3Byb2dyYW0uanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _shader_variable = __webpack_require__(2);\n\nvar _shader_variable2 = _interopRequireDefault(_shader_variable);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Shader uniform variable.\n */\nclass ShaderUniformVariable extends _shader_variable2.default {\n  /**\n   * @param {string} name\n   * @param {number|Object} value\n   */\n  constructor(name, value) {\n    super(name, _shader_variable2.default.TYPE.UNIFORM, value);\n  }\n}\nexports.default = ShaderUniformVariable;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9zaGFkZXJfdW5pZm9ybV92YXJpYWJsZS5qcz9mNzNiIl0sIm5hbWVzIjpbIlNoYWRlclVuaWZvcm1WYXJpYWJsZSIsImNvbnN0cnVjdG9yIiwibmFtZSIsInZhbHVlIiwiVFlQRSIsIlVOSUZPUk0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7Ozs7QUFFQTs7O0FBR2UsTUFBTUEscUJBQU4sbUNBQW1EO0FBQ2hFOzs7O0FBSUFDLGNBQWFDLElBQWIsRUFBbUJDLEtBQW5CLEVBQTBCO0FBQ3hCLFVBQU1ELElBQU4sRUFBWSwwQkFBZUUsSUFBZixDQUFvQkMsT0FBaEMsRUFBeUNGLEtBQXpDO0FBQ0Q7QUFQK0Q7a0JBQTdDSCxxQiIsImZpbGUiOiIxMS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTaGFkZXJWYXJpYWJsZSBmcm9tICcuL3NoYWRlcl92YXJpYWJsZSdcblxuLyoqXG4gKiBTaGFkZXIgdW5pZm9ybSB2YXJpYWJsZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2hhZGVyVW5pZm9ybVZhcmlhYmxlIGV4dGVuZHMgU2hhZGVyVmFyaWFibGUge1xuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICogQHBhcmFtIHtudW1iZXJ8T2JqZWN0fSB2YWx1ZVxuICAgKi9cbiAgY29uc3RydWN0b3IgKG5hbWUsIHZhbHVlKSB7XG4gICAgc3VwZXIobmFtZSwgU2hhZGVyVmFyaWFibGUuVFlQRS5VTklGT1JNLCB2YWx1ZSlcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvcmUvc2hhZGVyX3VuaWZvcm1fdmFyaWFibGUuanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _shader_variable_group = __webpack_require__(9);\n\nvar _shader_variable_group2 = _interopRequireDefault(_shader_variable_group);\n\nvar _shader_attrib_variable = __webpack_require__(17);\n\nvar _shader_attrib_variable2 = _interopRequireDefault(_shader_attrib_variable);\n\nvar _shader_attrib_value = __webpack_require__(16);\n\nvar _shader_attrib_value2 = _interopRequireDefault(_shader_attrib_value);\n\nvar _shader_variable_alias = __webpack_require__(19);\n\nvar _shader_variable_alias2 = _interopRequireDefault(_shader_variable_alias);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Group of shader variables which are referencing one single buffer.\n */\nclass ShaderVariableBufferGroup extends _shader_variable_group2.default {\n  /**\n   * @param {VOPool} bufferSource\n   */\n  constructor(bufferSource) {\n    super([]);\n    const descriptor = bufferSource.descriptor;\n    let firstVar;\n    Object.keys(descriptor.attr).forEach(attrName => {\n      if (!firstVar) {\n        firstVar = new _shader_attrib_variable2.default(attrName, new _shader_attrib_value2.default(attrName, descriptor, bufferSource));\n        this.shaderVars.push(firstVar);\n      } else {\n        this.shaderVars.push(new _shader_variable_alias2.default(attrName, firstVar));\n      }\n    });\n  }\n\n  get bufferSource() {\n    return this.shaderVars[0].value.bufferSource;\n  }\n\n  get serial() {\n    return this.shaderVars[0].serial;\n  }\n\n  touch() {\n    return this.shaderVars[0].touch();\n  }\n}\nexports.default = ShaderVariableBufferGroup;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9zaGFkZXJfdmFyaWFibGVfYnVmZmVyX2dyb3VwLmpzP2U2NDIiXSwibmFtZXMiOlsiU2hhZGVyVmFyaWFibGVCdWZmZXJHcm91cCIsImNvbnN0cnVjdG9yIiwiYnVmZmVyU291cmNlIiwiZGVzY3JpcHRvciIsImZpcnN0VmFyIiwiT2JqZWN0Iiwia2V5cyIsImF0dHIiLCJmb3JFYWNoIiwiYXR0ck5hbWUiLCJzaGFkZXJWYXJzIiwicHVzaCIsInZhbHVlIiwic2VyaWFsIiwidG91Y2giXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7QUFFQTs7O0FBR2UsTUFBTUEseUJBQU4seUNBQTREO0FBQ3pFOzs7QUFHQUMsY0FBYUMsWUFBYixFQUEyQjtBQUN6QixVQUFNLEVBQU47QUFDQSxVQUFNQyxhQUFhRCxhQUFhQyxVQUFoQztBQUNBLFFBQUlDLFFBQUo7QUFDQUMsV0FBT0MsSUFBUCxDQUFZSCxXQUFXSSxJQUF2QixFQUE2QkMsT0FBN0IsQ0FBcUNDLFlBQVk7QUFDL0MsVUFBSSxDQUFDTCxRQUFMLEVBQWU7QUFDYkEsbUJBQVcscUNBQ1RLLFFBRFMsRUFFVCxrQ0FDRUEsUUFERixFQUVFTixVQUZGLEVBR0VELFlBSEYsQ0FGUyxDQUFYO0FBT0EsYUFBS1EsVUFBTCxDQUFnQkMsSUFBaEIsQ0FBcUJQLFFBQXJCO0FBQ0QsT0FURCxNQVNPO0FBQ0wsYUFBS00sVUFBTCxDQUFnQkMsSUFBaEIsQ0FBcUIsb0NBQXdCRixRQUF4QixFQUFrQ0wsUUFBbEMsQ0FBckI7QUFDRDtBQUNGLEtBYkQ7QUFjRDs7QUFFRCxNQUFJRixZQUFKLEdBQW9CO0FBQ2xCLFdBQU8sS0FBS1EsVUFBTCxDQUFnQixDQUFoQixFQUFtQkUsS0FBbkIsQ0FBeUJWLFlBQWhDO0FBQ0Q7O0FBRUQsTUFBSVcsTUFBSixHQUFjO0FBQ1osV0FBTyxLQUFLSCxVQUFMLENBQWdCLENBQWhCLEVBQW1CRyxNQUExQjtBQUNEOztBQUVEQyxVQUFTO0FBQ1AsV0FBTyxLQUFLSixVQUFMLENBQWdCLENBQWhCLEVBQW1CSSxLQUFuQixFQUFQO0FBQ0Q7QUFsQ3dFO2tCQUF0RGQseUIiLCJmaWxlIjoiMTIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU2hhZGVyVmFyaWFibGVHcm91cCBmcm9tICcuL3NoYWRlcl92YXJpYWJsZV9ncm91cCdcbmltcG9ydCBTaGFkZXJBdHRyaWJWYXJpYWJsZSBmcm9tICcuL3NoYWRlcl9hdHRyaWJfdmFyaWFibGUnXG5pbXBvcnQgU2hhZGVyQXR0cmliVmFsdWUgZnJvbSAnLi9zaGFkZXJfYXR0cmliX3ZhbHVlJ1xuaW1wb3J0IFNoYWRlclZhcmlhYmxlQWxpYXMgZnJvbSAnLi9zaGFkZXJfdmFyaWFibGVfYWxpYXMnXG5cbi8qKlxuICogR3JvdXAgb2Ygc2hhZGVyIHZhcmlhYmxlcyB3aGljaCBhcmUgcmVmZXJlbmNpbmcgb25lIHNpbmdsZSBidWZmZXIuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNoYWRlclZhcmlhYmxlQnVmZmVyR3JvdXAgZXh0ZW5kcyBTaGFkZXJWYXJpYWJsZUdyb3VwIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7Vk9Qb29sfSBidWZmZXJTb3VyY2VcbiAgICovXG4gIGNvbnN0cnVjdG9yIChidWZmZXJTb3VyY2UpIHtcbiAgICBzdXBlcihbXSlcbiAgICBjb25zdCBkZXNjcmlwdG9yID0gYnVmZmVyU291cmNlLmRlc2NyaXB0b3JcbiAgICBsZXQgZmlyc3RWYXJcbiAgICBPYmplY3Qua2V5cyhkZXNjcmlwdG9yLmF0dHIpLmZvckVhY2goYXR0ck5hbWUgPT4ge1xuICAgICAgaWYgKCFmaXJzdFZhcikge1xuICAgICAgICBmaXJzdFZhciA9IG5ldyBTaGFkZXJBdHRyaWJWYXJpYWJsZShcbiAgICAgICAgICBhdHRyTmFtZSxcbiAgICAgICAgICBuZXcgU2hhZGVyQXR0cmliVmFsdWUoXG4gICAgICAgICAgICBhdHRyTmFtZSxcbiAgICAgICAgICAgIGRlc2NyaXB0b3IsXG4gICAgICAgICAgICBidWZmZXJTb3VyY2VcbiAgICAgICAgICApKVxuICAgICAgICB0aGlzLnNoYWRlclZhcnMucHVzaChmaXJzdFZhcilcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2hhZGVyVmFycy5wdXNoKG5ldyBTaGFkZXJWYXJpYWJsZUFsaWFzKGF0dHJOYW1lLCBmaXJzdFZhcikpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGdldCBidWZmZXJTb3VyY2UgKCkge1xuICAgIHJldHVybiB0aGlzLnNoYWRlclZhcnNbMF0udmFsdWUuYnVmZmVyU291cmNlXG4gIH1cblxuICBnZXQgc2VyaWFsICgpIHtcbiAgICByZXR1cm4gdGhpcy5zaGFkZXJWYXJzWzBdLnNlcmlhbFxuICB9XG5cbiAgdG91Y2ggKCkge1xuICAgIHJldHVybiB0aGlzLnNoYWRlclZhcnNbMF0udG91Y2goKVxuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29yZS9zaGFkZXJfdmFyaWFibGVfYnVmZmVyX2dyb3VwLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 13 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _power_of_2_image = __webpack_require__(6);\n\nvar _power_of_2_image2 = _interopRequireDefault(_power_of_2_image);\n\nvar _resource_ref = __webpack_require__(5);\n\nvar _resource_ref2 = _interopRequireDefault(_resource_ref);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Represents texture coordinates and holds a reference to a `<img>` or `<canvas>` element.\n * Textures can form hierachical structures.\n * The *root* texture contains always the image reference, all other *sub* textures contain\n * references to their parent (and the root).\n *\n * @class Texture\n *\n * @example\n * const canvas = document.createElement(\"canvas\")\n * const texture = new Texture(canvas)\n * texture.width    // => 300 <- default size of <canvas> element\n * texture.height   // => 150\n *\n * let subTex = new Texture(texture, 30, 15, 100, 100)\n * subTex.width    // => 100\n *\n * Texture.load('test/assets/bird-chicken-penguin.png').then(tex => {\n *   tex.width    // => 640\n *   tex.height   // => 480\n * })\n */\n\nclass Texture {\n  /**\n   * @param {Texture|PowerOf2Image|HTMLImageElement|HTMLCanvasElement} source - image elements must be *completed* (loaded)\n   * @param {number} [width]\n   * @param {number} [height]\n   * @param {number} [x=0]\n   * @param {number} [y=0]\n   * @param {Object} [hints] texture hints\n   * @param {boolean} [hints.flipY=false]\n   * @param {boolean} [hints.repeatable=false]\n   * @param {boolean} [hints.premultiplyAlpha=false]\n   */\n  constructor(source, width, height) {\n    let x = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n    let y = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n    let hints = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : null;\n\n    if (source instanceof Texture) {\n      /**\n       * @type {Texture}\n       */\n      this.parent = source;\n      /**\n       * @type {PowerOf2Image|HTMLImageElement|HTMLCanvasElement}\n       */\n      this.image = null;\n    } else if (typeof source === 'object' && 'width' in source && 'height' in source) {\n      this.image = source;\n      this.parent = null;\n\n      this._resourceRef = new _resource_ref2.default(this, {\n        flipY: !!hints && hints.flipY === true,\n        repeatable: !!hints && hints.repeatable === true,\n        premultiplyAlpha: !!hints && hints.premultiplyAlpha === true\n      });\n\n      if ('origWidth' in source && 'origHeight' in source) {\n        width = source.origWidth;\n        height = source.origHeight;\n      }\n    } else {\n      throw new Error('new Texture() panic: unexpected source argument!');\n    }\n\n    this._width = width;\n    this._height = height;\n\n    /**\n     * @type {number}\n     */\n    this.x = x;\n    /**\n     * @type {number}\n     */\n    this.y = y;\n  }\n\n  /**\n   * @type {Texture}\n   */\n  get root() {\n    return this.parent && this.parent.root || this;\n  }\n\n  /**\n   * @type {HTMLImageElement|HTMLCanvasElement}\n   */\n  get imgEl() {\n    const root = this.root;\n\n    return root.image.imgEl || root.image;\n  }\n\n  /**\n   * @type {ResourceRef}\n   */\n  get resourceRef() {\n    return this._resourceRef || this.root.resourceRef;\n  }\n\n  /**\n   * @type {number}\n   */\n  get width() {\n    return typeof this._width === 'number' ? this._width : this.image ? this.image.width : this.parent ? this.root.width : 0;\n  }\n\n  set width(w) {\n    this._width = w;\n  }\n\n  /**\n   * @type {number}\n   */\n  get height() {\n    return typeof this._height === 'number' ? this._height : this.image ? this.image.height : this.parent ? this.root.height : 0;\n  }\n\n  set height(h) {\n    this._height = h;\n  }\n\n  /**\n   * @type {number}\n   */\n  get minS() {\n    let x = this.x;\n    let texture = this;\n\n    while ((texture = texture.parent) != null) {\n      x += texture.x;\n    }\n\n    return x / this.root.image.width;\n  }\n\n  /**\n   * @type {number}\n   */\n  get minT() {\n    let y = this.y;\n    let texture = this;\n\n    while ((texture = texture.parent) != null) {\n      y += texture.y;\n    }\n\n    return y / this.root.image.height;\n  }\n\n  /**\n   * @type {number}\n   */\n  get maxS() {\n    let x = this.x + this.width;\n    let texture = this;\n\n    while ((texture = texture.parent) != null) {\n      x += texture.x;\n    }\n\n    return x / this.root.image.width;\n  }\n\n  /**\n   * @type {number}\n   */\n  get maxT() {\n    let y = this.y + this.height;\n    let texture = this;\n\n    while ((texture = texture.parent) != null) {\n      y += texture.y;\n    }\n\n    return y / this.root.image.height;\n  }\n\n  /**\n    * Loads an image from url and returns a texture.\n    * @param {string} url\n    * @returns {Promise<Texture>}\n    */\n  static load(url) {\n    return new _power_of_2_image2.default(url).complete.then(p2img => new Texture(p2img));\n  }\n}\nexports.default = Texture;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS90ZXh0dXJlLmpzPzU1NGEiXSwibmFtZXMiOlsiVGV4dHVyZSIsImNvbnN0cnVjdG9yIiwic291cmNlIiwid2lkdGgiLCJoZWlnaHQiLCJ4IiwieSIsImhpbnRzIiwicGFyZW50IiwiaW1hZ2UiLCJfcmVzb3VyY2VSZWYiLCJmbGlwWSIsInJlcGVhdGFibGUiLCJwcmVtdWx0aXBseUFscGhhIiwib3JpZ1dpZHRoIiwib3JpZ0hlaWdodCIsIkVycm9yIiwiX3dpZHRoIiwiX2hlaWdodCIsInJvb3QiLCJpbWdFbCIsInJlc291cmNlUmVmIiwidyIsImgiLCJtaW5TIiwidGV4dHVyZSIsIm1pblQiLCJtYXhTIiwibWF4VCIsImxvYWQiLCJ1cmwiLCJjb21wbGV0ZSIsInRoZW4iLCJwMmltZyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7QUFDQTs7Ozs7O0FBRUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBdUJlLE1BQU1BLE9BQU4sQ0FBYztBQUMzQjs7Ozs7Ozs7Ozs7QUFXQUMsY0FBYUMsTUFBYixFQUFxQkMsS0FBckIsRUFBNEJDLE1BQTVCLEVBQWdFO0FBQUEsUUFBNUJDLENBQTRCLHVFQUF4QixDQUF3QjtBQUFBLFFBQXJCQyxDQUFxQix1RUFBakIsQ0FBaUI7QUFBQSxRQUFkQyxLQUFjLHVFQUFOLElBQU07O0FBQzlELFFBQUlMLGtCQUFrQkYsT0FBdEIsRUFBK0I7QUFDN0I7OztBQUdBLFdBQUtRLE1BQUwsR0FBY04sTUFBZDtBQUNBOzs7QUFHQSxXQUFLTyxLQUFMLEdBQWEsSUFBYjtBQUNELEtBVEQsTUFTTyxJQUFJLE9BQU9QLE1BQVAsS0FBa0IsUUFBbEIsSUFBOEIsV0FBV0EsTUFBekMsSUFBbUQsWUFBWUEsTUFBbkUsRUFBMkU7QUFDaEYsV0FBS08sS0FBTCxHQUFhUCxNQUFiO0FBQ0EsV0FBS00sTUFBTCxHQUFjLElBQWQ7O0FBRUEsV0FBS0UsWUFBTCxHQUFvQiwyQkFBZ0IsSUFBaEIsRUFBc0I7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QUFDQSxRQUFJc0IsVUFBVSxJQUFkOztBQUVBLFdBQU8sQ0FBQ0EsVUFBVUEsUUFBUWpCLE1BQW5CLEtBQThCLElBQXJDLEVBQTJDO0FBQ3pDSCxXQUFLb0IsUUFBUXBCLENBQWI7QUFDRDs7QUFFRCxXQUFPQSxJQUFJLEtBQUtjLElBQUwsQ0FBVVYsS0FBVixDQUFnQk4sS0FBM0I7QUFDRDs7QUFFRDs7O0FBR0EsTUFBSXlCLElBQUosR0FBWTtBQUNWLFFBQUl0QixJQUFJLEtBQUtBLENBQUwsR0FBUyxLQUFLRixNQUF0QjtBQUNBLFFBQUlxQixVQUFVLElBQWQ7O0FBRUEsV0FBTyxDQUFDQSxVQUFVQSxRQUFRakIsTUFBbkIsS0FBOEIsSUFBckMsRUFBMkM7QUFDekNGLFdBQUttQixRQUFRbkIsQ0FBYjtBQUNEOztBQUVELFdBQU9BLElBQUksS0FBS2EsSUFBTCxDQUFVVixLQUFWLENBQWdCTCxNQUEzQjtBQUNEOztBQUVEOzs7OztBQUtBLFNBQU95QixJQUFQLENBQWFDLEdBQWIsRUFBa0I7QUFDaEIsV0FBTywrQkFBa0JBLEdBQWxCLEVBQXVCQyxRQUF2QixDQUFnQ0MsSUFBaEMsQ0FBcUNDLFNBQVMsSUFBSWpDLE9BQUosQ0FBWWlDLEtBQVosQ0FBOUMsQ0FBUDtBQUNEO0FBbEwwQjtrQkFBUmpDLE8iLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUG93ZXJPZjJJbWFnZSBmcm9tICcuL3Bvd2VyX29mXzJfaW1hZ2UnXG5pbXBvcnQgUmVzb3VyY2VSZWYgZnJvbSAnLi4vdXRpbHMvcmVzb3VyY2VfcmVmJ1xuXG4vKipcbiAqIFJlcHJlc2VudHMgdGV4dHVyZSBjb29yZGluYXRlcyBhbmQgaG9sZHMgYSByZWZlcmVuY2UgdG8gYSBgPGltZz5gIG9yIGA8Y2FudmFzPmAgZWxlbWVudC5cbiAqIFRleHR1cmVzIGNhbiBmb3JtIGhpZXJhY2hpY2FsIHN0cnVjdHVyZXMuXG4gKiBUaGUgKnJvb3QqIHRleHR1cmUgY29udGFpbnMgYWx3YXlzIHRoZSBpbWFnZSByZWZlcmVuY2UsIGFsbCBvdGhlciAqc3ViKiB0ZXh0dXJlcyBjb250YWluXG4gKiByZWZlcmVuY2VzIHRvIHRoZWlyIHBhcmVudCAoYW5kIHRoZSByb290KS5cbiAqXG4gKiBAY2xhc3MgVGV4dHVyZVxuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpXG4gKiBjb25zdCB0ZXh0dXJlID0gbmV3IFRleHR1cmUoY2FudmFzKVxuICogdGV4dHVyZS53aWR0aCAgICAvLyA9PiAzMDAgPC0gZGVmYXVsdCBzaXplIG9mIDxjYW52YXM+IGVsZW1lbnRcbiAqIHRleHR1cmUuaGVpZ2h0ICAgLy8gPT4gMTUwXG4gKlxuICogbGV0IHN1YlRleCA9IG5ldyBUZXh0dXJlKHRleHR1cmUsIDMwLCAxNSwgMTAwLCAxMDApXG4gKiBzdWJUZXgud2lkdGggICAgLy8gPT4gMTAwXG4gKlxuICogVGV4dHVyZS5sb2FkKCd0ZXN0L2Fzc2V0cy9iaXJkLWNoaWNrZW4tcGVuZ3Vpbi5wbmcnKS50aGVuKHRleCA9PiB7XG4gKiAgIHRleC53aWR0aCAgICAvLyA9PiA2NDBcbiAqICAgdGV4LmhlaWdodCAgIC8vID0+IDQ4MFxuICogfSlcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZXh0dXJlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7VGV4dHVyZXxQb3dlck9mMkltYWdlfEhUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9IHNvdXJjZSAtIGltYWdlIGVsZW1lbnRzIG11c3QgYmUgKmNvbXBsZXRlZCogKGxvYWRlZClcbiAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aF1cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtoZWlnaHRdXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXVxuICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF1cbiAgICogQHBhcmFtIHtPYmplY3R9IFtoaW50c10gdGV4dHVyZSBoaW50c1xuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtoaW50cy5mbGlwWT1mYWxzZV1cbiAgICogQHBhcmFtIHtib29sZWFufSBbaGludHMucmVwZWF0YWJsZT1mYWxzZV1cbiAgICogQHBhcmFtIHtib29sZWFufSBbaGludHMucHJlbXVsdGlwbHlBbHBoYT1mYWxzZV1cbiAgICovXG4gIGNvbnN0cnVjdG9yIChzb3VyY2UsIHdpZHRoLCBoZWlnaHQsIHggPSAwLCB5ID0gMCwgaGludHMgPSBudWxsKSB7XG4gICAgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIFRleHR1cmUpIHtcbiAgICAgIC8qKlxuICAgICAgICogQHR5cGUge1RleHR1cmV9XG4gICAgICAgKi9cbiAgICAgIHRoaXMucGFyZW50ID0gc291cmNlXG4gICAgICAvKipcbiAgICAgICAqIEB0eXBlIHtQb3dlck9mMkltYWdlfEhUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICAgKi9cbiAgICAgIHRoaXMuaW1hZ2UgPSBudWxsXG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygc291cmNlID09PSAnb2JqZWN0JyAmJiAnd2lkdGgnIGluIHNvdXJjZSAmJiAnaGVpZ2h0JyBpbiBzb3VyY2UpIHtcbiAgICAgIHRoaXMuaW1hZ2UgPSBzb3VyY2VcbiAgICAgIHRoaXMucGFyZW50ID0gbnVsbFxuXG4gICAgICB0aGlzLl9yZXNvdXJjZVJlZiA9IG5ldyBSZXNvdXJjZVJlZih0aGlzLCB7XG4gICAgICAgIGZsaXBZOiAhIWhpbnRzICYmIGhpbnRzLmZsaXBZID09PSB0cnVlLFxuICAgICAgICByZXBlYXRhYmxlOiAhIWhpbnRzICYmIGhpbnRzLnJlcGVhdGFibGUgPT09IHRydWUsXG4gICAgICAgIHByZW11bHRpcGx5QWxwaGE6ICEhaGludHMgJiYgaGludHMucHJlbXVsdGlwbHlBbHBoYSA9PT0gdHJ1ZVxuICAgICAgfSlcblxuICAgICAgaWYgKCdvcmlnV2lkdGgnIGluIHNvdXJjZSAmJiAnb3JpZ0hlaWdodCcgaW4gc291cmNlKSB7XG4gICAgICAgIHdpZHRoID0gc291cmNlLm9yaWdXaWR0aFxuICAgICAgICBoZWlnaHQgPSBzb3VyY2Uub3JpZ0hlaWdodFxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ25ldyBUZXh0dXJlKCkgcGFuaWM6IHVuZXhwZWN0ZWQgc291cmNlIGFyZ3VtZW50IScpXG4gICAgfVxuXG4gICAgdGhpcy5fd2lkdGggPSB3aWR0aFxuICAgIHRoaXMuX2hlaWdodCA9IGhlaWdodFxuXG4gICAgLyoqXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnggPSB4XG4gICAgLyoqXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnkgPSB5XG4gIH1cblxuICAvKipcbiAgICogQHR5cGUge1RleHR1cmV9XG4gICAqL1xuICBnZXQgcm9vdCAoKSB7XG4gICAgcmV0dXJuICh0aGlzLnBhcmVudCAmJiB0aGlzLnBhcmVudC5yb290KSB8fCB0aGlzXG4gIH1cblxuICAvKipcbiAgICogQHR5cGUge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9XG4gICAqL1xuICBnZXQgaW1nRWwgKCkge1xuICAgIGNvbnN0IHsgcm9vdCB9ID0gdGhpc1xuICAgIHJldHVybiByb290LmltYWdlLmltZ0VsIHx8IHJvb3QuaW1hZ2VcbiAgfVxuXG4gIC8qKlxuICAgKiBAdHlwZSB7UmVzb3VyY2VSZWZ9XG4gICAqL1xuICBnZXQgcmVzb3VyY2VSZWYgKCkge1xuICAgIHJldHVybiB0aGlzLl9yZXNvdXJjZVJlZiB8fCB0aGlzLnJvb3QucmVzb3VyY2VSZWZcbiAgfVxuXG4gIC8qKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKi9cbiAgZ2V0IHdpZHRoICgpIHtcbiAgICByZXR1cm4gKHR5cGVvZiB0aGlzLl93aWR0aCA9PT0gJ251bWJlcidcbiAgICAgID8gdGhpcy5fd2lkdGhcbiAgICAgIDogKHRoaXMuaW1hZ2VcbiAgICAgICAgPyB0aGlzLmltYWdlLndpZHRoXG4gICAgICAgIDogKHRoaXMucGFyZW50XG4gICAgICAgICAgPyB0aGlzLnJvb3Qud2lkdGhcbiAgICAgICAgICA6IDBcbiAgICAgICAgKVxuICAgICAgKVxuICAgIClcbiAgfVxuXG4gIHNldCB3aWR0aCAodykge1xuICAgIHRoaXMuX3dpZHRoID0gd1xuICB9XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuICBnZXQgaGVpZ2h0ICgpIHtcbiAgICByZXR1cm4gKHR5cGVvZiB0aGlzLl9oZWlnaHQgPT09ICdudW1iZXInXG4gICAgICA/IHRoaXMuX2hlaWdodFxuICAgICAgOiAodGhpcy5pbWFnZVxuICAgICAgICA/IHRoaXMuaW1hZ2UuaGVpZ2h0XG4gICAgICAgIDogKHRoaXMucGFyZW50XG4gICAgICAgICAgPyB0aGlzLnJvb3QuaGVpZ2h0XG4gICAgICAgICAgOiAwXG4gICAgICAgIClcbiAgICAgIClcbiAgICApXG4gIH1cblxuICBzZXQgaGVpZ2h0IChoKSB7XG4gICAgdGhpcy5faGVpZ2h0ID0gaFxuICB9XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuICBnZXQgbWluUyAoKSB7XG4gICAgbGV0IHggPSB0aGlzLnhcbiAgICBsZXQgdGV4dHVyZSA9IHRoaXNcblxuICAgIHdoaWxlICgodGV4dHVyZSA9IHRleHR1cmUucGFyZW50KSAhPSBudWxsKSB7XG4gICAgICB4ICs9IHRleHR1cmUueFxuICAgIH1cblxuICAgIHJldHVybiB4IC8gdGhpcy5yb290LmltYWdlLndpZHRoXG4gIH1cblxuICAvKipcbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIGdldCBtaW5UICgpIHtcbiAgICBsZXQgeSA9IHRoaXMueVxuICAgIGxldCB0ZXh0dXJlID0gdGhpc1xuXG4gICAgd2hpbGUgKCh0ZXh0dXJlID0gdGV4dHVyZS5wYXJlbnQpICE9IG51bGwpIHtcbiAgICAgIHkgKz0gdGV4dHVyZS55XG4gICAgfVxuXG4gICAgcmV0dXJuIHkgLyB0aGlzLnJvb3QuaW1hZ2UuaGVpZ2h0XG4gIH1cblxuICAvKipcbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIGdldCBtYXhTICgpIHtcbiAgICBsZXQgeCA9IHRoaXMueCArIHRoaXMud2lkdGhcbiAgICBsZXQgdGV4dHVyZSA9IHRoaXNcblxuICAgIHdoaWxlICgodGV4dHVyZSA9IHRleHR1cmUucGFyZW50KSAhPSBudWxsKSB7XG4gICAgICB4ICs9IHRleHR1cmUueFxuICAgIH1cblxuICAgIHJldHVybiB4IC8gdGhpcy5yb290LmltYWdlLndpZHRoXG4gIH1cblxuICAvKipcbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIGdldCBtYXhUICgpIHtcbiAgICBsZXQgeSA9IHRoaXMueSArIHRoaXMuaGVpZ2h0XG4gICAgbGV0IHRleHR1cmUgPSB0aGlzXG5cbiAgICB3aGlsZSAoKHRleHR1cmUgPSB0ZXh0dXJlLnBhcmVudCkgIT0gbnVsbCkge1xuICAgICAgeSArPSB0ZXh0dXJlLnlcbiAgICB9XG5cbiAgICByZXR1cm4geSAvIHRoaXMucm9vdC5pbWFnZS5oZWlnaHRcbiAgfVxuXG4gIC8qKlxuICAgICogTG9hZHMgYW4gaW1hZ2UgZnJvbSB1cmwgYW5kIHJldHVybnMgYSB0ZXh0dXJlLlxuICAgICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICAgICogQHJldHVybnMge1Byb21pc2U8VGV4dHVyZT59XG4gICAgKi9cbiAgc3RhdGljIGxvYWQgKHVybCkge1xuICAgIHJldHVybiBuZXcgUG93ZXJPZjJJbWFnZSh1cmwpLmNvbXBsZXRlLnRoZW4ocDJpbWcgPT4gbmV3IFRleHR1cmUocDJpbWcpKVxuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29yZS90ZXh0dXJlLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = defineBlitpElements;\n\nvar _pony = __webpack_require__(43);\n\nvar _pony2 = _interopRequireDefault(_pony);\n\nvar _blitp_canvas = __webpack_require__(28);\n\nvar _blitp_canvas2 = _interopRequireDefault(_blitp_canvas);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Define all `<blitp-*>` custom html elements.\n * Should be called once at startup.\n */\n// https://github.com/WebReflection/document-register-element\nfunction defineBlitpElements() {\n  // install custom elements polyfill\n  (0, _pony2.default)(window);\n\n  // define element in the CustomElementRegistry\n  window.customElements.define('blitp-canvas', _blitp_canvas2.default);\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZG9tL2RlZmluZV9ibGl0cF9lbGVtZW50cy5qcz9kYTQ5Il0sIm5hbWVzIjpbImRlZmluZUJsaXRwRWxlbWVudHMiLCJ3aW5kb3ciLCJjdXN0b21FbGVtZW50cyIsImRlZmluZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7a0JBU3dCQSxtQjs7QUFSeEI7Ozs7QUFFQTs7Ozs7O0FBRUE7Ozs7QUFMQTtBQVNlLFNBQVNBLG1CQUFULEdBQWdDO0FBQzdDO0FBQ0Esc0JBQVVDLE1BQVY7O0FBRUE7QUFDQUEsU0FBT0MsY0FBUCxDQUFzQkMsTUFBdEIsQ0FBNkIsY0FBN0I7QUFDRCIsImZpbGUiOiIxNC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9XZWJSZWZsZWN0aW9uL2RvY3VtZW50LXJlZ2lzdGVyLWVsZW1lbnRcbmltcG9ydCBpbnN0YWxsQ0UgZnJvbSAnZG9jdW1lbnQtcmVnaXN0ZXItZWxlbWVudC9wb255J1xuXG5pbXBvcnQgQmxpdHBDYW52YXMgZnJvbSAnLi9ibGl0cF9jYW52YXMnXG5cbi8qKlxuICogRGVmaW5lIGFsbCBgPGJsaXRwLSo+YCBjdXN0b20gaHRtbCBlbGVtZW50cy5cbiAqIFNob3VsZCBiZSBjYWxsZWQgb25jZSBhdCBzdGFydHVwLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkZWZpbmVCbGl0cEVsZW1lbnRzICgpIHtcbiAgLy8gaW5zdGFsbCBjdXN0b20gZWxlbWVudHMgcG9seWZpbGxcbiAgaW5zdGFsbENFKHdpbmRvdylcblxuICAvLyBkZWZpbmUgZWxlbWVudCBpbiB0aGUgQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5XG4gIHdpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ2JsaXRwLWNhbnZhcycsIEJsaXRwQ2FudmFzKVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2RvbS9kZWZpbmVfYmxpdHBfZWxlbWVudHMuanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 15 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function () {\n  const voDescriptor = new _v_o_descriptor2.default({\n    vertexCount: 3, // => triangle\n    attributes: [{ name: 'position', type: 'float32', size: 2, attrNames: ['x', 'y'] }]\n  });\n\n  const voPool = new _v_o_pool2.default(voDescriptor, { capacity: 4 });\n\n  voPool.alloc().setPosition(-1.0, -1.0, 0.49, -1.0, -1.0, 1.0);\n  voPool.alloc().setPosition(0.49, -1.0, 0.49, 1.0, -1.0, 1.0);\n\n  voPool.alloc().setPosition(0.5, -1.0, 1.0, -1.0, 0.5, 1.0);\n  voPool.alloc().setPosition(1.0, -1.0, 1.0, 1.0, 0.5, 1.0);\n\n  return voPool;\n};\n\nvar _v_o_descriptor = __webpack_require__(24);\n\nvar _v_o_descriptor2 = _interopRequireDefault(_v_o_descriptor);\n\nvar _v_o_pool = __webpack_require__(27);\n\nvar _v_o_pool2 = _interopRequireDefault(_v_o_pool);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi93ZWJnbC1ib2lsZXJwbGF0ZS9zcmMvaW5pdF9zcHJpdGVzLmpzPzFlY2MiXSwibmFtZXMiOlsidm9EZXNjcmlwdG9yIiwidmVydGV4Q291bnQiLCJhdHRyaWJ1dGVzIiwibmFtZSIsInR5cGUiLCJzaXplIiwiYXR0ck5hbWVzIiwidm9Qb29sIiwiY2FwYWNpdHkiLCJhbGxvYyIsInNldFBvc2l0aW9uIl0sIm1hcHBpbmdzIjoiOzs7Ozs7a0JBR2UsWUFBWTtBQUN6QixRQUFNQSxlQUFlLDZCQUFpQjtBQUNwQ0MsaUJBQWEsQ0FEdUIsRUFDcEI7QUFDaEJDLGdCQUFZLENBQ1YsRUFBRUMsTUFBTSxVQUFSLEVBQW9CQyxNQUFNLFNBQTFCLEVBQXFDQyxNQUFNLENBQTNDLEVBQThDQyxXQUFXLENBQUUsR0FBRixFQUFPLEdBQVAsQ0FBekQsRUFEVTtBQUZ3QixHQUFqQixDQUFyQjs7QUFPQSxRQUFNQyxTQUFTLHVCQUFXUCxZQUFYLEVBQXlCLEVBQUVRLFVBQVUsQ0FBWixFQUF6QixDQUFmOztBQUVBRCxTQUFPRSxLQUFQLEdBQWVDLFdBQWYsQ0FBMkIsQ0FBQyxHQUE1QixFQUFpQyxDQUFDLEdBQWxDLEVBQXVDLElBQXZDLEVBQTZDLENBQUMsR0FBOUMsRUFBbUQsQ0FBQyxHQUFwRCxFQUF5RCxHQUF6RDtBQUNBSCxTQUFPRSxLQUFQLEdBQWVDLFdBQWYsQ0FBMkIsSUFBM0IsRUFBaUMsQ0FBQyxHQUFsQyxFQUF1QyxJQUF2QyxFQUE2QyxHQUE3QyxFQUFrRCxDQUFDLEdBQW5ELEVBQXdELEdBQXhEOztBQUVBSCxTQUFPRSxLQUFQLEdBQWVDLFdBQWYsQ0FBMkIsR0FBM0IsRUFBZ0MsQ0FBQyxHQUFqQyxFQUFzQyxHQUF0QyxFQUEyQyxDQUFDLEdBQTVDLEVBQWlELEdBQWpELEVBQXNELEdBQXREO0FBQ0FILFNBQU9FLEtBQVAsR0FBZUMsV0FBZixDQUEyQixHQUEzQixFQUFnQyxDQUFDLEdBQWpDLEVBQXNDLEdBQXRDLEVBQTJDLEdBQTNDLEVBQWdELEdBQWhELEVBQXFELEdBQXJEOztBQUVBLFNBQU9ILE1BQVA7QUFDRCxDOztBQXBCRDs7OztBQUNBIiwiZmlsZSI6IjE1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFZPRGVzY3JpcHRvciBmcm9tICcuLi8uLi9zcmMvY29yZS92X29fZGVzY3JpcHRvcidcbmltcG9ydCBWT1Bvb2wgZnJvbSAnLi4vLi4vc3JjL2NvcmUvdl9vX3Bvb2wnXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgY29uc3Qgdm9EZXNjcmlwdG9yID0gbmV3IFZPRGVzY3JpcHRvcih7XG4gICAgdmVydGV4Q291bnQ6IDMsIC8vID0+IHRyaWFuZ2xlXG4gICAgYXR0cmlidXRlczogW1xuICAgICAgeyBuYW1lOiAncG9zaXRpb24nLCB0eXBlOiAnZmxvYXQzMicsIHNpemU6IDIsIGF0dHJOYW1lczogWyAneCcsICd5JyBdIH1cbiAgICBdXG4gIH0pXG5cbiAgY29uc3Qgdm9Qb29sID0gbmV3IFZPUG9vbCh2b0Rlc2NyaXB0b3IsIHsgY2FwYWNpdHk6IDQgfSlcblxuICB2b1Bvb2wuYWxsb2MoKS5zZXRQb3NpdGlvbigtMS4wLCAtMS4wLCAwLjQ5LCAtMS4wLCAtMS4wLCAxLjApXG4gIHZvUG9vbC5hbGxvYygpLnNldFBvc2l0aW9uKDAuNDksIC0xLjAsIDAuNDksIDEuMCwgLTEuMCwgMS4wKVxuXG4gIHZvUG9vbC5hbGxvYygpLnNldFBvc2l0aW9uKDAuNSwgLTEuMCwgMS4wLCAtMS4wLCAwLjUsIDEuMClcbiAgdm9Qb29sLmFsbG9jKCkuc2V0UG9zaXRpb24oMS4wLCAtMS4wLCAxLjAsIDEuMCwgMC41LCAxLjApXG5cbiAgcmV0dXJuIHZvUG9vbFxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vd2ViZ2wtYm9pbGVycGxhdGUvc3JjL2luaXRfc3ByaXRlcy5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 16 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _v_o_array = __webpack_require__(3);\n\nvar _v_o_array2 = _interopRequireDefault(_v_o_array);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass ShaderAttribValue {\n  constructor(name, descriptor, bufferSource) {\n    this.name = name;\n    this.descriptor = descriptor;\n    this.bufferSource = bufferSource;\n  }\n\n  get attrDescriptor() {\n    return this.descriptor.attr[this.name];\n  }\n\n  get resourceRef() {\n    const bufferSource = this.bufferSource;\n\n    return bufferSource instanceof _v_o_array2.default ? bufferSource.resourceRef : bufferSource.voArray.resourceRef;\n  }\n}\nexports.default = ShaderAttribValue;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9zaGFkZXJfYXR0cmliX3ZhbHVlLmpzP2M0OWEiXSwibmFtZXMiOlsiU2hhZGVyQXR0cmliVmFsdWUiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJkZXNjcmlwdG9yIiwiYnVmZmVyU291cmNlIiwiYXR0ckRlc2NyaXB0b3IiLCJhdHRyIiwicmVzb3VyY2VSZWYiLCJ2b0FycmF5Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7Ozs7O0FBRWUsTUFBTUEsaUJBQU4sQ0FBd0I7QUFDckNDLGNBQWFDLElBQWIsRUFBbUJDLFVBQW5CLEVBQStCQyxZQUEvQixFQUE2QztBQUMzQyxTQUFLRixJQUFMLEdBQVlBLElBQVo7QUFDQSxTQUFLQyxVQUFMLEdBQWtCQSxVQUFsQjtBQUNBLFNBQUtDLFlBQUwsR0FBb0JBLFlBQXBCO0FBQ0Q7O0FBRUQsTUFBSUMsY0FBSixHQUFzQjtBQUNwQixXQUFPLEtBQUtGLFVBQUwsQ0FBZ0JHLElBQWhCLENBQXFCLEtBQUtKLElBQTFCLENBQVA7QUFDRDs7QUFFRCxNQUFJSyxXQUFKLEdBQW1CO0FBQUEsVUFDVEgsWUFEUyxHQUNRLElBRFIsQ0FDVEEsWUFEUzs7QUFFakIsV0FBUUEsOENBQ0pBLGFBQWFHLFdBRFQsR0FFSkgsYUFBYUksT0FBYixDQUFxQkQsV0FGekI7QUFHRDtBQWhCb0M7a0JBQWxCUCxpQiIsImZpbGUiOiIxNi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBWT0FycmF5IGZyb20gJy4vdl9vX2FycmF5J1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTaGFkZXJBdHRyaWJWYWx1ZSB7XG4gIGNvbnN0cnVjdG9yIChuYW1lLCBkZXNjcmlwdG9yLCBidWZmZXJTb3VyY2UpIHtcbiAgICB0aGlzLm5hbWUgPSBuYW1lXG4gICAgdGhpcy5kZXNjcmlwdG9yID0gZGVzY3JpcHRvclxuICAgIHRoaXMuYnVmZmVyU291cmNlID0gYnVmZmVyU291cmNlXG4gIH1cblxuICBnZXQgYXR0ckRlc2NyaXB0b3IgKCkge1xuICAgIHJldHVybiB0aGlzLmRlc2NyaXB0b3IuYXR0clt0aGlzLm5hbWVdXG4gIH1cblxuICBnZXQgcmVzb3VyY2VSZWYgKCkge1xuICAgIGNvbnN0IHsgYnVmZmVyU291cmNlIH0gPSB0aGlzXG4gICAgcmV0dXJuIChidWZmZXJTb3VyY2UgaW5zdGFuY2VvZiBWT0FycmF5XG4gICAgICA/IGJ1ZmZlclNvdXJjZS5yZXNvdXJjZVJlZlxuICAgICAgOiBidWZmZXJTb3VyY2Uudm9BcnJheS5yZXNvdXJjZVJlZilcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvcmUvc2hhZGVyX2F0dHJpYl92YWx1ZS5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 17 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _shader_variable = __webpack_require__(2);\n\nvar _shader_variable2 = _interopRequireDefault(_shader_variable);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Shader attribute variable.\n */\nclass ShaderAttribVariable extends _shader_variable2.default {\n  /**\n   * @param {string} name\n   * @param {number|Object} value\n   */\n  constructor(name, value) {\n    super(name, _shader_variable2.default.TYPE.ATTRIB, value);\n  }\n}\nexports.default = ShaderAttribVariable;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9zaGFkZXJfYXR0cmliX3ZhcmlhYmxlLmpzP2VkNzEiXSwibmFtZXMiOlsiU2hhZGVyQXR0cmliVmFyaWFibGUiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJ2YWx1ZSIsIlRZUEUiLCJBVFRSSUIiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7Ozs7QUFFQTs7O0FBR2UsTUFBTUEsb0JBQU4sbUNBQWtEO0FBQy9EOzs7O0FBSUFDLGNBQWFDLElBQWIsRUFBbUJDLEtBQW5CLEVBQTBCO0FBQ3hCLFVBQU1ELElBQU4sRUFBWSwwQkFBZUUsSUFBZixDQUFvQkMsTUFBaEMsRUFBd0NGLEtBQXhDO0FBQ0Q7QUFQOEQ7a0JBQTVDSCxvQiIsImZpbGUiOiIxNy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTaGFkZXJWYXJpYWJsZSBmcm9tICcuL3NoYWRlcl92YXJpYWJsZSdcblxuLyoqXG4gKiBTaGFkZXIgYXR0cmlidXRlIHZhcmlhYmxlLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTaGFkZXJBdHRyaWJWYXJpYWJsZSBleHRlbmRzIFNoYWRlclZhcmlhYmxlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAqIEBwYXJhbSB7bnVtYmVyfE9iamVjdH0gdmFsdWVcbiAgICovXG4gIGNvbnN0cnVjdG9yIChuYW1lLCB2YWx1ZSkge1xuICAgIHN1cGVyKG5hbWUsIFNoYWRlclZhcmlhYmxlLlRZUEUuQVRUUklCLCB2YWx1ZSlcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvcmUvc2hhZGVyX2F0dHJpYl92YXJpYWJsZS5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 18 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _shader_variable = __webpack_require__(2);\n\nvar _shader_variable2 = _interopRequireDefault(_shader_variable);\n\nvar _shader_variable_group = __webpack_require__(9);\n\nvar _shader_variable_group2 = _interopRequireDefault(_shader_variable_group);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * A ShaderContext keeps named references to all shader _variables_\n * to make them available for shader _programs_.\n * Each named reference is organized as a _stack_ where you can push\n * or pop shader variable _values_.\n */\nclass ShaderContext {\n  constructor() {\n    this.uniform = new Map();\n    this.attrib = new Map();\n    this.tex2d = new Map();\n  }\n\n  clear() {\n    this.uniform.clear();\n    this.attrib.clear();\n    this.tex2d.clear();\n  }\n\n  /**\n   * @param {ShaderVariable|ShaderVariableGroup} shaderVariable\n   */\n  pushVar(shaderVariable) {\n    if (shaderVariable instanceof _shader_variable_group2.default) {\n      shaderVariable.pushVar(this);\n    } else {\n      const lane = shaderVarLane(this, shaderVariable.type, shaderVariable.name);\n      lane.push(shaderVariable);\n    }\n  }\n\n  /**\n   * Remove current shader variable plus all later set variables from named shader variable stack.\n   * @param {ShaderVariable|ShaderVariableGroup} shaderVariable\n   */\n  popVar(shaderVariable) {\n    if (shaderVariable instanceof _shader_variable_group2.default) {\n      shaderVariable.popVar(this);\n    } else {\n      const lane = shaderVarLane(this, shaderVariable.type, shaderVariable.name);\n      const len = lane.length;\n      for (let i = 0; i < len; ++i) {\n        if (lane[i] === shaderVariable) {\n          lane.length = i;\n          return;\n        }\n      }\n    }\n  }\n\n  /**\n   * Return current shader variable by name and type.\n   * @param {ShaderVariable} shaderVariable\n   * @return {ShaderVariable} or `null`\n   */\n  curVar(shaderVariable) {\n    const lane = shaderVarMap(this, shaderVariable.type).get(shaderVariable.name);\n    return lane && lane.length ? lane[lane.length - 1] : null;\n  }\n\n  /**\n   * Return current _uniform_ shader variable by name.\n   * @param {string} name\n   * @return {ShaderUniformVariable} or `null`\n   */\n  curUniform(name) {\n    const lane = this.uniform.get(name);\n    return lane && lane.length ? lane[lane.length - 1] : null;\n  }\n\n  /**\n   * Return current _attribute_ shader variable by name.\n   * @param {string} name\n   * @return {ShaderAttribVariable} or `null`\n   */\n  curAttrib(name) {\n    const lane = this.attrib.get(name);\n    return lane && lane.length ? lane[lane.length - 1] : null;\n  }\n\n  /**\n   * Return current _texture2d_ shader variable by name.\n   * @param {string} name\n   * @return {ShaderTexture2dVariable} or `null`\n   */\n  curTex2d(name) {\n    const lane = this.tex2d.get(name);\n    return lane && lane.length ? lane[lane.length - 1] : null;\n  }\n}\n\nexports.default = ShaderContext;\nfunction shaderVarMap(shaderContext, type) {\n  switch (type) {\n    case _shader_variable2.default.TYPE.UNIFORM:\n      return shaderContext.uniform;\n    case _shader_variable2.default.TYPE.ATTRIB:\n      return shaderContext.attrib;\n    case _shader_variable2.default.TYPE.TEXTURE_2D:\n      return shaderContext.tex2d;\n  }\n}\n\nfunction shaderVarLane(shaderContext, type, name) {\n  const map = shaderVarMap(shaderContext, type);\n  let lane = map.get(name);\n\n  if (!lane) {\n    lane = [];\n    map.set(name, lane);\n  }\n\n  return lane;\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9zaGFkZXJfY29udGV4dC5qcz82Y2U1Il0sIm5hbWVzIjpbIlNoYWRlckNvbnRleHQiLCJjb25zdHJ1Y3RvciIsInVuaWZvcm0iLCJNYXAiLCJhdHRyaWIiLCJ0ZXgyZCIsImNsZWFyIiwicHVzaFZhciIsInNoYWRlclZhcmlhYmxlIiwibGFuZSIsInNoYWRlclZhckxhbmUiLCJ0eXBlIiwibmFtZSIsInB1c2giLCJwb3BWYXIiLCJsZW4iLCJsZW5ndGgiLCJpIiwiY3VyVmFyIiwic2hhZGVyVmFyTWFwIiwiZ2V0IiwiY3VyVW5pZm9ybSIsImN1ckF0dHJpYiIsImN1clRleDJkIiwic2hhZGVyQ29udGV4dCIsIlRZUEUiLCJVTklGT1JNIiwiQVRUUklCIiwiVEVYVFVSRV8yRCIsIm1hcCIsInNldCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7QUFDQTs7Ozs7O0FBRUE7Ozs7OztBQU1lLE1BQU1BLGFBQU4sQ0FBb0I7QUFDakNDLGdCQUFlO0FBQ2IsU0FBS0MsT0FBTCxHQUFlLElBQUlDLEdBQUosRUFBZjtBQUNBLFNBQUtDLE1BQUwsR0FBYyxJQUFJRCxHQUFKLEVBQWQ7QUFDQSxTQUFLRSxLQUFMLEdBQWEsSUFBSUYsR0FBSixFQUFiO0FBQ0Q7O0FBRURHLFVBQVM7QUFDUCxTQUFLSixPQUFMLENBQWFJLEtBQWI7QUFDQSxTQUFLRixNQUFMLENBQVlFLEtBQVo7QUFDQSxTQUFLRCxLQUFMLENBQVdDLEtBQVg7QUFDRDs7QUFFRDs7O0FBR0FDLFVBQVNDLGNBQVQsRUFBeUI7QUFDdkIsUUFBSUEseURBQUosRUFBbUQ7QUFDakRBLHFCQUFlRCxPQUFmLENBQXVCLElBQXZCO0FBQ0QsS0FGRCxNQUVPO0FBQ0wsWUFBTUUsT0FBT0MsY0FBYyxJQUFkLEVBQW9CRixlQUFlRyxJQUFuQyxFQUF5Q0gsZUFBZUksSUFBeEQsQ0FBYjtBQUNBSCxXQUFLSSxJQUFMLENBQVVMLGNBQVY7QUFDRDtBQUNGOztBQUVEOzs7O0FBSUFNLFNBQVFOLGNBQVIsRUFBd0I7QUFDdEIsUUFBSUEseURBQUosRUFBbUQ7QUFDakRBLHFCQUFlTSxNQUFmLENBQXNCLElBQXRCO0FBQ0QsS0FGRCxNQUVPO0FBQ0wsWUFBTUwsT0FBT0MsY0FBYyxJQUFkLEVBQW9CRixlQUFlRyxJQUFuQyxFQUF5Q0gsZUFBZUksSUFBeEQsQ0FBYjtBQUNBLFlBQU1HLE1BQU1OLEtBQUtPLE1BQWpCO0FBQ0EsV0FBSyxJQUFJQyxJQUFJLENBQWIsRUFBZ0JBLElBQUlGLEdBQXBCLEVBQXlCLEVBQUVFLENBQTNCLEVBQThCO0FBQzVCLFlBQUlSLEtBQUtRLENBQUwsTUFBWVQsY0FBaEIsRUFBZ0M7QUFDOUJDLGVBQUtPLE1BQUwsR0FBY0MsQ0FBZDtBQUNBO0FBQ0Q7QUFDRjtBQUNGO0FBQ0Y7O0FBRUQ7Ozs7O0FBS0FDLFNBQVFWLGNBQVIsRUFBd0I7QUFDdEIsVUFBTUMsT0FBT1UsYUFBYSxJQUFiLEVBQW1CWCxlQUFlRyxJQUFsQyxFQUF3Q1MsR0FBeEMsQ0FBNENaLGVBQWVJLElBQTNELENBQWI7QUFDQSxXQUFPSCxRQUFRQSxLQUFLTyxNQUFiLEdBQXNCUCxLQUFLQSxLQUFLTyxNQUFMLEdBQWMsQ0FBbkIsQ0FBdEIsR0FBOEMsSUFBckQ7QUFDRDs7QUFFRDs7Ozs7QUFLQUssYUFBWVQsSUFBWixFQUFrQjtBQUNoQixVQUFNSCxPQUFPLEtBQUtQLE9BQUwsQ0FBYWtCLEdBQWIsQ0FBaUJSLElBQWpCLENBQWI7QUFDQSxXQUFPSCxRQUFRQSxLQUFLTyxNQUFiLEdBQXNCUCxLQUFLQSxLQUFLTyxNQUFMLEdBQWMsQ0FBbkIsQ0FBdEIsR0FBOEMsSUFBckQ7QUFDRDs7QUFFRDs7Ozs7QUFLQU0sWUFBV1YsSUFBWCxFQUFpQjtBQUNmLFVBQU1ILE9BQU8sS0FBS0wsTUFBTCxDQUFZZ0IsR0FBWixDQUFnQlIsSUFBaEIsQ0FBYjtBQUNBLFdBQU9ILFFBQVFBLEtBQUtPLE1BQWIsR0FBc0JQLEtBQUtBLEtBQUtPLE1BQUwsR0FBYyxDQUFuQixDQUF0QixHQUE4QyxJQUFyRDtBQUNEOztBQUVEOzs7OztBQUtBTyxXQUFVWCxJQUFWLEVBQWdCO0FBQ2QsVUFBTUgsT0FBTyxLQUFLSixLQUFMLENBQVdlLEdBQVgsQ0FBZVIsSUFBZixDQUFiO0FBQ0EsV0FBT0gsUUFBUUEsS0FBS08sTUFBYixHQUFzQlAsS0FBS0EsS0FBS08sTUFBTCxHQUFjLENBQW5CLENBQXRCLEdBQThDLElBQXJEO0FBQ0Q7QUFsRmdDOztrQkFBZGhCLGE7QUFxRnJCLFNBQVNtQixZQUFULENBQXVCSyxhQUF2QixFQUFzQ2IsSUFBdEMsRUFBNEM7QUFDMUMsVUFBUUEsSUFBUjtBQUNFLFNBQUssMEJBQWVjLElBQWYsQ0FBb0JDLE9BQXpCO0FBQWtDLGFBQU9GLGNBQWN0QixPQUFyQjtBQUNsQyxTQUFLLDBCQUFldUIsSUFBZixDQUFvQkUsTUFBekI7QUFBaUMsYUFBT0gsY0FBY3BCLE1BQXJCO0FBQ2pDLFNBQUssMEJBQWVxQixJQUFmLENBQW9CRyxVQUF6QjtBQUFxQyxhQUFPSixjQUFjbkIsS0FBckI7QUFIdkM7QUFLRDs7QUFFRCxTQUFTSyxhQUFULENBQXdCYyxhQUF4QixFQUF1Q2IsSUFBdkMsRUFBNkNDLElBQTdDLEVBQW1EO0FBQ2pELFFBQU1pQixNQUFNVixhQUFhSyxhQUFiLEVBQTRCYixJQUE1QixDQUFaO0FBQ0EsTUFBSUYsT0FBT29CLElBQUlULEdBQUosQ0FBUVIsSUFBUixDQUFYOztBQUVBLE1BQUksQ0FBQ0gsSUFBTCxFQUFXO0FBQ1RBLFdBQU8sRUFBUDtBQUNBb0IsUUFBSUMsR0FBSixDQUFRbEIsSUFBUixFQUFjSCxJQUFkO0FBQ0Q7O0FBRUQsU0FBT0EsSUFBUDtBQUNEIiwiZmlsZSI6IjE4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNoYWRlclZhcmlhYmxlIGZyb20gJy4vc2hhZGVyX3ZhcmlhYmxlJ1xuaW1wb3J0IFNoYWRlclZhcmlhYmxlR3JvdXAgZnJvbSAnLi9zaGFkZXJfdmFyaWFibGVfZ3JvdXAnXG5cbi8qKlxuICogQSBTaGFkZXJDb250ZXh0IGtlZXBzIG5hbWVkIHJlZmVyZW5jZXMgdG8gYWxsIHNoYWRlciBfdmFyaWFibGVzX1xuICogdG8gbWFrZSB0aGVtIGF2YWlsYWJsZSBmb3Igc2hhZGVyIF9wcm9ncmFtc18uXG4gKiBFYWNoIG5hbWVkIHJlZmVyZW5jZSBpcyBvcmdhbml6ZWQgYXMgYSBfc3RhY2tfIHdoZXJlIHlvdSBjYW4gcHVzaFxuICogb3IgcG9wIHNoYWRlciB2YXJpYWJsZSBfdmFsdWVzXy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2hhZGVyQ29udGV4dCB7XG4gIGNvbnN0cnVjdG9yICgpIHtcbiAgICB0aGlzLnVuaWZvcm0gPSBuZXcgTWFwKClcbiAgICB0aGlzLmF0dHJpYiA9IG5ldyBNYXAoKVxuICAgIHRoaXMudGV4MmQgPSBuZXcgTWFwKClcbiAgfVxuXG4gIGNsZWFyICgpIHtcbiAgICB0aGlzLnVuaWZvcm0uY2xlYXIoKVxuICAgIHRoaXMuYXR0cmliLmNsZWFyKClcbiAgICB0aGlzLnRleDJkLmNsZWFyKClcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1NoYWRlclZhcmlhYmxlfFNoYWRlclZhcmlhYmxlR3JvdXB9IHNoYWRlclZhcmlhYmxlXG4gICAqL1xuICBwdXNoVmFyIChzaGFkZXJWYXJpYWJsZSkge1xuICAgIGlmIChzaGFkZXJWYXJpYWJsZSBpbnN0YW5jZW9mIFNoYWRlclZhcmlhYmxlR3JvdXApIHtcbiAgICAgIHNoYWRlclZhcmlhYmxlLnB1c2hWYXIodGhpcylcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbGFuZSA9IHNoYWRlclZhckxhbmUodGhpcywgc2hhZGVyVmFyaWFibGUudHlwZSwgc2hhZGVyVmFyaWFibGUubmFtZSlcbiAgICAgIGxhbmUucHVzaChzaGFkZXJWYXJpYWJsZSlcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGN1cnJlbnQgc2hhZGVyIHZhcmlhYmxlIHBsdXMgYWxsIGxhdGVyIHNldCB2YXJpYWJsZXMgZnJvbSBuYW1lZCBzaGFkZXIgdmFyaWFibGUgc3RhY2suXG4gICAqIEBwYXJhbSB7U2hhZGVyVmFyaWFibGV8U2hhZGVyVmFyaWFibGVHcm91cH0gc2hhZGVyVmFyaWFibGVcbiAgICovXG4gIHBvcFZhciAoc2hhZGVyVmFyaWFibGUpIHtcbiAgICBpZiAoc2hhZGVyVmFyaWFibGUgaW5zdGFuY2VvZiBTaGFkZXJWYXJpYWJsZUdyb3VwKSB7XG4gICAgICBzaGFkZXJWYXJpYWJsZS5wb3BWYXIodGhpcylcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbGFuZSA9IHNoYWRlclZhckxhbmUodGhpcywgc2hhZGVyVmFyaWFibGUudHlwZSwgc2hhZGVyVmFyaWFibGUubmFtZSlcbiAgICAgIGNvbnN0IGxlbiA9IGxhbmUubGVuZ3RoXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgIGlmIChsYW5lW2ldID09PSBzaGFkZXJWYXJpYWJsZSkge1xuICAgICAgICAgIGxhbmUubGVuZ3RoID0gaVxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiBjdXJyZW50IHNoYWRlciB2YXJpYWJsZSBieSBuYW1lIGFuZCB0eXBlLlxuICAgKiBAcGFyYW0ge1NoYWRlclZhcmlhYmxlfSBzaGFkZXJWYXJpYWJsZVxuICAgKiBAcmV0dXJuIHtTaGFkZXJWYXJpYWJsZX0gb3IgYG51bGxgXG4gICAqL1xuICBjdXJWYXIgKHNoYWRlclZhcmlhYmxlKSB7XG4gICAgY29uc3QgbGFuZSA9IHNoYWRlclZhck1hcCh0aGlzLCBzaGFkZXJWYXJpYWJsZS50eXBlKS5nZXQoc2hhZGVyVmFyaWFibGUubmFtZSlcbiAgICByZXR1cm4gbGFuZSAmJiBsYW5lLmxlbmd0aCA/IGxhbmVbbGFuZS5sZW5ndGggLSAxXSA6IG51bGxcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gY3VycmVudCBfdW5pZm9ybV8gc2hhZGVyIHZhcmlhYmxlIGJ5IG5hbWUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAqIEByZXR1cm4ge1NoYWRlclVuaWZvcm1WYXJpYWJsZX0gb3IgYG51bGxgXG4gICAqL1xuICBjdXJVbmlmb3JtIChuYW1lKSB7XG4gICAgY29uc3QgbGFuZSA9IHRoaXMudW5pZm9ybS5nZXQobmFtZSlcbiAgICByZXR1cm4gbGFuZSAmJiBsYW5lLmxlbmd0aCA/IGxhbmVbbGFuZS5sZW5ndGggLSAxXSA6IG51bGxcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gY3VycmVudCBfYXR0cmlidXRlXyBzaGFkZXIgdmFyaWFibGUgYnkgbmFtZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICogQHJldHVybiB7U2hhZGVyQXR0cmliVmFyaWFibGV9IG9yIGBudWxsYFxuICAgKi9cbiAgY3VyQXR0cmliIChuYW1lKSB7XG4gICAgY29uc3QgbGFuZSA9IHRoaXMuYXR0cmliLmdldChuYW1lKVxuICAgIHJldHVybiBsYW5lICYmIGxhbmUubGVuZ3RoID8gbGFuZVtsYW5lLmxlbmd0aCAtIDFdIDogbnVsbFxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiBjdXJyZW50IF90ZXh0dXJlMmRfIHNoYWRlciB2YXJpYWJsZSBieSBuYW1lLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgKiBAcmV0dXJuIHtTaGFkZXJUZXh0dXJlMmRWYXJpYWJsZX0gb3IgYG51bGxgXG4gICAqL1xuICBjdXJUZXgyZCAobmFtZSkge1xuICAgIGNvbnN0IGxhbmUgPSB0aGlzLnRleDJkLmdldChuYW1lKVxuICAgIHJldHVybiBsYW5lICYmIGxhbmUubGVuZ3RoID8gbGFuZVtsYW5lLmxlbmd0aCAtIDFdIDogbnVsbFxuICB9XG59XG5cbmZ1bmN0aW9uIHNoYWRlclZhck1hcCAoc2hhZGVyQ29udGV4dCwgdHlwZSkge1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlIFNoYWRlclZhcmlhYmxlLlRZUEUuVU5JRk9STTogcmV0dXJuIHNoYWRlckNvbnRleHQudW5pZm9ybVxuICAgIGNhc2UgU2hhZGVyVmFyaWFibGUuVFlQRS5BVFRSSUI6IHJldHVybiBzaGFkZXJDb250ZXh0LmF0dHJpYlxuICAgIGNhc2UgU2hhZGVyVmFyaWFibGUuVFlQRS5URVhUVVJFXzJEOiByZXR1cm4gc2hhZGVyQ29udGV4dC50ZXgyZFxuICB9XG59XG5cbmZ1bmN0aW9uIHNoYWRlclZhckxhbmUgKHNoYWRlckNvbnRleHQsIHR5cGUsIG5hbWUpIHtcbiAgY29uc3QgbWFwID0gc2hhZGVyVmFyTWFwKHNoYWRlckNvbnRleHQsIHR5cGUpXG4gIGxldCBsYW5lID0gbWFwLmdldChuYW1lKVxuXG4gIGlmICghbGFuZSkge1xuICAgIGxhbmUgPSBbXVxuICAgIG1hcC5zZXQobmFtZSwgbGFuZSlcbiAgfVxuXG4gIHJldHVybiBsYW5lXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29yZS9zaGFkZXJfY29udGV4dC5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 19 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Shader attribute variable *alias*.\n */\nclass ShaderVariableAlias {\n  /**\n   * @param {string} name\n   * @param {number|Object} value\n   */\n  constructor(name, shaderVar) {\n    this.name = name;\n    this.shaderVar = shaderVar;\n  }\n\n  get type() {\n    return this.shaderVar.type;\n  }\n\n  get value() {\n    return this.shaderVar.value;\n  }\n\n  get serial() {\n    return this.shaderVar.serial;\n  }\n}\nexports.default = ShaderVariableAlias;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9zaGFkZXJfdmFyaWFibGVfYWxpYXMuanM/ZWIxMSJdLCJuYW1lcyI6WyJTaGFkZXJWYXJpYWJsZUFsaWFzIiwiY29uc3RydWN0b3IiLCJuYW1lIiwic2hhZGVyVmFyIiwidHlwZSIsInZhbHVlIiwic2VyaWFsIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBOzs7QUFHZSxNQUFNQSxtQkFBTixDQUEwQjtBQUN2Qzs7OztBQUlBQyxjQUFhQyxJQUFiLEVBQW1CQyxTQUFuQixFQUE4QjtBQUM1QixTQUFLRCxJQUFMLEdBQVlBLElBQVo7QUFDQSxTQUFLQyxTQUFMLEdBQWlCQSxTQUFqQjtBQUNEOztBQUVELE1BQUlDLElBQUosR0FBWTtBQUNWLFdBQU8sS0FBS0QsU0FBTCxDQUFlQyxJQUF0QjtBQUNEOztBQUVELE1BQUlDLEtBQUosR0FBYTtBQUNYLFdBQU8sS0FBS0YsU0FBTCxDQUFlRSxLQUF0QjtBQUNEOztBQUVELE1BQUlDLE1BQUosR0FBYztBQUNaLFdBQU8sS0FBS0gsU0FBTCxDQUFlRyxNQUF0QjtBQUNEO0FBcEJzQztrQkFBcEJOLG1CIiwiZmlsZSI6IjE5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBTaGFkZXIgYXR0cmlidXRlIHZhcmlhYmxlICphbGlhcyouXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNoYWRlclZhcmlhYmxlQWxpYXMge1xuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICogQHBhcmFtIHtudW1iZXJ8T2JqZWN0fSB2YWx1ZVxuICAgKi9cbiAgY29uc3RydWN0b3IgKG5hbWUsIHNoYWRlclZhcikge1xuICAgIHRoaXMubmFtZSA9IG5hbWVcbiAgICB0aGlzLnNoYWRlclZhciA9IHNoYWRlclZhclxuICB9XG5cbiAgZ2V0IHR5cGUgKCkge1xuICAgIHJldHVybiB0aGlzLnNoYWRlclZhci50eXBlXG4gIH1cblxuICBnZXQgdmFsdWUgKCkge1xuICAgIHJldHVybiB0aGlzLnNoYWRlclZhci52YWx1ZVxuICB9XG5cbiAgZ2V0IHNlcmlhbCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2hhZGVyVmFyLnNlcmlhbFxuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29yZS9zaGFkZXJfdmFyaWFibGVfYWxpYXMuanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (descriptor, aliases) {\n  if (typeof aliases !== 'object') return;\n\n  Object.keys(aliases).forEach(name => {\n    let attr = aliases[name];\n\n    if (typeof attr === 'string') {\n      attr = descriptor.attr[attr];\n\n      if (attr !== undefined) {\n        descriptor.attr[name] = attr;\n      }\n    } else {\n      descriptor.attr[name] = new _v_o_attr_descriptor2.default(name, attr.type, attr.size, attr.offset, attr.byteOffset, !!attr.uniform, attr.attrNames);\n    }\n  });\n};\n\nvar _v_o_attr_descriptor = __webpack_require__(4);\n\nvar _v_o_attr_descriptor2 = _interopRequireDefault(_v_o_attr_descriptor);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS92X29fZGVzY3JpcHRvci9jcmVhdGVfYWxpYXNlcy5qcz9iYmJlIl0sIm5hbWVzIjpbImRlc2NyaXB0b3IiLCJhbGlhc2VzIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJuYW1lIiwiYXR0ciIsInVuZGVmaW5lZCIsInR5cGUiLCJzaXplIiwib2Zmc2V0IiwiYnl0ZU9mZnNldCIsInVuaWZvcm0iLCJhdHRyTmFtZXMiXSwibWFwcGluZ3MiOiI7Ozs7OztrQkFHZSxVQUFVQSxVQUFWLEVBQXNCQyxPQUF0QixFQUErQjtBQUM1QyxNQUFJLE9BQU9BLE9BQVAsS0FBbUIsUUFBdkIsRUFBaUM7O0FBRWpDQyxTQUFPQyxJQUFQLENBQVlGLE9BQVosRUFBcUJHLE9BQXJCLENBQTZCQyxRQUFRO0FBQ25DLFFBQUlDLE9BQU9MLFFBQVNJLElBQVQsQ0FBWDs7QUFFQSxRQUFJLE9BQU9DLElBQVAsS0FBZ0IsUUFBcEIsRUFBOEI7QUFDNUJBLGFBQU9OLFdBQVdNLElBQVgsQ0FBaUJBLElBQWpCLENBQVA7O0FBRUEsVUFBSUEsU0FBU0MsU0FBYixFQUF3QjtBQUN0QlAsbUJBQVdNLElBQVgsQ0FBaUJELElBQWpCLElBQTBCQyxJQUExQjtBQUNEO0FBQ0YsS0FORCxNQU1PO0FBQ0xOLGlCQUFXTSxJQUFYLENBQWlCRCxJQUFqQixJQUEwQixrQ0FBcUJBLElBQXJCLEVBQTJCQyxLQUFLRSxJQUFoQyxFQUFzQ0YsS0FBS0csSUFBM0MsRUFBaURILEtBQUtJLE1BQXRELEVBQThESixLQUFLSyxVQUFuRSxFQUErRSxDQUFDLENBQUNMLEtBQUtNLE9BQXRGLEVBQStGTixLQUFLTyxTQUFwRyxDQUExQjtBQUNEO0FBQ0YsR0FaRDtBQWFELEM7O0FBbkJEIiwiZmlsZSI6IjIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFZPQXR0ckRlc2NyaXB0b3IgZnJvbSAnLi4vdl9vX2F0dHJfZGVzY3JpcHRvcidcblxuLyoqIEBwcml2YXRlICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoZGVzY3JpcHRvciwgYWxpYXNlcykge1xuICBpZiAodHlwZW9mIGFsaWFzZXMgIT09ICdvYmplY3QnKSByZXR1cm5cblxuICBPYmplY3Qua2V5cyhhbGlhc2VzKS5mb3JFYWNoKG5hbWUgPT4ge1xuICAgIGxldCBhdHRyID0gYWxpYXNlc1sgbmFtZSBdXG5cbiAgICBpZiAodHlwZW9mIGF0dHIgPT09ICdzdHJpbmcnKSB7XG4gICAgICBhdHRyID0gZGVzY3JpcHRvci5hdHRyWyBhdHRyIF1cblxuICAgICAgaWYgKGF0dHIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBkZXNjcmlwdG9yLmF0dHJbIG5hbWUgXSA9IGF0dHJcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZGVzY3JpcHRvci5hdHRyWyBuYW1lIF0gPSBuZXcgVk9BdHRyRGVzY3JpcHRvcihuYW1lLCBhdHRyLnR5cGUsIGF0dHIuc2l6ZSwgYXR0ci5vZmZzZXQsIGF0dHIuYnl0ZU9mZnNldCwgISFhdHRyLnVuaWZvcm0sIGF0dHIuYXR0ck5hbWVzKVxuICAgIH1cbiAgfSlcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb3JlL3Zfb19kZXNjcmlwdG9yL2NyZWF0ZV9hbGlhc2VzLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 21 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (descriptor, attributes) {\n  descriptor.attr = {};\n  descriptor.attrNames = [];\n\n  if (Array.isArray(attributes)) {\n    let offset = 0;\n    let byteOffset = 0;\n\n    for (let i = 0; i < attributes.length; ++i) {\n      const attr = attributes[i];\n\n      if (attr.size === undefined) throw new Error('vertex object attribute descriptor has no size!');\n\n      const type = attr.type || 'float32';\n\n      if (attr.name !== undefined) {\n        descriptor.attrNames.push(attr.name);\n        descriptor.attr[attr.name] = new _v_o_attr_descriptor2.default(attr.name, type, attr.size, offset, byteOffset, !!attr.uniform, attr.attrNames);\n      }\n\n      offset += attr.size;\n      byteOffset += _typed_array_helpers.BYTES_PER_ELEMENT[type] * attr.size;\n    }\n\n    // bytes per vertex is always aligned to 4-bytes!\n    descriptor.rightPadBytesPerVertex = byteOffset % 4 > 0 ? 4 - byteOffset % 4 : 0;\n    descriptor.bytesPerVertex = byteOffset + descriptor.rightPadBytesPerVertex;\n    descriptor.bytesPerVO = descriptor.bytesPerVertex * descriptor.vertexCount;\n    descriptor.vertexAttrCount = offset;\n  }\n\n  descriptor.attrList = descriptor.attrNames.map(name => descriptor.attr[name]);\n};\n\nvar _typed_array_helpers = __webpack_require__(1);\n\nvar _v_o_attr_descriptor = __webpack_require__(4);\n\nvar _v_o_attr_descriptor2 = _interopRequireDefault(_v_o_attr_descriptor);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS92X29fZGVzY3JpcHRvci9jcmVhdGVfYXR0cmlidXRlcy5qcz8xNjNkIl0sIm5hbWVzIjpbImRlc2NyaXB0b3IiLCJhdHRyaWJ1dGVzIiwiYXR0ciIsImF0dHJOYW1lcyIsIkFycmF5IiwiaXNBcnJheSIsIm9mZnNldCIsImJ5dGVPZmZzZXQiLCJpIiwibGVuZ3RoIiwic2l6ZSIsInVuZGVmaW5lZCIsIkVycm9yIiwidHlwZSIsIm5hbWUiLCJwdXNoIiwidW5pZm9ybSIsInJpZ2h0UGFkQnl0ZXNQZXJWZXJ0ZXgiLCJieXRlc1BlclZlcnRleCIsImJ5dGVzUGVyVk8iLCJ2ZXJ0ZXhDb3VudCIsInZlcnRleEF0dHJDb3VudCIsImF0dHJMaXN0IiwibWFwIl0sIm1hcHBpbmdzIjoiOzs7Ozs7a0JBSWUsVUFBVUEsVUFBVixFQUFzQkMsVUFBdEIsRUFBa0M7QUFDL0NELGFBQVdFLElBQVgsR0FBa0IsRUFBbEI7QUFDQUYsYUFBV0csU0FBWCxHQUF1QixFQUF2Qjs7QUFFQSxNQUFJQyxNQUFNQyxPQUFOLENBQWNKLFVBQWQsQ0FBSixFQUErQjtBQUM3QixRQUFJSyxTQUFTLENBQWI7QUFDQSxRQUFJQyxhQUFhLENBQWpCOztBQUVBLFNBQUssSUFBSUMsSUFBSSxDQUFiLEVBQWdCQSxJQUFJUCxXQUFXUSxNQUEvQixFQUF1QyxFQUFFRCxDQUF6QyxFQUE0QztBQUMxQyxZQUFNTixPQUFPRCxXQUFZTyxDQUFaLENBQWI7O0FBRUEsVUFBSU4sS0FBS1EsSUFBTCxLQUFjQyxTQUFsQixFQUE2QixNQUFNLElBQUlDLEtBQUosQ0FBVSxpREFBVixDQUFOOztBQUU3QixZQUFNQyxPQUFPWCxLQUFLVyxJQUFMLElBQWEsU0FBMUI7O0FBRUEsVUFBSVgsS0FBS1ksSUFBTCxLQUFjSCxTQUFsQixFQUE2QjtBQUMzQlgsbUJBQVdHLFNBQVgsQ0FBcUJZLElBQXJCLENBQTBCYixLQUFLWSxJQUEvQjtBQUNBZCxtQkFBV0UsSUFBWCxDQUFpQkEsS0FBS1ksSUFBdEIsSUFBK0Isa0NBQXFCWixLQUFLWSxJQUExQixFQUFnQ0QsSUFBaEMsRUFBc0NYLEtBQUtRLElBQTNDLEVBQWlESixNQUFqRCxFQUF5REMsVUFBekQsRUFBcUUsQ0FBQyxDQUFDTCxLQUFLYyxPQUE1RSxFQUFxRmQsS0FBS0MsU0FBMUYsQ0FBL0I7QUFDRDs7QUFFREcsZ0JBQVVKLEtBQUtRLElBQWY7QUFDQUgsb0JBQWMsdUNBQW1CTSxJQUFuQixJQUE0QlgsS0FBS1EsSUFBL0M7QUFDRDs7QUFFRDtBQUNBVixlQUFXaUIsc0JBQVgsR0FBb0NWLGFBQWEsQ0FBYixHQUFpQixDQUFqQixHQUFxQixJQUFLQSxhQUFhLENBQXZDLEdBQTRDLENBQWhGO0FBQ0FQLGVBQVdrQixjQUFYLEdBQTRCWCxhQUFhUCxXQUFXaUIsc0JBQXBEO0FBQ0FqQixlQUFXbUIsVUFBWCxHQUF3Qm5CLFdBQVdrQixjQUFYLEdBQTRCbEIsV0FBV29CLFdBQS9EO0FBQ0FwQixlQUFXcUIsZUFBWCxHQUE2QmYsTUFBN0I7QUFDRDs7QUFFRE4sYUFBV3NCLFFBQVgsR0FBc0J0QixXQUFXRyxTQUFYLENBQXFCb0IsR0FBckIsQ0FBeUJULFFBQVFkLFdBQVdFLElBQVgsQ0FBZ0JZLElBQWhCLENBQWpDLENBQXRCO0FBQ0QsQzs7QUFwQ0Q7O0FBQ0EiLCJmaWxlIjoiMjEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCWVRFU19QRVJfRUxFTUVOVCB9IGZyb20gJy4uLy4uL3V0aWxzL3R5cGVkX2FycmF5X2hlbHBlcnMnXG5pbXBvcnQgVk9BdHRyRGVzY3JpcHRvciBmcm9tICcuLi92X29fYXR0cl9kZXNjcmlwdG9yJ1xuXG4vKiogQHByaXZhdGUgKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChkZXNjcmlwdG9yLCBhdHRyaWJ1dGVzKSB7XG4gIGRlc2NyaXB0b3IuYXR0ciA9IHt9XG4gIGRlc2NyaXB0b3IuYXR0ck5hbWVzID0gW11cblxuICBpZiAoQXJyYXkuaXNBcnJheShhdHRyaWJ1dGVzKSkge1xuICAgIGxldCBvZmZzZXQgPSAwXG4gICAgbGV0IGJ5dGVPZmZzZXQgPSAwXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF0dHJpYnV0ZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgIGNvbnN0IGF0dHIgPSBhdHRyaWJ1dGVzWyBpIF1cblxuICAgICAgaWYgKGF0dHIuc2l6ZSA9PT0gdW5kZWZpbmVkKSB0aHJvdyBuZXcgRXJyb3IoJ3ZlcnRleCBvYmplY3QgYXR0cmlidXRlIGRlc2NyaXB0b3IgaGFzIG5vIHNpemUhJylcblxuICAgICAgY29uc3QgdHlwZSA9IGF0dHIudHlwZSB8fCAnZmxvYXQzMidcblxuICAgICAgaWYgKGF0dHIubmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGRlc2NyaXB0b3IuYXR0ck5hbWVzLnB1c2goYXR0ci5uYW1lKVxuICAgICAgICBkZXNjcmlwdG9yLmF0dHJbIGF0dHIubmFtZSBdID0gbmV3IFZPQXR0ckRlc2NyaXB0b3IoYXR0ci5uYW1lLCB0eXBlLCBhdHRyLnNpemUsIG9mZnNldCwgYnl0ZU9mZnNldCwgISFhdHRyLnVuaWZvcm0sIGF0dHIuYXR0ck5hbWVzKVxuICAgICAgfVxuXG4gICAgICBvZmZzZXQgKz0gYXR0ci5zaXplXG4gICAgICBieXRlT2Zmc2V0ICs9IEJZVEVTX1BFUl9FTEVNRU5UWyB0eXBlIF0gKiBhdHRyLnNpemVcbiAgICB9XG5cbiAgICAvLyBieXRlcyBwZXIgdmVydGV4IGlzIGFsd2F5cyBhbGlnbmVkIHRvIDQtYnl0ZXMhXG4gICAgZGVzY3JpcHRvci5yaWdodFBhZEJ5dGVzUGVyVmVydGV4ID0gYnl0ZU9mZnNldCAlIDQgPiAwID8gNCAtIChieXRlT2Zmc2V0ICUgNCkgOiAwXG4gICAgZGVzY3JpcHRvci5ieXRlc1BlclZlcnRleCA9IGJ5dGVPZmZzZXQgKyBkZXNjcmlwdG9yLnJpZ2h0UGFkQnl0ZXNQZXJWZXJ0ZXhcbiAgICBkZXNjcmlwdG9yLmJ5dGVzUGVyVk8gPSBkZXNjcmlwdG9yLmJ5dGVzUGVyVmVydGV4ICogZGVzY3JpcHRvci52ZXJ0ZXhDb3VudFxuICAgIGRlc2NyaXB0b3IudmVydGV4QXR0ckNvdW50ID0gb2Zmc2V0XG4gIH1cblxuICBkZXNjcmlwdG9yLmF0dHJMaXN0ID0gZGVzY3JpcHRvci5hdHRyTmFtZXMubWFwKG5hbWUgPT4gZGVzY3JpcHRvci5hdHRyW25hbWVdKVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvcmUvdl9vX2Rlc2NyaXB0b3IvY3JlYXRlX2F0dHJpYnV0ZXMuanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 22 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (descriptor) {\n  descriptor.typedArrays = {\n    float32: false,\n    int16: false,\n    int32: false,\n    int8: false,\n    uint16: false,\n    uint32: false,\n    uint8: false\n  };\n\n  Object.keys(descriptor.attr).forEach(name => {\n    descriptor.typedArrays[descriptor.attr[name].type] = true;\n  });\n\n  Object.freeze(descriptor.typedArrays);\n\n  descriptor.typeList = Object.keys(descriptor.typedArrays).filter(type => descriptor.typedArrays[type]).sort();\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS92X29fZGVzY3JpcHRvci9jcmVhdGVfdHlwZWRfYXJyYXlzLmpzP2VhMzIiXSwibmFtZXMiOlsiZGVzY3JpcHRvciIsInR5cGVkQXJyYXlzIiwiZmxvYXQzMiIsImludDE2IiwiaW50MzIiLCJpbnQ4IiwidWludDE2IiwidWludDMyIiwidWludDgiLCJPYmplY3QiLCJrZXlzIiwiYXR0ciIsImZvckVhY2giLCJuYW1lIiwidHlwZSIsImZyZWV6ZSIsInR5cGVMaXN0IiwiZmlsdGVyIiwic29ydCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O2tCQUVlLFVBQVVBLFVBQVYsRUFBc0I7QUFDbkNBLGFBQVdDLFdBQVgsR0FBeUI7QUFDdkJDLGFBQVMsS0FEYztBQUV2QkMsV0FBTyxLQUZnQjtBQUd2QkMsV0FBTyxLQUhnQjtBQUl2QkMsVUFBTSxLQUppQjtBQUt2QkMsWUFBUSxLQUxlO0FBTXZCQyxZQUFRLEtBTmU7QUFPdkJDLFdBQU87QUFQZ0IsR0FBekI7O0FBVUFDLFNBQU9DLElBQVAsQ0FBWVYsV0FBV1csSUFBdkIsRUFBNkJDLE9BQTdCLENBQXFDQyxRQUFRO0FBQzNDYixlQUFXQyxXQUFYLENBQXVCRCxXQUFXVyxJQUFYLENBQWdCRSxJQUFoQixFQUFzQkMsSUFBN0MsSUFBcUQsSUFBckQ7QUFDRCxHQUZEOztBQUlBTCxTQUFPTSxNQUFQLENBQWNmLFdBQVdDLFdBQXpCOztBQUVBRCxhQUFXZ0IsUUFBWCxHQUFzQlAsT0FBT0MsSUFBUCxDQUFZVixXQUFXQyxXQUF2QixFQUFvQ2dCLE1BQXBDLENBQTJDSCxRQUFRZCxXQUFXQyxXQUFYLENBQXVCYSxJQUF2QixDQUFuRCxFQUFpRkksSUFBakYsRUFBdEI7QUFDRCxDIiwiZmlsZSI6IjIyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG4vKiogQHByaXZhdGUgKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChkZXNjcmlwdG9yKSB7XG4gIGRlc2NyaXB0b3IudHlwZWRBcnJheXMgPSB7XG4gICAgZmxvYXQzMjogZmFsc2UsXG4gICAgaW50MTY6IGZhbHNlLFxuICAgIGludDMyOiBmYWxzZSxcbiAgICBpbnQ4OiBmYWxzZSxcbiAgICB1aW50MTY6IGZhbHNlLFxuICAgIHVpbnQzMjogZmFsc2UsXG4gICAgdWludDg6IGZhbHNlXG4gIH1cblxuICBPYmplY3Qua2V5cyhkZXNjcmlwdG9yLmF0dHIpLmZvckVhY2gobmFtZSA9PiB7XG4gICAgZGVzY3JpcHRvci50eXBlZEFycmF5c1tkZXNjcmlwdG9yLmF0dHJbbmFtZV0udHlwZV0gPSB0cnVlXG4gIH0pXG5cbiAgT2JqZWN0LmZyZWV6ZShkZXNjcmlwdG9yLnR5cGVkQXJyYXlzKVxuXG4gIGRlc2NyaXB0b3IudHlwZUxpc3QgPSBPYmplY3Qua2V5cyhkZXNjcmlwdG9yLnR5cGVkQXJyYXlzKS5maWx0ZXIodHlwZSA9PiBkZXNjcmlwdG9yLnR5cGVkQXJyYXlzW3R5cGVdKS5zb3J0KClcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb3JlL3Zfb19kZXNjcmlwdG9yL2NyZWF0ZV90eXBlZF9hcnJheXMuanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 23 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (descriptor, proto) {\n  const propertiesObject = {\n\n    toArray: {\n\n      value: function value(attrNames) {\n        const arr = [];\n        const attrList = Array.isArray(attrNames) ? attrNames.map(name => descriptor.attr[name]) : descriptor.attrList;\n        const len = attrList.length;\n        for (let i = 0; i < descriptor.vertexCount; ++i) {\n          for (let j = 0; j < len; ++j) {\n            const attr = attrList[j];\n            for (let k = 0; k < attr.size; ++k) {\n              arr.push(attr.getValue(this, i, k));\n            }\n          }\n        }\n        return arr;\n      }\n\n    }\n\n  };\n\n  Object.keys(descriptor.attr).forEach(name => {\n    const attr = descriptor.attr[name];\n\n    _v_o_attr_descriptor2.default.defineProperties(attr, propertiesObject, descriptor);\n  });\n\n  descriptor.voPrototype = Object.create(typeof proto === 'object' ? proto : {}, propertiesObject);\n};\n\nvar _v_o_attr_descriptor = __webpack_require__(4);\n\nvar _v_o_attr_descriptor2 = _interopRequireDefault(_v_o_attr_descriptor);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS92X29fZGVzY3JpcHRvci9jcmVhdGVfdl9vX3Byb3RvdHlwZS5qcz82NTNkIl0sIm5hbWVzIjpbImRlc2NyaXB0b3IiLCJwcm90byIsInByb3BlcnRpZXNPYmplY3QiLCJ0b0FycmF5IiwidmFsdWUiLCJhdHRyTmFtZXMiLCJhcnIiLCJhdHRyTGlzdCIsIkFycmF5IiwiaXNBcnJheSIsIm1hcCIsIm5hbWUiLCJhdHRyIiwibGVuIiwibGVuZ3RoIiwiaSIsInZlcnRleENvdW50IiwiaiIsImsiLCJzaXplIiwicHVzaCIsImdldFZhbHVlIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJkZWZpbmVQcm9wZXJ0aWVzIiwidm9Qcm90b3R5cGUiLCJjcmVhdGUiXSwibWFwcGluZ3MiOiI7Ozs7OztrQkFHZSxVQUFVQSxVQUFWLEVBQXNCQyxLQUF0QixFQUE2QjtBQUMxQyxRQUFNQyxtQkFBbUI7O0FBRXZCQyxhQUFTOztBQUVQQyxhQUFPLGVBQVVDLFNBQVYsRUFBcUI7QUFDMUIsY0FBTUMsTUFBTSxFQUFaO0FBQ0EsY0FBTUMsV0FBV0MsTUFBTUMsT0FBTixDQUFjSixTQUFkLElBQ2JBLFVBQVVLLEdBQVYsQ0FBY0MsUUFBUVgsV0FBV1ksSUFBWCxDQUFnQkQsSUFBaEIsQ0FBdEIsQ0FEYSxHQUViWCxXQUFXTyxRQUZmO0FBR0EsY0FBTU0sTUFBTU4sU0FBU08sTUFBckI7QUFDQSxhQUFLLElBQUlDLElBQUksQ0FBYixFQUFnQkEsSUFBSWYsV0FBV2dCLFdBQS9CLEVBQTRDLEVBQUVELENBQTlDLEVBQWlEO0FBQy9DLGVBQUssSUFBSUUsSUFBSSxDQUFiLEVBQWdCQSxJQUFJSixHQUFwQixFQUF5QixFQUFFSSxDQUEzQixFQUE4QjtBQUM1QixrQkFBTUwsT0FBT0wsU0FBU1UsQ0FBVCxDQUFiO0FBQ0EsaUJBQUssSUFBSUMsSUFBSSxDQUFiLEVBQWdCQSxJQUFJTixLQUFLTyxJQUF6QixFQUErQixFQUFFRCxDQUFqQyxFQUFvQztBQUNsQ1osa0JBQUljLElBQUosQ0FBU1IsS0FBS1MsUUFBTCxDQUFjLElBQWQsRUFBb0JOLENBQXBCLEVBQXVCRyxDQUF2QixDQUFUO0FBQ0Q7QUFDRjtBQUNGO0FBQ0QsZUFBT1osR0FBUDtBQUNEOztBQWpCTTs7QUFGYyxHQUF6Qjs7QUF5QkFnQixTQUFPQyxJQUFQLENBQVl2QixXQUFXWSxJQUF2QixFQUE2QlksT0FBN0IsQ0FBcUNiLFFBQVE7QUFDM0MsVUFBTUMsT0FBT1osV0FBV1ksSUFBWCxDQUFpQkQsSUFBakIsQ0FBYjs7QUFFQSxrQ0FBaUJjLGdCQUFqQixDQUFrQ2IsSUFBbEMsRUFBd0NWLGdCQUF4QyxFQUEwREYsVUFBMUQ7QUFDRCxHQUpEOztBQU1BQSxhQUFXMEIsV0FBWCxHQUF5QkosT0FBT0ssTUFBUCxDQUFlLE9BQU8xQixLQUFQLEtBQWlCLFFBQWpCLEdBQTRCQSxLQUE1QixHQUFvQyxFQUFuRCxFQUF3REMsZ0JBQXhELENBQXpCO0FBQ0QsQzs7QUFwQ0QiLCJmaWxlIjoiMjMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVk9BdHRyRGVzY3JpcHRvciBmcm9tICcuLi92X29fYXR0cl9kZXNjcmlwdG9yJ1xuXG4vKiogQHByaXZhdGUgKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChkZXNjcmlwdG9yLCBwcm90bykge1xuICBjb25zdCBwcm9wZXJ0aWVzT2JqZWN0ID0ge1xuXG4gICAgdG9BcnJheToge1xuXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gKGF0dHJOYW1lcykge1xuICAgICAgICBjb25zdCBhcnIgPSBbXVxuICAgICAgICBjb25zdCBhdHRyTGlzdCA9IEFycmF5LmlzQXJyYXkoYXR0ck5hbWVzKVxuICAgICAgICAgID8gYXR0ck5hbWVzLm1hcChuYW1lID0+IGRlc2NyaXB0b3IuYXR0cltuYW1lXSlcbiAgICAgICAgICA6IGRlc2NyaXB0b3IuYXR0ckxpc3RcbiAgICAgICAgY29uc3QgbGVuID0gYXR0ckxpc3QubGVuZ3RoXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVzY3JpcHRvci52ZXJ0ZXhDb3VudDsgKytpKSB7XG4gICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBsZW47ICsraikge1xuICAgICAgICAgICAgY29uc3QgYXR0ciA9IGF0dHJMaXN0W2pdXG4gICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IGF0dHIuc2l6ZTsgKytrKSB7XG4gICAgICAgICAgICAgIGFyci5wdXNoKGF0dHIuZ2V0VmFsdWUodGhpcywgaSwgaykpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJcbiAgICAgIH1cblxuICAgIH1cblxuICB9XG5cbiAgT2JqZWN0LmtleXMoZGVzY3JpcHRvci5hdHRyKS5mb3JFYWNoKG5hbWUgPT4ge1xuICAgIGNvbnN0IGF0dHIgPSBkZXNjcmlwdG9yLmF0dHJbIG5hbWUgXVxuXG4gICAgVk9BdHRyRGVzY3JpcHRvci5kZWZpbmVQcm9wZXJ0aWVzKGF0dHIsIHByb3BlcnRpZXNPYmplY3QsIGRlc2NyaXB0b3IpXG4gIH0pXG5cbiAgZGVzY3JpcHRvci52b1Byb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoKHR5cGVvZiBwcm90byA9PT0gJ29iamVjdCcgPyBwcm90byA6IHt9KSwgcHJvcGVydGllc09iamVjdClcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb3JlL3Zfb19kZXNjcmlwdG9yL2NyZWF0ZV92X29fcHJvdG90eXBlLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 24 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _v_o_helper = __webpack_require__(25);\n\nvar _v_o_array = __webpack_require__(3);\n\nvar _v_o_array2 = _interopRequireDefault(_v_o_array);\n\nvar _create_v_o_prototype = __webpack_require__(23);\n\nvar _create_v_o_prototype2 = _interopRequireDefault(_create_v_o_prototype);\n\nvar _create_typed_arrays = __webpack_require__(22);\n\nvar _create_typed_arrays2 = _interopRequireDefault(_create_typed_arrays);\n\nvar _create_attributes = __webpack_require__(21);\n\nvar _create_attributes2 = _interopRequireDefault(_create_attributes);\n\nvar _create_aliases = __webpack_require__(20);\n\nvar _create_aliases2 = _interopRequireDefault(_create_aliases);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Vertex object descriptor.\n *\n * @class VODescriptor\n *\n * @param {Object} options\n * @param {number} options.vertexCount - number of vertices\n * @param {Object[]} options.attributes - list of vertex attribute descriptions (see example)\n * @param {Object} [options.aliases] - *optional* list of attribute aliases\n * @param {Object} [options.proto]\n *\n * @example\n * const descriptor = new VODescriptor({\n *\n *     proto: {\n *         foo() {\n *             return this.voArray.float32Array[0];\n *         }\n *     },\n *\n *     // vertex buffer layout\n *     // --------------------\n *     //\n *     // v0: (x0)(y0)(z0)(rotate](s0)(t0)(tx)(ty)(scale)(opacity)\n *     // v1: (x1)(y1)(z1)(rotate](s1)(t1)(tx)(ty)(scale)(opacity)\n *     // v2: (x2)(y2)(z2)(rotate](s2)(t2)(tx)(ty)(scale)(opacity)\n *     // v3: (x3)(y3)(z3)(rotate](s3)(t3)(tx)(ty)(scale)(opacity)\n *     //\n *     vertexCount: 4,\n *\n *     attributes: [\n *\n *         { name: 'position',  type: 'float32', size: 3, attrNames: [ 'x', 'y', 'z' ] },\n *         { name: 'rotate',    type: 'float32', size: 1, uniform: true },\n *         { name: 'texCoords', type: 'float32', size: 2, attrNames: [ 's', 't' ] },\n *         { name: 'translate', type: 'float32', size: 2, attrNames: [ 'tx', 'ty' ], uniform: true },\n *         { name: 'scale',     type: 'float32', size: 1, uniform: true },\n *         { name: 'opacity',   type: 'float32', size: 1, uniform: true }\n *\n *     ],\n *\n *     aliases: {\n *\n *         pos2d: { size: 2, type: 'float32', offset: 0 },\n *         posZ:  { size: 1, type: 'float32', offset: 2, uniform: true },\n *         r:     { size: 1, type: 'float32', offset: 3 },\n *         uv:    'texCoords',\n *\n *     }\n *\n * });\n *\n */\n\nclass VODescriptor {\n  constructor(_ref) {\n    let vertexCount = _ref.vertexCount,\n        attributes = _ref.attributes,\n        aliases = _ref.aliases,\n        proto = _ref.proto;\n\n    this.vertexCount = parseInt(vertexCount, 10);\n\n    (0, _create_attributes2.default)(this, attributes);\n    (0, _create_aliases2.default)(this, aliases);\n    (0, _create_v_o_prototype2.default)(this, proto);\n    (0, _create_typed_arrays2.default)(this);\n\n    // === winterklte jetzt\n\n    Object.keys(this.attr).forEach(name => Object.freeze(this.attr[name]));\n    Object.freeze(this.attr);\n    Object.freeze(this);\n  }\n\n  /**\n   * @param {number} [size=1]\n   * @returns {VOArray}\n   */\n  createVOArray() {\n    let size = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n\n    return new _v_o_array2.default(this, size);\n  }\n\n  /**\n   * Create a new *vertex object*\n   *\n   * @param {VOArray} [voArray]\n   * @returns {Object} the *vertex object*\n   */\n  createVO(voArray) {\n    return (0, _v_o_helper.createVO)(Object.create(this.voPrototype), this, voArray);\n  }\n\n  /**\n   * @param {string} name\n   * @param {number} size - attribute item count\n   * @returns {boolean}\n   */\n  hasAttribute(name, size) {\n    const attr = this.attr[name];\n    return attr && attr.size === size;\n  }\n\n  /**\n   * Max number of vertex objects when a vertex buffer is used together\n   * with a indexed element array to draw primitives. the reason for\n   * such a limit is that webgl restricts element array indices\n   * to an uin16 data type.\n   * @type {number}\n   */\n\n  get maxIndexedVOPoolSize() {\n    return Math.floor(65536 / this.vertexCount);\n  }\n}\nexports.default = VODescriptor;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS92X29fZGVzY3JpcHRvci9pbmRleC5qcz83N2U1Il0sIm5hbWVzIjpbIlZPRGVzY3JpcHRvciIsImNvbnN0cnVjdG9yIiwidmVydGV4Q291bnQiLCJhdHRyaWJ1dGVzIiwiYWxpYXNlcyIsInByb3RvIiwicGFyc2VJbnQiLCJPYmplY3QiLCJrZXlzIiwiYXR0ciIsImZvckVhY2giLCJuYW1lIiwiZnJlZXplIiwiY3JlYXRlVk9BcnJheSIsInNpemUiLCJjcmVhdGVWTyIsInZvQXJyYXkiLCJjcmVhdGUiLCJ2b1Byb3RvdHlwZSIsImhhc0F0dHJpYnV0ZSIsIm1heEluZGV4ZWRWT1Bvb2xTaXplIiwiTWF0aCIsImZsb29yIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7QUFFQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBc0RlLE1BQU1BLFlBQU4sQ0FBbUI7QUFDaENDLG9CQUEwRDtBQUFBLFFBQTNDQyxXQUEyQyxRQUEzQ0EsV0FBMkM7QUFBQSxRQUE5QkMsVUFBOEIsUUFBOUJBLFVBQThCO0FBQUEsUUFBbEJDLE9BQWtCLFFBQWxCQSxPQUFrQjtBQUFBLFFBQVRDLEtBQVMsUUFBVEEsS0FBUzs7QUFDeEQsU0FBS0gsV0FBTCxHQUFtQkksU0FBU0osV0FBVCxFQUFzQixFQUF0QixDQUFuQjs7QUFFQSxxQ0FBaUIsSUFBakIsRUFBdUJDLFVBQXZCO0FBQ0Esa0NBQWMsSUFBZCxFQUFvQkMsT0FBcEI7QUFDQSx3Q0FBa0IsSUFBbEIsRUFBd0JDLEtBQXhCO0FBQ0EsdUNBQWtCLElBQWxCOztBQUVBOztBQUVBRSxXQUFPQyxJQUFQLENBQVksS0FBS0MsSUFBakIsRUFBdUJDLE9BQXZCLENBQStCQyxRQUFRSixPQUFPSyxNQUFQLENBQWMsS0FBS0gsSUFBTCxDQUFVRSxJQUFWLENBQWQsQ0FBdkM7QUFDQUosV0FBT0ssTUFBUCxDQUFjLEtBQUtILElBQW5CO0FBQ0FGLFdBQU9LLE1BQVAsQ0FBYyxJQUFkO0FBQ0Q7O0FBRUQ7Ozs7QUFJQUMsa0JBQXlCO0FBQUEsUUFBVkMsSUFBVSx1RUFBSCxDQUFHOztBQUN2QixXQUFPLHdCQUFZLElBQVosRUFBa0JBLElBQWxCLENBQVA7QUFDRDs7QUFFRDs7Ozs7O0FBTUFDLFdBQVVDLE9BQVYsRUFBbUI7QUFDakIsV0FBTywwQkFBU1QsT0FBT1UsTUFBUCxDQUFjLEtBQUtDLFdBQW5CLENBQVQsRUFBMEMsSUFBMUMsRUFBZ0RGLE9BQWhELENBQVA7QUFDRDs7QUFFRDs7Ozs7QUFLQUcsZUFBY1IsSUFBZCxFQUFvQkcsSUFBcEIsRUFBMEI7QUFDeEIsVUFBTUwsT0FBTyxLQUFLQSxJQUFMLENBQVdFLElBQVgsQ0FBYjtBQUNBLFdBQU9GLFFBQVFBLEtBQUtLLElBQUwsS0FBY0EsSUFBN0I7QUFDRDs7QUFFRDs7Ozs7Ozs7QUFRQSxNQUFJTSxvQkFBSixHQUE0QjtBQUMxQixXQUFPQyxLQUFLQyxLQUFMLENBQVcsUUFBUSxLQUFLcEIsV0FBeEIsQ0FBUDtBQUNEO0FBdEQrQjtrQkFBYkYsWSIsImZpbGUiOiIyNC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZVZPIH0gZnJvbSAnLi4vdl9vX2hlbHBlcidcbmltcG9ydCBWT0FycmF5IGZyb20gJy4uL3Zfb19hcnJheSdcbmltcG9ydCBjcmVhdGVWT1Byb3RvdHlwZSBmcm9tICcuL2NyZWF0ZV92X29fcHJvdG90eXBlJ1xuaW1wb3J0IGNyZWF0ZVR5cGVkQXJyYXlzIGZyb20gJy4vY3JlYXRlX3R5cGVkX2FycmF5cydcbmltcG9ydCBjcmVhdGVBdHRyaWJ1dGVzIGZyb20gJy4vY3JlYXRlX2F0dHJpYnV0ZXMnXG5pbXBvcnQgY3JlYXRlQWxpYXNlcyBmcm9tICcuL2NyZWF0ZV9hbGlhc2VzJ1xuXG4vKipcbiAqIFZlcnRleCBvYmplY3QgZGVzY3JpcHRvci5cbiAqXG4gKiBAY2xhc3MgVk9EZXNjcmlwdG9yXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLnZlcnRleENvdW50IC0gbnVtYmVyIG9mIHZlcnRpY2VzXG4gKiBAcGFyYW0ge09iamVjdFtdfSBvcHRpb25zLmF0dHJpYnV0ZXMgLSBsaXN0IG9mIHZlcnRleCBhdHRyaWJ1dGUgZGVzY3JpcHRpb25zIChzZWUgZXhhbXBsZSlcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5hbGlhc2VzXSAtICpvcHRpb25hbCogbGlzdCBvZiBhdHRyaWJ1dGUgYWxpYXNlc1xuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLnByb3RvXVxuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBkZXNjcmlwdG9yID0gbmV3IFZPRGVzY3JpcHRvcih7XG4gKlxuICogICAgIHByb3RvOiB7XG4gKiAgICAgICAgIGZvbygpIHtcbiAqICAgICAgICAgICAgIHJldHVybiB0aGlzLnZvQXJyYXkuZmxvYXQzMkFycmF5WzBdO1xuICogICAgICAgICB9XG4gKiAgICAgfSxcbiAqXG4gKiAgICAgLy8gdmVydGV4IGJ1ZmZlciBsYXlvdXRcbiAqICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogICAgIC8vXG4gKiAgICAgLy8gdjA6ICh4MCkoeTApKHowKShyb3RhdGVdKHMwKSh0MCkodHgpKHR5KShzY2FsZSkob3BhY2l0eSlcbiAqICAgICAvLyB2MTogKHgxKSh5MSkoejEpKHJvdGF0ZV0oczEpKHQxKSh0eCkodHkpKHNjYWxlKShvcGFjaXR5KVxuICogICAgIC8vIHYyOiAoeDIpKHkyKSh6Mikocm90YXRlXShzMikodDIpKHR4KSh0eSkoc2NhbGUpKG9wYWNpdHkpXG4gKiAgICAgLy8gdjM6ICh4MykoeTMpKHozKShyb3RhdGVdKHMzKSh0MykodHgpKHR5KShzY2FsZSkob3BhY2l0eSlcbiAqICAgICAvL1xuICogICAgIHZlcnRleENvdW50OiA0LFxuICpcbiAqICAgICBhdHRyaWJ1dGVzOiBbXG4gKlxuICogICAgICAgICB7IG5hbWU6ICdwb3NpdGlvbicsICB0eXBlOiAnZmxvYXQzMicsIHNpemU6IDMsIGF0dHJOYW1lczogWyAneCcsICd5JywgJ3onIF0gfSxcbiAqICAgICAgICAgeyBuYW1lOiAncm90YXRlJywgICAgdHlwZTogJ2Zsb2F0MzInLCBzaXplOiAxLCB1bmlmb3JtOiB0cnVlIH0sXG4gKiAgICAgICAgIHsgbmFtZTogJ3RleENvb3JkcycsIHR5cGU6ICdmbG9hdDMyJywgc2l6ZTogMiwgYXR0ck5hbWVzOiBbICdzJywgJ3QnIF0gfSxcbiAqICAgICAgICAgeyBuYW1lOiAndHJhbnNsYXRlJywgdHlwZTogJ2Zsb2F0MzInLCBzaXplOiAyLCBhdHRyTmFtZXM6IFsgJ3R4JywgJ3R5JyBdLCB1bmlmb3JtOiB0cnVlIH0sXG4gKiAgICAgICAgIHsgbmFtZTogJ3NjYWxlJywgICAgIHR5cGU6ICdmbG9hdDMyJywgc2l6ZTogMSwgdW5pZm9ybTogdHJ1ZSB9LFxuICogICAgICAgICB7IG5hbWU6ICdvcGFjaXR5JywgICB0eXBlOiAnZmxvYXQzMicsIHNpemU6IDEsIHVuaWZvcm06IHRydWUgfVxuICpcbiAqICAgICBdLFxuICpcbiAqICAgICBhbGlhc2VzOiB7XG4gKlxuICogICAgICAgICBwb3MyZDogeyBzaXplOiAyLCB0eXBlOiAnZmxvYXQzMicsIG9mZnNldDogMCB9LFxuICogICAgICAgICBwb3NaOiAgeyBzaXplOiAxLCB0eXBlOiAnZmxvYXQzMicsIG9mZnNldDogMiwgdW5pZm9ybTogdHJ1ZSB9LFxuICogICAgICAgICByOiAgICAgeyBzaXplOiAxLCB0eXBlOiAnZmxvYXQzMicsIG9mZnNldDogMyB9LFxuICogICAgICAgICB1djogICAgJ3RleENvb3JkcycsXG4gKlxuICogICAgIH1cbiAqXG4gKiB9KTtcbiAqXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVk9EZXNjcmlwdG9yIHtcbiAgY29uc3RydWN0b3IgKHsgdmVydGV4Q291bnQsIGF0dHJpYnV0ZXMsIGFsaWFzZXMsIHByb3RvIH0pIHtcbiAgICB0aGlzLnZlcnRleENvdW50ID0gcGFyc2VJbnQodmVydGV4Q291bnQsIDEwKVxuXG4gICAgY3JlYXRlQXR0cmlidXRlcyh0aGlzLCBhdHRyaWJ1dGVzKVxuICAgIGNyZWF0ZUFsaWFzZXModGhpcywgYWxpYXNlcylcbiAgICBjcmVhdGVWT1Byb3RvdHlwZSh0aGlzLCBwcm90bylcbiAgICBjcmVhdGVUeXBlZEFycmF5cyh0aGlzKVxuXG4gICAgLy8gPT09IHdpbnRlcmvDpGx0ZSBqZXR6dFxuXG4gICAgT2JqZWN0LmtleXModGhpcy5hdHRyKS5mb3JFYWNoKG5hbWUgPT4gT2JqZWN0LmZyZWV6ZSh0aGlzLmF0dHJbbmFtZV0pKVxuICAgIE9iamVjdC5mcmVlemUodGhpcy5hdHRyKVxuICAgIE9iamVjdC5mcmVlemUodGhpcylcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gW3NpemU9MV1cbiAgICogQHJldHVybnMge1ZPQXJyYXl9XG4gICAqL1xuICBjcmVhdGVWT0FycmF5IChzaXplID0gMSkge1xuICAgIHJldHVybiBuZXcgVk9BcnJheSh0aGlzLCBzaXplKVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyAqdmVydGV4IG9iamVjdCpcbiAgICpcbiAgICogQHBhcmFtIHtWT0FycmF5fSBbdm9BcnJheV1cbiAgICogQHJldHVybnMge09iamVjdH0gdGhlICp2ZXJ0ZXggb2JqZWN0KlxuICAgKi9cbiAgY3JlYXRlVk8gKHZvQXJyYXkpIHtcbiAgICByZXR1cm4gY3JlYXRlVk8oT2JqZWN0LmNyZWF0ZSh0aGlzLnZvUHJvdG90eXBlKSwgdGhpcywgdm9BcnJheSlcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZSAtIGF0dHJpYnV0ZSBpdGVtIGNvdW50XG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgaGFzQXR0cmlidXRlIChuYW1lLCBzaXplKSB7XG4gICAgY29uc3QgYXR0ciA9IHRoaXMuYXR0clsgbmFtZSBdXG4gICAgcmV0dXJuIGF0dHIgJiYgYXR0ci5zaXplID09PSBzaXplXG4gIH1cblxuICAvKipcbiAgICogTWF4IG51bWJlciBvZiB2ZXJ0ZXggb2JqZWN0cyB3aGVuIGEgdmVydGV4IGJ1ZmZlciBpcyB1c2VkIHRvZ2V0aGVyXG4gICAqIHdpdGggYSBpbmRleGVkIGVsZW1lbnQgYXJyYXkgdG8gZHJhdyBwcmltaXRpdmVzLiB0aGUgcmVhc29uIGZvclxuICAgKiBzdWNoIGEgbGltaXQgaXMgdGhhdCB3ZWJnbCByZXN0cmljdHMgZWxlbWVudCBhcnJheSBpbmRpY2VzXG4gICAqIHRvIGFuIHVpbjE2IGRhdGEgdHlwZS5cbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG5cbiAgZ2V0IG1heEluZGV4ZWRWT1Bvb2xTaXplICgpIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcig2NTUzNiAvIHRoaXMudmVydGV4Q291bnQpXG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb3JlL3Zfb19kZXNjcmlwdG9yL2luZGV4LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 25 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createVO = createVO;\n\n/** @private */\nfunction createVO(obj, descriptor, voArray) {\n  // set VODescriptor\n  //\n  obj.descriptor = descriptor || (voArray ? voArray.descriptor : null);\n\n  if (!obj.descriptor) {\n    throw new Error('could not detect VODescriptor!');\n  }\n\n  // set VOArray\n  //\n  obj.voArray = voArray || obj.descriptor.createVOArray();\n\n  if (obj.descriptor !== obj.voArray.descriptor && (obj.descriptor.vertexCount !== obj.voArray.descriptor.vertexCount || obj.descriptor.vertexAttrCount !== obj.voArray.descriptor.vertexAttrCount)) {\n    throw new Error('Incompatible vertex object descriptors!');\n  }\n\n  return obj;\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS92X29faGVscGVyLmpzPzJkYjEiXSwibmFtZXMiOlsiY3JlYXRlVk8iLCJvYmoiLCJkZXNjcmlwdG9yIiwidm9BcnJheSIsIkVycm9yIiwiY3JlYXRlVk9BcnJheSIsInZlcnRleENvdW50IiwidmVydGV4QXR0ckNvdW50Il0sIm1hcHBpbmdzIjoiOzs7OztRQUVnQkEsUSxHQUFBQSxROztBQURoQjtBQUNPLFNBQVNBLFFBQVQsQ0FBbUJDLEdBQW5CLEVBQXdCQyxVQUF4QixFQUFvQ0MsT0FBcEMsRUFBNkM7QUFDbEQ7QUFDQTtBQUNBRixNQUFJQyxVQUFKLEdBQWlCQSxlQUFlQyxVQUFVQSxRQUFRRCxVQUFsQixHQUErQixJQUE5QyxDQUFqQjs7QUFFQSxNQUFJLENBQUNELElBQUlDLFVBQVQsRUFBcUI7QUFDbkIsVUFBTSxJQUFJRSxLQUFKLENBQVUsZ0NBQVYsQ0FBTjtBQUNEOztBQUVEO0FBQ0E7QUFDQUgsTUFBSUUsT0FBSixHQUFjQSxXQUFXRixJQUFJQyxVQUFKLENBQWVHLGFBQWYsRUFBekI7O0FBRUEsTUFBSUosSUFBSUMsVUFBSixLQUFtQkQsSUFBSUUsT0FBSixDQUFZRCxVQUEvQixLQUNERCxJQUFJQyxVQUFKLENBQWVJLFdBQWYsS0FBK0JMLElBQUlFLE9BQUosQ0FBWUQsVUFBWixDQUF1QkksV0FBdEQsSUFDQ0wsSUFBSUMsVUFBSixDQUFlSyxlQUFmLEtBQW1DTixJQUFJRSxPQUFKLENBQVlELFVBQVosQ0FBdUJLLGVBRjFELENBQUosRUFFZ0Y7QUFDOUUsVUFBTSxJQUFJSCxLQUFKLENBQVUseUNBQVYsQ0FBTjtBQUNEOztBQUVELFNBQU9ILEdBQVA7QUFDRCIsImZpbGUiOiIyNS5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLyoqIEBwcml2YXRlICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVk8gKG9iaiwgZGVzY3JpcHRvciwgdm9BcnJheSkge1xuICAvLyBzZXQgVk9EZXNjcmlwdG9yXG4gIC8vXG4gIG9iai5kZXNjcmlwdG9yID0gZGVzY3JpcHRvciB8fCAodm9BcnJheSA/IHZvQXJyYXkuZGVzY3JpcHRvciA6IG51bGwpXG5cbiAgaWYgKCFvYmouZGVzY3JpcHRvcikge1xuICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IGRldGVjdCBWT0Rlc2NyaXB0b3IhJylcbiAgfVxuXG4gIC8vIHNldCBWT0FycmF5XG4gIC8vXG4gIG9iai52b0FycmF5ID0gdm9BcnJheSB8fCBvYmouZGVzY3JpcHRvci5jcmVhdGVWT0FycmF5KClcblxuICBpZiAob2JqLmRlc2NyaXB0b3IgIT09IG9iai52b0FycmF5LmRlc2NyaXB0b3IgJiZcbiAgICAob2JqLmRlc2NyaXB0b3IudmVydGV4Q291bnQgIT09IG9iai52b0FycmF5LmRlc2NyaXB0b3IudmVydGV4Q291bnQgfHxcbiAgICAgIG9iai5kZXNjcmlwdG9yLnZlcnRleEF0dHJDb3VudCAhPT0gb2JqLnZvQXJyYXkuZGVzY3JpcHRvci52ZXJ0ZXhBdHRyQ291bnQpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbmNvbXBhdGlibGUgdmVydGV4IG9iamVjdCBkZXNjcmlwdG9ycyEnKVxuICB9XG5cbiAgcmV0dXJuIG9ialxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvcmUvdl9vX2hlbHBlci5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 26 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (voPool) {\n  let maxAllocSize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n  const max = voPool.capacity - voPool.usedCount - voPool.allocatedCount;\n  const len = voPool.allocatedCount + (maxAllocSize > 0 && maxAllocSize < max ? maxAllocSize : max);\n\n  for (let i = voPool.allocatedCount; i < len; i++) {\n    let voArray = voPool.voArray.subarray(i);\n\n    let vertexObject = voPool.descriptor.createVO(voArray);\n    vertexObject.free = voPool.free.bind(voPool, vertexObject);\n\n    voPool.availableVOs.push(vertexObject);\n  }\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS92X29fcG9vbC9jcmVhdGVfdmVydGV4X29iamVjdHMuanM/YThlZiJdLCJuYW1lcyI6WyJ2b1Bvb2wiLCJtYXhBbGxvY1NpemUiLCJtYXgiLCJjYXBhY2l0eSIsInVzZWRDb3VudCIsImFsbG9jYXRlZENvdW50IiwibGVuIiwiaSIsInZvQXJyYXkiLCJzdWJhcnJheSIsInZlcnRleE9iamVjdCIsImRlc2NyaXB0b3IiLCJjcmVhdGVWTyIsImZyZWUiLCJiaW5kIiwiYXZhaWxhYmxlVk9zIiwicHVzaCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O2tCQUtlLFVBQVVBLE1BQVYsRUFBb0M7QUFBQSxNQUFsQkMsWUFBa0IsdUVBQUgsQ0FBRzs7QUFDakQsUUFBTUMsTUFBTUYsT0FBT0csUUFBUCxHQUFrQkgsT0FBT0ksU0FBekIsR0FBcUNKLE9BQU9LLGNBQXhEO0FBQ0EsUUFBTUMsTUFBTU4sT0FBT0ssY0FBUCxJQUF5QkosZUFBZSxDQUFmLElBQW9CQSxlQUFlQyxHQUFuQyxHQUF5Q0QsWUFBekMsR0FBd0RDLEdBQWpGLENBQVo7O0FBRUEsT0FBSyxJQUFJSyxJQUFJUCxPQUFPSyxjQUFwQixFQUFvQ0UsSUFBSUQsR0FBeEMsRUFBNkNDLEdBQTdDLEVBQWtEO0FBQ2hELFFBQUlDLFVBQVVSLE9BQU9RLE9BQVAsQ0FBZUMsUUFBZixDQUF3QkYsQ0FBeEIsQ0FBZDs7QUFFQSxRQUFJRyxlQUFlVixPQUFPVyxVQUFQLENBQWtCQyxRQUFsQixDQUEyQkosT0FBM0IsQ0FBbkI7QUFDQUUsaUJBQWFHLElBQWIsR0FBb0JiLE9BQU9hLElBQVAsQ0FBWUMsSUFBWixDQUFpQmQsTUFBakIsRUFBeUJVLFlBQXpCLENBQXBCOztBQUVBVixXQUFPZSxZQUFQLENBQW9CQyxJQUFwQixDQUF5Qk4sWUFBekI7QUFDRDtBQUNGLEMiLCJmaWxlIjoiMjYuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbi8qKlxuICogUHJlLWFsbG9jYXRlIGEgYnVuY2ggb2YgdmVydGV4IG9iamVjdHMuXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAodm9Qb29sLCBtYXhBbGxvY1NpemUgPSAwKSB7XG4gIGNvbnN0IG1heCA9IHZvUG9vbC5jYXBhY2l0eSAtIHZvUG9vbC51c2VkQ291bnQgLSB2b1Bvb2wuYWxsb2NhdGVkQ291bnRcbiAgY29uc3QgbGVuID0gdm9Qb29sLmFsbG9jYXRlZENvdW50ICsgKG1heEFsbG9jU2l6ZSA+IDAgJiYgbWF4QWxsb2NTaXplIDwgbWF4ID8gbWF4QWxsb2NTaXplIDogbWF4KVxuXG4gIGZvciAobGV0IGkgPSB2b1Bvb2wuYWxsb2NhdGVkQ291bnQ7IGkgPCBsZW47IGkrKykge1xuICAgIGxldCB2b0FycmF5ID0gdm9Qb29sLnZvQXJyYXkuc3ViYXJyYXkoaSlcblxuICAgIGxldCB2ZXJ0ZXhPYmplY3QgPSB2b1Bvb2wuZGVzY3JpcHRvci5jcmVhdGVWTyh2b0FycmF5KVxuICAgIHZlcnRleE9iamVjdC5mcmVlID0gdm9Qb29sLmZyZWUuYmluZCh2b1Bvb2wsIHZlcnRleE9iamVjdClcblxuICAgIHZvUG9vbC5hdmFpbGFibGVWT3MucHVzaCh2ZXJ0ZXhPYmplY3QpXG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb3JlL3Zfb19wb29sL2NyZWF0ZV92ZXJ0ZXhfb2JqZWN0cy5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 27 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _create_vertex_objects = __webpack_require__(26);\n\nvar _create_vertex_objects2 = _interopRequireDefault(_create_vertex_objects);\n\nvar _generate_uuid = __webpack_require__(0);\n\nvar _generate_uuid2 = _interopRequireDefault(_generate_uuid);\n\nvar _v_o_array = __webpack_require__(3);\n\nvar _v_o_array2 = _interopRequireDefault(_v_o_array);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass VOPool {\n  /**\n   * @param {VODescriptor} descriptor - vertex object descriptor\n   * @param {Object} [options] - Advanced options\n   * @param {number} [options.capacity] - Maximum number of *vertex objects*\n   * @param {VOArray} [options.voArray] - Vertex object array\n   * @param {VertexObject} [options.voZero] - *vertex object* **prototype**\n   * @param {VertexObject} [options.voNew] - *vertex object* **prototype**\n   * @param {VertexObject} [options.maxAllocVOSize] - never allocate more than *maxAllocVOSize* vertex objects at once\n   * @param {string} [options.usage=VOPool.USAGE.DYNAMIC] - vertex data usage hint\n   */\n\n  constructor(descriptor, options) {\n    this.id = (0, _generate_uuid2.default)();\n\n    this.descriptor = descriptor;\n    this.capacity = options && options.capacity || this.descriptor.maxIndexedVOPoolSize;\n    this.maxAllocVOSize = options && options.maxAllocVOSize || 0;\n\n    this.usage = options && options.usage || VOPool.USAGE.DYNAMIC;\n\n    let voArray = options && options.voArray;\n    if (voArray) {\n      if (voArray.usage !== this.usage) {\n        throw new Error(`VOPool usage(=${this.usage}) mismatch with given voArray(usage=${voArray.usage})`);\n      }\n    } else {\n      voArray = descriptor.createVOArray(this.capacity, this.usage);\n    }\n    this.voArray = voArray;\n\n    this.voZero = options && options.voZero || descriptor.createVO();\n    this.voNew = options && options.voNew || descriptor.createVO();\n\n    this.availableVOs = [];\n    this.usedVOs = [];\n\n    (0, _create_vertex_objects2.default)(this, this.maxAllocVOSize);\n  }\n\n  /**\n   * Number of in use *vertex objects*.\n   * @type {number}\n   */\n\n  get usedCount() {\n    return this.usedVOs.length;\n  }\n\n  /**\n   * Number of free and unused *vertex objects*.\n   * @type {number}\n   */\n\n  get availableCount() {\n    return this.capacity - this.usedVOs.length;\n  }\n\n  /**\n   * Number of **allocated** *vertex objects*.\n   * @type {number}\n   */\n\n  get allocatedCount() {\n    return this.availableVOs.length + this.usedVOs.length;\n  }\n\n  /**\n   * Return **size** *vertex objects*\n   * @return {VertexObject|VertexObject[]}\n   */\n\n  alloc() {\n    let size = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n\n    if (size > 1) {\n      const arr = [];\n      for (let i = 0; i < size; ++i) {\n        const vo = this.alloc(1);\n        if (vo !== undefined) {\n          arr.push(vo);\n        } else {\n          break;\n        }\n      }\n      return arr;\n    }\n\n    const vo = this.availableVOs.shift();\n\n    if (vo === undefined) {\n      if (this.capacity - this.allocatedCount > 0) {\n        (0, _create_vertex_objects2.default)(this, this.maxAllocVOSize);\n        return this.alloc();\n      } else {\n        return;\n      }\n    }\n\n    this.usedVOs.push(vo);\n\n    vo.voArray.copy(this.voNew.voArray);\n\n    return vo;\n  }\n\n  /**\n   * @param {VertexObject|VertexObject[]} vo - vertex object(s)\n   */\n\n  free(vo) {\n    if (Array.isArray(vo)) {\n      vo.forEach(_vo => _vo.free());\n      return;\n    }\n\n    const idx = this.usedVOs.indexOf(vo);\n\n    if (idx === -1) return;\n\n    const lastIdx = this.usedVOs.length - 1;\n\n    if (idx !== lastIdx) {\n      const last = this.usedVOs[lastIdx];\n      vo.voArray.copy(last.voArray);\n\n      const tmp = last.voArray;\n      last.voArray = vo.voArray;\n      vo.voArray = tmp;\n\n      this.usedVOs.splice(idx, 1, last);\n    }\n\n    this.usedVOs.pop();\n    this.availableVOs.unshift(vo);\n\n    vo.voArray.copy(this.voZero.voArray);\n  }\n}\n\nexports.default = VOPool;\nVOPool.USAGE = _v_o_array2.default.USAGE;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS92X29fcG9vbC9pbmRleC5qcz8wMDk5Il0sIm5hbWVzIjpbIlZPUG9vbCIsImNvbnN0cnVjdG9yIiwiZGVzY3JpcHRvciIsIm9wdGlvbnMiLCJpZCIsImNhcGFjaXR5IiwibWF4SW5kZXhlZFZPUG9vbFNpemUiLCJtYXhBbGxvY1ZPU2l6ZSIsInVzYWdlIiwiVVNBR0UiLCJEWU5BTUlDIiwidm9BcnJheSIsIkVycm9yIiwiY3JlYXRlVk9BcnJheSIsInZvWmVybyIsImNyZWF0ZVZPIiwidm9OZXciLCJhdmFpbGFibGVWT3MiLCJ1c2VkVk9zIiwidXNlZENvdW50IiwibGVuZ3RoIiwiYXZhaWxhYmxlQ291bnQiLCJhbGxvY2F0ZWRDb3VudCIsImFsbG9jIiwic2l6ZSIsImFyciIsImkiLCJ2byIsInVuZGVmaW5lZCIsInB1c2giLCJzaGlmdCIsImNvcHkiLCJmcmVlIiwiQXJyYXkiLCJpc0FycmF5IiwiZm9yRWFjaCIsIl92byIsImlkeCIsImluZGV4T2YiLCJsYXN0SWR4IiwibGFzdCIsInRtcCIsInNwbGljZSIsInBvcCIsInVuc2hpZnQiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7O0FBRWUsTUFBTUEsTUFBTixDQUFhO0FBQzFCOzs7Ozs7Ozs7OztBQVdBQyxjQUFhQyxVQUFiLEVBQXlCQyxPQUF6QixFQUFrQztBQUNoQyxTQUFLQyxFQUFMLEdBQVUsOEJBQVY7O0FBRUEsU0FBS0YsVUFBTCxHQUFrQkEsVUFBbEI7QUFDQSxTQUFLRyxRQUFMLEdBQWlCRixXQUFXQSxRQUFRRSxRQUFwQixJQUFpQyxLQUFLSCxVQUFMLENBQWdCSSxvQkFBakU7QUFDQSxTQUFLQyxjQUFMLEdBQXVCSixXQUFXQSxRQUFRSSxjQUFwQixJQUF1QyxDQUE3RDs7QUFFQSxTQUFLQyxLQUFMLEdBQWNMLFdBQVdBLFFBQVFLLEtBQXBCLElBQThCUixPQUFPUyxLQUFQLENBQWFDLE9BQXhEOztBQUVBLFFB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WixTQUFHaEIsT0FBSCxDQUFXb0IsSUFBWCxDQUFnQlMsS0FBSzdCLE9BQXJCOztBQUVBLFlBQU04QixNQUFNRCxLQUFLN0IsT0FBakI7QUFDQTZCLFdBQUs3QixPQUFMLEdBQWVnQixHQUFHaEIsT0FBbEI7QUFDQWdCLFNBQUdoQixPQUFILEdBQWE4QixHQUFiOztBQUVBLFdBQUt2QixPQUFMLENBQWF3QixNQUFiLENBQW9CTCxHQUFwQixFQUF5QixDQUF6QixFQUE0QkcsSUFBNUI7QUFDRDs7QUFFRCxTQUFLdEIsT0FBTCxDQUFheUIsR0FBYjtBQUNBLFNBQUsxQixZQUFMLENBQWtCMkIsT0FBbEIsQ0FBMEJqQixFQUExQjs7QUFFQUEsT0FBR2hCLE9BQUgsQ0FBV29CLElBQVgsQ0FBZ0IsS0FBS2pCLE1BQUwsQ0FBWUgsT0FBNUI7QUFDRDtBQXZJeUI7O2tCQUFQWCxNO0FBMElyQkEsT0FBT1MsS0FBUCxHQUFlLG9CQUFRQSxLQUF2QiIsImZpbGUiOiIyNy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjcmVhdGVWZXJ0ZXhPYmplY3RzIGZyb20gJy4vY3JlYXRlX3ZlcnRleF9vYmplY3RzJ1xuaW1wb3J0IGdlbmVyYXRlVVVJRCBmcm9tICcuLi8uLi91dGlscy9nZW5lcmF0ZV91dWlkJ1xuaW1wb3J0IFZPQXJyYXkgZnJvbSAnLi4vdl9vX2FycmF5J1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWT1Bvb2wge1xuICAvKipcbiAgICogQHBhcmFtIHtWT0Rlc2NyaXB0b3J9IGRlc2NyaXB0b3IgLSB2ZXJ0ZXggb2JqZWN0IGRlc2NyaXB0b3JcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAtIEFkdmFuY2VkIG9wdGlvbnNcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNhcGFjaXR5XSAtIE1heGltdW0gbnVtYmVyIG9mICp2ZXJ0ZXggb2JqZWN0cypcbiAgICogQHBhcmFtIHtWT0FycmF5fSBbb3B0aW9ucy52b0FycmF5XSAtIFZlcnRleCBvYmplY3QgYXJyYXlcbiAgICogQHBhcmFtIHtWZXJ0ZXhPYmplY3R9IFtvcHRpb25zLnZvWmVyb10gLSAqdmVydGV4IG9iamVjdCogKipwcm90b3R5cGUqKlxuICAgKiBAcGFyYW0ge1ZlcnRleE9iamVjdH0gW29wdGlvbnMudm9OZXddIC0gKnZlcnRleCBvYmplY3QqICoqcHJvdG90eXBlKipcbiAgICogQHBhcmFtIHtWZXJ0ZXhPYmplY3R9IFtvcHRpb25zLm1heEFsbG9jVk9TaXplXSAtIG5ldmVyIGFsbG9jYXRlIG1vcmUgdGhhbiAqbWF4QWxsb2NWT1NpemUqIHZlcnRleCBvYmplY3RzIGF0IG9uY2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnVzYWdlPVZPUG9vbC5VU0FHRS5EWU5BTUlDXSAtIHZlcnRleCBkYXRhIHVzYWdlIGhpbnRcbiAgICovXG5cbiAgY29uc3RydWN0b3IgKGRlc2NyaXB0b3IsIG9wdGlvbnMpIHtcbiAgICB0aGlzLmlkID0gZ2VuZXJhdGVVVUlEKClcblxuICAgIHRoaXMuZGVzY3JpcHRvciA9IGRlc2NyaXB0b3JcbiAgICB0aGlzLmNhcGFjaXR5ID0gKG9wdGlvbnMgJiYgb3B0aW9ucy5jYXBhY2l0eSkgfHwgdGhpcy5kZXNjcmlwdG9yLm1heEluZGV4ZWRWT1Bvb2xTaXplXG4gICAgdGhpcy5tYXhBbGxvY1ZPU2l6ZSA9IChvcHRpb25zICYmIG9wdGlvbnMubWF4QWxsb2NWT1NpemUpIHx8IDBcblxuICAgIHRoaXMudXNhZ2UgPSAob3B0aW9ucyAmJiBvcHRpb25zLnVzYWdlKSB8fCBWT1Bvb2wuVVNBR0UuRFlOQU1JQ1xuXG4gICAgbGV0IHZvQXJyYXkgPSBvcHRpb25zICYmIG9wdGlvbnMudm9BcnJheVxuICAgIGlmICh2b0FycmF5KSB7XG4gICAgICBpZiAodm9BcnJheS51c2FnZSAhPT0gdGhpcy51c2FnZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFZPUG9vbCB1c2FnZSg9JHt0aGlzLnVzYWdlfSkgbWlzbWF0Y2ggd2l0aCBnaXZlbiB2b0FycmF5KHVzYWdlPSR7dm9BcnJheS51c2FnZX0pYClcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdm9BcnJheSA9IGRlc2NyaXB0b3IuY3JlYXRlVk9BcnJheSh0aGlzLmNhcGFjaXR5LCB0aGlzLnVzYWdlKVxuICAgIH1cbiAgICB0aGlzLnZvQXJyYXkgPSB2b0FycmF5XG5cbiAgICB0aGlzLnZvWmVybyA9IChvcHRpb25zICYmIG9wdGlvbnMudm9aZXJvKSB8fCBkZXNjcmlwdG9yLmNyZWF0ZVZPKClcbiAgICB0aGlzLnZvTmV3ID0gKG9wdGlvbnMgJiYgb3B0aW9ucy52b05ldykgfHwgZGVzY3JpcHRvci5jcmVhdGVWTygpXG5cbiAgICB0aGlzLmF2YWlsYWJsZVZPcyA9IFtdXG4gICAgdGhpcy51c2VkVk9zID0gW11cblxuICAgIGNyZWF0ZVZlcnRleE9iamVjdHModGhpcywgdGhpcy5tYXhBbGxvY1ZPU2l6ZSlcbiAgfVxuXG4gIC8qKlxuICAgKiBOdW1iZXIgb2YgaW4gdXNlICp2ZXJ0ZXggb2JqZWN0cyouXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuXG4gIGdldCB1c2VkQ291bnQgKCkge1xuICAgIHJldHVybiB0aGlzLnVzZWRWT3MubGVuZ3RoXG4gIH1cblxuICAvKipcbiAgICogTnVtYmVyIG9mIGZyZWUgYW5kIHVudXNlZCAqdmVydGV4IG9iamVjdHMqLlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKi9cblxuICBnZXQgYXZhaWxhYmxlQ291bnQgKCkge1xuICAgIHJldHVybiB0aGlzLmNhcGFjaXR5IC0gdGhpcy51c2VkVk9zLmxlbmd0aFxuICB9XG5cbiAgLyoqXG4gICAqIE51bWJlciBvZiAqKmFsbG9jYXRlZCoqICp2ZXJ0ZXggb2JqZWN0cyouXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuXG4gIGdldCBhbGxvY2F0ZWRDb3VudCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuYXZhaWxhYmxlVk9zLmxlbmd0aCArIHRoaXMudXNlZFZPcy5sZW5ndGhcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gKipzaXplKiogKnZlcnRleCBvYmplY3RzKlxuICAgKiBAcmV0dXJuIHtWZXJ0ZXhPYmplY3R8VmVydGV4T2JqZWN0W119XG4gICAqL1xuXG4gIGFsbG9jIChzaXplID0gMSkge1xuICAgIGlmIChzaXplID4gMSkge1xuICAgICAgY29uc3QgYXJyID0gW11cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgKytpKSB7XG4gICAgICAgIGNvbnN0IHZvID0gdGhpcy5hbGxvYygxKVxuICAgICAgICBpZiAodm8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGFyci5wdXNoKHZvKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJcbiAgICB9XG5cbiAgICBjb25zdCB2byA9IHRoaXMuYXZhaWxhYmxlVk9zLnNoaWZ0KClcblxuICAgIGlmICh2byA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoKHRoaXMuY2FwYWNpdHkgLSB0aGlzLmFsbG9jYXRlZENvdW50KSA+IDApIHtcbiAgICAgICAgY3JlYXRlVmVydGV4T2JqZWN0cyh0aGlzLCB0aGlzLm1heEFsbG9jVk9TaXplKVxuICAgICAgICByZXR1cm4gdGhpcy5hbGxvYygpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnVzZWRWT3MucHVzaCh2bylcblxuICAgIHZvLnZvQXJyYXkuY29weSh0aGlzLnZvTmV3LnZvQXJyYXkpXG5cbiAgICByZXR1cm4gdm9cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1ZlcnRleE9iamVjdHxWZXJ0ZXhPYmplY3RbXX0gdm8gLSB2ZXJ0ZXggb2JqZWN0KHMpXG4gICAqL1xuXG4gIGZyZWUgKHZvKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodm8pKSB7XG4gICAgICB2by5mb3JFYWNoKF92byA9PiBfdm8uZnJlZSgpKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgaWR4ID0gdGhpcy51c2VkVk9zLmluZGV4T2Yodm8pXG5cbiAgICBpZiAoaWR4ID09PSAtMSkgcmV0dXJuXG5cbiAgICBjb25zdCBsYXN0SWR4ID0gdGhpcy51c2VkVk9zLmxlbmd0aCAtIDFcblxuICAgIGlmIChpZHggIT09IGxhc3RJZHgpIHtcbiAgICAgIGNvbnN0IGxhc3QgPSB0aGlzLnVzZWRWT3NbIGxhc3RJZHggXVxuICAgICAgdm8udm9BcnJheS5jb3B5KGxhc3Qudm9BcnJheSlcblxuICAgICAgY29uc3QgdG1wID0gbGFzdC52b0FycmF5XG4gICAgICBsYXN0LnZvQXJyYXkgPSB2by52b0FycmF5XG4gICAgICB2by52b0FycmF5ID0gdG1wXG5cbiAgICAgIHRoaXMudXNlZFZPcy5zcGxpY2UoaWR4LCAxLCBsYXN0KVxuICAgIH1cblxuICAgIHRoaXMudXNlZFZPcy5wb3AoKVxuICAgIHRoaXMuYXZhaWxhYmxlVk9zLnVuc2hpZnQodm8pXG5cbiAgICB2by52b0FycmF5LmNvcHkodGhpcy52b1plcm8udm9BcnJheSlcbiAgfVxufVxuXG5WT1Bvb2wuVVNBR0UgPSBWT0FycmF5LlVTQUdFXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29yZS92X29fcG9vbC9pbmRleC5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 28 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _blitp_element = __webpack_require__(29);\n\nvar _blitp_element2 = _interopRequireDefault(_blitp_element);\n\nvar _web_gl_context = __webpack_require__(32);\n\nvar _web_gl_context2 = _interopRequireDefault(_web_gl_context);\n\nvar _web_gl_renderer = __webpack_require__(34);\n\nvar _web_gl_renderer2 = _interopRequireDefault(_web_gl_renderer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst now = () => window.performance.now() / 1000;\n\n/**\n * The **custom HTML `<blitp-canvas></blitp-canvas>` element** represents the *webgl* canvas,\n * which acts also as the main API entrypoint for every *blitpunk* application.\n *\n * The size of the html element should be defined by css styles (eg. `display: block; width: 100%; height: 100%`) &mdash; without\n * any styles (or `display: inline`) the canvas will mimic the size of the parent element.\n *\n * You can customize the wegl context by specifying html attributes:\n * - `alpha`\n * - `depth`\n * - `stencil`\n * - `antialias`\n * - `premultipliedAlpha`\n * - `preserveDrawingBuffer`\n * - `failIfMajorPerformanceCaveat`\n *\n * _ATTENTION:_ changing these html attributes has no effect *after* the webgl context is initialized!\n *\n * @example\n * <!DOCTYPE html>\n * <html>\n * <head>\n *   <title>fullscreen blitpunk canvas example</title>\n *   <meta name=\"viewport\" content=\"width=device-width,initial-scale=1.0\">\n *   <style>\n *     html, body {\n *       margin: 0;\n *       overflow: hidden;\n *       width: 100%;\n *       height: 100%;\n *     }\n *   </style>\n * </head>\n * <body>\n *   <blitp-canvas alpha antialias>\n *     ...\n *   </blitp-canvas>\n *   ...\n */\nclass BlitpCanvas extends _blitp_element2.default {\n  /** @private */\n  initialize() {\n    /**\n     * @type {CanvasHTMLElement}\n     */\n    this.canvas = document.createElement('canvas');\n\n    /**\n     * The initial attributes used to create the webgl context\n     * @type {Object}\n     * @see https://developer.mozilla.org/de/docs/Web/API/HTMLCanvasElement/getContext\n     */\n    this.contextAttributes = Object.freeze({\n      alpha: this.hasAttribute('alpha'),\n      depth: this.hasAttribute('depth'),\n      stencil: this.hasAttribute('stencil'),\n      antialias: this.hasAttribute('antialias'),\n      premultipliedAlpha: this.hasAttribute('premultipliedAlpha'),\n      preserveDrawingBuffer: this.hasAttribute('preserveDrawingBuffer'),\n      failIfMajorPerformanceCaveat: this.hasAttribute('failIfMajorPerformanceCaveat')\n    });\n\n    /**\n     * @type {WebGlContext}\n     */\n    this.glx = new _web_gl_context2.default(createGlContext(this.canvas, this.contextAttributes));\n\n    /**\n     * @type {WebGlRenderer}\n     */\n    this.renderer = new _web_gl_renderer2.default(this.glx);\n\n    setCanvasStyles(this.canvas);\n    this.appendChild(this.canvas);\n\n    this.resize();\n\n    /**\n     * Seconds since `<blitp-canvas>` startup\n     * @type {number}\n     */\n    this.time = 0;\n\n    /**\n     * Startup time in seconds.\n     * @type {number}\n     */\n    this.startTime = now();\n\n    /**\n     * Frame counter since application startup\n     * @type {number}\n     */\n    this.frameNo = 0;\n  }\n\n  /**\n   * Start the main animation loop.\n   */\n  animate() {\n    this.renderFrame();\n    window.requestAnimationFrame(() => this.animate());\n  }\n\n  /**\n   * Render the frame.\n   */\n  renderFrame() {\n    ++this.frameNo;\n    this.time = now() - this.startTime;\n    this.resize();\n    this.renderer.renderFrame(this);\n  }\n\n  /**\n   * Resize the canvas dom element to the same size as the `<blitp-canvas>.parentNode`\n   */\n  resize() {\n    const style = window.getComputedStyle(this, null);\n    const el = style.display === 'inline' ? this.parentNode : this;\n\n    const canvas = this.canvas;\n\n    const dpr = window.devicePixelRatio || 1;\n\n    let wPx = el.clientWidth;\n    let hPx = el.clientHeight;\n\n    canvas.style.width = wPx + 'px';\n    canvas.style.height = hPx + 'px';\n\n    const w = Math.round(wPx * dpr);\n    const h = Math.round(hPx * dpr);\n\n    if (w !== canvas.width || h !== canvas.height) {\n      canvas.width = w;\n      canvas.height = h;\n    }\n\n    if (w !== this.width || h !== this.height) {\n      /**\n       * Canvas size in _device_ pixels.\n       * @type {number}\n       */\n      this.width = w;\n      /**\n       * Canvas size in _device_ pixels.\n       * @type {number}\n       */\n      this.height = h;\n\n      this.glx.gl.viewport(0, 0, w, h); // TODO move this into WebGlRenderer\n    }\n  }\n}\n\nexports.default = BlitpCanvas; /** @private */\n\nfunction setCanvasStyles(canvas) {\n  canvas.style.margin = '0';\n  canvas.style.padding = '0';\n  canvas.style.border = '0';\n  canvas.style.touchAction = 'none';\n  setUserSelectStyle(canvas);\n}\n\n/** @private */\nfunction setUserSelectStyle(element) {\n  let value = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'none';\n\n  if ('userSelect' in element.style) {\n    element.style.userSelect = value;\n  } else {\n    if ('webkitUserSelect' in element.style) element.style.webkitUserSelect = value;\n    if ('mozUserSelect' in element.style) element.style.mozUserSelect = value;\n    if ('msUserSelect' in element.style) element.style.msUserSelect = value;\n  }\n}\n\n/** @private */\nfunction createGlContext(canvas, ctxAttrs) {\n  let gl;\n\n  try {\n    gl = canvas.getContext('webgl', ctxAttrs);\n  } catch (err0) {\n    console.error(err0);\n  }\n\n  if (!gl) {\n    try {\n      gl = canvas.getContext('experimental-webgl', ctxAttrs);\n    } catch (err1) {\n      console.error(err1);\n    }\n  }\n\n  if (!gl) {\n    throw new Error('cannot create webgl1 context');\n  }\n\n  return gl;\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZG9tL2JsaXRwX2NhbnZhcy5qcz8zMDZkIl0sIm5hbWVzIjpbIm5vdyIsIndpbmRvdyIsInBlcmZvcm1hbmNlIiwiQmxpdHBDYW52YXMiLCJpbml0aWFsaXplIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY29udGV4dEF0dHJpYnV0ZXMiLCJPYmplY3QiLCJmcmVlemUiLCJhbHBoYSIsImhhc0F0dHJpYnV0ZSIsImRlcHRoIiwic3RlbmNpbCIsImFudGlhbGlhcyIsInByZW11bHRpcGxpZWRBbHBoYSIsInByZXNlcnZlRHJhd2luZ0J1ZmZlciIsImZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQiLCJnbHgiLCJjcmVhdGVHbENvbnRleHQiLCJyZW5kZXJlciIsInNldENhbnZhc1N0eWxlcyIsImFwcGVuZENoaWxkIiwicmVzaXplIiwidGltZSIsInN0YXJ0VGltZSIsImZyYW1lTm8iLCJhbmltYXRlIiwicmVuZGVyRnJhbWUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJzdHlsZSIsImdldENvbXB1dGVkU3R5bGUiLCJlbCIsImRpc3BsYXkiLCJwYXJlbnROb2RlIiwiZHByIiwiZGV2aWNlUGl4ZWxSYXRpbyIsIndQeCIsImNsaWVudFdpZHRoIiwiaFB4IiwiY2xpZW50SGVpZ2h0Iiwid2lkdGgiLCJoZWlnaHQiLCJ3IiwiTWF0aCIsInJvdW5kIiwiaCIsImdsIiwidmlld3BvcnQiLCJtYXJnaW4iLCJwYWRkaW5nIiwiYm9yZGVyIiwidG91Y2hBY3Rpb24iLCJzZXRVc2VyU2VsZWN0U3R5bGUiLCJlbGVtZW50IiwidmFsdWUiLCJ1c2VyU2VsZWN0Iiwid2Via2l0VXNlclNlbGVjdCIsIm1velVzZXJTZWxlY3QiLCJtc1VzZXJTZWxlY3QiLCJjdHhBdHRycyIsImdldENvbnRleHQiLCJlcnIwIiwiY29uc29sZSIsImVycm9yIiwiZXJyMSIsIkVycm9yIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7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ZUFBVCxDQUEwQmYsTUFBMUIsRUFBa0N3RCxRQUFsQyxFQUE0QztBQUMxQyxNQUFJYixFQUFKOztBQUVBLE1BQUk7QUFDRkEsU0FBSzNDLE9BQU95RCxVQUFQLENBQWtCLE9BQWxCLEVBQTJCRCxRQUEzQixDQUFMO0FBQ0QsR0FGRCxDQUVFLE9BQU9FLElBQVAsRUFBYTtBQUNiQyxZQUFRQyxLQUFSLENBQWNGLElBQWQ7QUFDRDs7QUFFRCxNQUFJLENBQUNmLEVBQUwsRUFBUztBQUNQLFFBQUk7QUFDRkEsV0FBSzNDLE9BQU95RCxVQUFQLENBQWtCLG9CQUFsQixFQUF3Q0QsUUFBeEMsQ0FBTDtBQUNELEtBRkQsQ0FFRSxPQUFPSyxJQUFQLEVBQWE7QUFDYkYsY0FBUUMsS0FBUixDQUFjQyxJQUFkO0FBQ0Q7QUFDRjs7QUFFRCxNQUFJLENBQUNsQixFQUFMLEVBQVM7QUFDUCxVQUFNLElBQUltQixLQUFKLENBQVUsOEJBQVYsQ0FBTjtBQUNEOztBQUVELFNBQU9uQixFQUFQO0FBQ0QiLCJmaWxlIjoiMjguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQmxpdHBFbGVtZW50IGZyb20gJy4vYmxpdHBfZWxlbWVudCdcbmltcG9ydCBXZWJHbENvbnRleHQgZnJvbSAnLi4vcmVuZGVyL3dlYl9nbF9jb250ZXh0J1xuaW1wb3J0IFdlYkdsUmVuZGVyZXIgZnJvbSAnLi4vcmVuZGVyL3dlYl9nbF9yZW5kZXJlcidcblxuY29uc3Qgbm93ID0gKCkgPT4gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpIC8gMTAwMFxuXG4vKipcbiAqIFRoZSAqKmN1c3RvbSBIVE1MIGA8YmxpdHAtY2FudmFzPjwvYmxpdHAtY2FudmFzPmAgZWxlbWVudCoqIHJlcHJlc2VudHMgdGhlICp3ZWJnbCogY2FudmFzLFxuICogd2hpY2ggYWN0cyBhbHNvIGFzIHRoZSBtYWluIEFQSSBlbnRyeXBvaW50IGZvciBldmVyeSAqYmxpdHB1bmsqIGFwcGxpY2F0aW9uLlxuICpcbiAqIFRoZSBzaXplIG9mIHRoZSBodG1sIGVsZW1lbnQgc2hvdWxkIGJlIGRlZmluZWQgYnkgY3NzIHN0eWxlcyAoZWcuIGBkaXNwbGF5OiBibG9jazsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJWApICZtZGFzaDsgd2l0aG91dFxuICogYW55IHN0eWxlcyAob3IgYGRpc3BsYXk6IGlubGluZWApIHRoZSBjYW52YXMgd2lsbCBtaW1pYyB0aGUgc2l6ZSBvZiB0aGUgcGFyZW50IGVsZW1lbnQuXG4gKlxuICogWW91IGNhbiBjdXN0b21pemUgdGhlIHdlZ2wgY29udGV4dCBieSBzcGVjaWZ5aW5nIGh0bWwgYXR0cmlidXRlczpcbiAqIC0gYGFscGhhYFxuICogLSBgZGVwdGhgXG4gKiAtIGBzdGVuY2lsYFxuICogLSBgYW50aWFsaWFzYFxuICogLSBgcHJlbXVsdGlwbGllZEFscGhhYFxuICogLSBgcHJlc2VydmVEcmF3aW5nQnVmZmVyYFxuICogLSBgZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdGBcbiAqXG4gKiBfQVRURU5USU9OOl8gY2hhbmdpbmcgdGhlc2UgaHRtbCBhdHRyaWJ1dGVzIGhhcyBubyBlZmZlY3QgKmFmdGVyKiB0aGUgd2ViZ2wgY29udGV4dCBpcyBpbml0aWFsaXplZCFcbiAqXG4gKiBAZXhhbXBsZVxuICogPCFET0NUWVBFIGh0bWw+XG4gKiA8aHRtbD5cbiAqIDxoZWFkPlxuICogICA8dGl0bGU+ZnVsbHNjcmVlbiBibGl0cHVuayBjYW52YXMgZXhhbXBsZTwvdGl0bGU+XG4gKiAgIDxtZXRhIG5hbWU9XCJ2aWV3cG9ydFwiIGNvbnRlbnQ9XCJ3aWR0aD1kZXZpY2Utd2lkdGgsaW5pdGlhbC1zY2FsZT0xLjBcIj5cbiAqICAgPHN0eWxlPlxuICogICAgIGh0bWwsIGJvZHkge1xuICogICAgICAgbWFyZ2luOiAwO1xuICogICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAqICAgICAgIHdpZHRoOiAxMDAlO1xuICogICAgICAgaGVpZ2h0OiAxMDAlO1xuICogICAgIH1cbiAqICAgPC9zdHlsZT5cbiAqIDwvaGVhZD5cbiAqIDxib2R5PlxuICogICA8YmxpdHAtY2FudmFzIGFscGhhIGFudGlhbGlhcz5cbiAqICAgICAuLi5cbiAqICAgPC9ibGl0cC1jYW52YXM+XG4gKiAgIC4uLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCbGl0cENhbnZhcyBleHRlbmRzIEJsaXRwRWxlbWVudCB7XG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBpbml0aWFsaXplICgpIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Q2FudmFzSFRNTEVsZW1lbnR9XG4gICAgICovXG4gICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKVxuXG4gICAgLyoqXG4gICAgICogVGhlIGluaXRpYWwgYXR0cmlidXRlcyB1c2VkIHRvIGNyZWF0ZSB0aGUgd2ViZ2wgY29udGV4dFxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kZS9kb2NzL1dlYi9BUEkvSFRNTENhbnZhc0VsZW1lbnQvZ2V0Q29udGV4dFxuICAgICAqL1xuICAgIHRoaXMuY29udGV4dEF0dHJpYnV0ZXMgPSBPYmplY3QuZnJlZXplKHtcbiAgICAgIGFscGhhOiB0aGlzLmhhc0F0dHJpYnV0ZSgnYWxwaGEnKSxcbiAgICAgIGRlcHRoOiB0aGlzLmhhc0F0dHJpYnV0ZSgnZGVwdGgnKSxcbiAgICAgIHN0ZW5jaWw6IHRoaXMuaGFzQXR0cmlidXRlKCdzdGVuY2lsJyksXG4gICAgICBhbnRpYWxpYXM6IHRoaXMuaGFzQXR0cmlidXRlKCdhbnRpYWxpYXMnKSxcbiAgICAgIHByZW11bHRpcGxpZWRBbHBoYTogdGhpcy5oYXNBdHRyaWJ1dGUoJ3ByZW11bHRpcGxpZWRBbHBoYScpLFxuICAgICAgcHJlc2VydmVEcmF3aW5nQnVmZmVyOiB0aGlzLmhhc0F0dHJpYnV0ZSgncHJlc2VydmVEcmF3aW5nQnVmZmVyJyksXG4gICAgICBmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OiB0aGlzLmhhc0F0dHJpYnV0ZSgnZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCcpXG4gICAgfSlcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtXZWJHbENvbnRleHR9XG4gICAgICovXG4gICAgdGhpcy5nbHggPSBuZXcgV2ViR2xDb250ZXh0KGNyZWF0ZUdsQ29udGV4dCh0aGlzLmNhbnZhcywgdGhpcy5jb250ZXh0QXR0cmlidXRlcykpXG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7V2ViR2xSZW5kZXJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFdlYkdsUmVuZGVyZXIodGhpcy5nbHgpXG5cbiAgICBzZXRDYW52YXNTdHlsZXModGhpcy5jYW52YXMpXG4gICAgdGhpcy5hcHBlbmRDaGlsZCh0aGlzLmNhbnZhcylcblxuICAgIHRoaXMucmVzaXplKClcblxuICAgIC8qKlxuICAgICAqIFNlY29uZHMgc2luY2UgYDxibGl0cC1jYW52YXM+YCBzdGFydHVwXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRpbWUgPSAwXG5cbiAgICAvKipcbiAgICAgKiBTdGFydHVwIHRpbWUgaW4gc2Vjb25kcy5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuc3RhcnRUaW1lID0gbm93KClcblxuICAgIC8qKlxuICAgICAqIEZyYW1lIGNvdW50ZXIgc2luY2UgYXBwbGljYXRpb24gc3RhcnR1cFxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5mcmFtZU5vID0gMFxuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0IHRoZSBtYWluIGFuaW1hdGlvbiBsb29wLlxuICAgKi9cbiAgYW5pbWF0ZSAoKSB7XG4gICAgdGhpcy5yZW5kZXJGcmFtZSgpXG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB0aGlzLmFuaW1hdGUoKSlcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW5kZXIgdGhlIGZyYW1lLlxuICAgKi9cbiAgcmVuZGVyRnJhbWUgKCkge1xuICAgICsrdGhpcy5mcmFtZU5vXG4gICAgdGhpcy50aW1lID0gbm93KCkgLSB0aGlzLnN0YXJ0VGltZVxuICAgIHRoaXMucmVzaXplKClcbiAgICB0aGlzLnJlbmRlcmVyLnJlbmRlckZyYW1lKHRoaXMpXG4gIH1cblxuICAvKipcbiAgICogUmVzaXplIHRoZSBjYW52YXMgZG9tIGVsZW1lbnQgdG8gdGhlIHNhbWUgc2l6ZSBhcyB0aGUgYDxibGl0cC1jYW52YXM+LnBhcmVudE5vZGVgXG4gICAqL1xuICByZXNpemUgKCkge1xuICAgIGNvbnN0IHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcywgbnVsbClcbiAgICBjb25zdCBlbCA9IHN0eWxlLmRpc3BsYXkgPT09ICdpbmxpbmUnID8gdGhpcy5wYXJlbnROb2RlIDogdGhpc1xuXG4gICAgY29uc3QgeyBjYW52YXMgfSA9IHRoaXNcbiAgICBjb25zdCBkcHIgPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxXG5cbiAgICBsZXQgd1B4ID0gZWwuY2xpZW50V2lkdGhcbiAgICBsZXQgaFB4ID0gZWwuY2xpZW50SGVpZ2h0XG5cbiAgICBjYW52YXMuc3R5bGUud2lkdGggPSB3UHggKyAncHgnXG4gICAgY2FudmFzLnN0eWxlLmhlaWdodCA9IGhQeCArICdweCdcblxuICAgIGNvbnN0IHcgPSBNYXRoLnJvdW5kKHdQeCAqIGRwcilcbiAgICBjb25zdCBoID0gTWF0aC5yb3VuZChoUHggKiBkcHIpXG5cbiAgICBpZiAodyAhPT0gY2FudmFzLndpZHRoIHx8IGggIT09IGNhbnZhcy5oZWlnaHQpIHtcbiAgICAgIGNhbnZhcy53aWR0aCA9IHdcbiAgICAgIGNhbnZhcy5oZWlnaHQgPSBoXG4gICAgfVxuXG4gICAgaWYgKHcgIT09IHRoaXMud2lkdGggfHwgaCAhPT0gdGhpcy5oZWlnaHQpIHtcbiAgICAgIC8qKlxuICAgICAgICogQ2FudmFzIHNpemUgaW4gX2RldmljZV8gcGl4ZWxzLlxuICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAqL1xuICAgICAgdGhpcy53aWR0aCA9IHdcbiAgICAgIC8qKlxuICAgICAgICogQ2FudmFzIHNpemUgaW4gX2RldmljZV8gcGl4ZWxzLlxuICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAqL1xuICAgICAgdGhpcy5oZWlnaHQgPSBoXG5cbiAgICAgIHRoaXMuZ2x4LmdsLnZpZXdwb3J0KDAsIDAsIHcsIGgpICAvLyBUT0RPIG1vdmUgdGhpcyBpbnRvIFdlYkdsUmVuZGVyZXJcbiAgICB9XG4gIH1cbn1cblxuLyoqIEBwcml2YXRlICovXG5mdW5jdGlvbiBzZXRDYW52YXNTdHlsZXMgKGNhbnZhcykge1xuICBjYW52YXMuc3R5bGUubWFyZ2luID0gJzAnXG4gIGNhbnZhcy5zdHlsZS5wYWRkaW5nID0gJzAnXG4gIGNhbnZhcy5zdHlsZS5ib3JkZXIgPSAnMCdcbiAgY2FudmFzLnN0eWxlLnRvdWNoQWN0aW9uID0gJ25vbmUnXG4gIHNldFVzZXJTZWxlY3RTdHlsZShjYW52YXMpXG59XG5cbi8qKiBAcHJpdmF0ZSAqL1xuZnVuY3Rpb24gc2V0VXNlclNlbGVjdFN0eWxlIChlbGVtZW50LCB2YWx1ZSA9ICdub25lJykge1xuICBpZiAoJ3VzZXJTZWxlY3QnIGluIGVsZW1lbnQuc3R5bGUpIHtcbiAgICBlbGVtZW50LnN0eWxlLnVzZXJTZWxlY3QgPSB2YWx1ZVxuICB9IGVsc2Uge1xuICAgIGlmICgnd2Via2l0VXNlclNlbGVjdCcgaW4gZWxlbWVudC5zdHlsZSkgZWxlbWVudC5zdHlsZS53ZWJraXRVc2VyU2VsZWN0ID0gdmFsdWVcbiAgICBpZiAoJ21velVzZXJTZWxlY3QnIGluIGVsZW1lbnQuc3R5bGUpIGVsZW1lbnQuc3R5bGUubW96VXNlclNlbGVjdCA9IHZhbHVlXG4gICAgaWYgKCdtc1VzZXJTZWxlY3QnIGluIGVsZW1lbnQuc3R5bGUpIGVsZW1lbnQuc3R5bGUubXNVc2VyU2VsZWN0ID0gdmFsdWVcbiAgfVxufVxuXG4vKiogQHByaXZhdGUgKi9cbmZ1bmN0aW9uIGNyZWF0ZUdsQ29udGV4dCAoY2FudmFzLCBjdHhBdHRycykge1xuICBsZXQgZ2xcblxuICB0cnkge1xuICAgIGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJywgY3R4QXR0cnMpXG4gIH0gY2F0Y2ggKGVycjApIHtcbiAgICBjb25zb2xlLmVycm9yKGVycjApXG4gIH1cblxuICBpZiAoIWdsKSB7XG4gICAgdHJ5IHtcbiAgICAgIGdsID0gY2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcsIGN0eEF0dHJzKVxuICAgIH0gY2F0Y2ggKGVycjEpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyMSlcbiAgICB9XG4gIH1cblxuICBpZiAoIWdsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjYW5ub3QgY3JlYXRlIHdlYmdsMSBjb250ZXh0JylcbiAgfVxuXG4gIHJldHVybiBnbFxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2RvbS9ibGl0cF9jYW52YXMuanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 29 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _eventize = __webpack_require__(8);\n\nvar _eventize2 = _interopRequireDefault(_eventize);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n* Common interface for all **custom HTML `<blitp-*>` elements**\n*/\nclass BlitpElement extends HTMLElement {\n  /** @ignore */\n  constructor(_) {\n    const self = super(_);\n    return (0, _eventize2.default)(self);\n  }\n\n  /** @ignore */\n  connectedCallback() {\n    if (this.initialize) this.initialize();\n  }\n}\nexports.default = BlitpElement; /* global HTMLElement *///# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZG9tL2JsaXRwX2VsZW1lbnQuanM/ZWQ4NSJdLCJuYW1lcyI6WyJCbGl0cEVsZW1lbnQiLCJIVE1MRWxlbWVudCIsImNvbnN0cnVjdG9yIiwiXyIsInNlbGYiLCJjb25uZWN0ZWRDYWxsYmFjayIsImluaXRpYWxpemUiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUNBOzs7Ozs7QUFFQTs7O0FBR2UsTUFBTUEsWUFBTixTQUEyQkMsV0FBM0IsQ0FBdUM7QUFDcEQ7QUFDQUMsY0FBYUMsQ0FBYixFQUFnQjtBQUNkLFVBQU1DLE9BQU8sTUFBTUQsQ0FBTixDQUFiO0FBQ0EsV0FBTyx3QkFBU0MsSUFBVCxDQUFQO0FBQ0Q7O0FBRUQ7QUFDQUMsc0JBQXFCO0FBQ25CLFFBQUksS0FBS0MsVUFBVCxFQUFxQixLQUFLQSxVQUFMO0FBQ3RCO0FBVm1EO2tCQUFqQ04sWSxFQU5yQiIsImZpbGUiOiIyOS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbCBIVE1MRWxlbWVudCAqL1xuaW1wb3J0IGV2ZW50aXplIGZyb20gJ0BzcGVhcndvbGYvZXZlbnRpemUnXG5cbi8qKlxuKiBDb21tb24gaW50ZXJmYWNlIGZvciBhbGwgKipjdXN0b20gSFRNTCBgPGJsaXRwLSo+YCBlbGVtZW50cyoqXG4qL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmxpdHBFbGVtZW50IGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICAvKiogQGlnbm9yZSAqL1xuICBjb25zdHJ1Y3RvciAoXykge1xuICAgIGNvbnN0IHNlbGYgPSBzdXBlcihfKVxuICAgIHJldHVybiBldmVudGl6ZShzZWxmKVxuICB9XG5cbiAgLyoqIEBpZ25vcmUgKi9cbiAgY29ubmVjdGVkQ2FsbGJhY2sgKCkge1xuICAgIGlmICh0aGlzLmluaXRpYWxpemUpIHRoaXMuaW5pdGlhbGl6ZSgpXG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9kb20vYmxpdHBfZWxlbWVudC5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 30 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typed_array_helpers = __webpack_require__(1);\n\nconst glType = (gl, type) => gl[_typed_array_helpers.GL_ITEM_TYPES[type]];\n\nclass WebGlAttribute {\n  constructor(program, index) {\n    this.program = program;\n    this.glx = program.glx;\n\n    const gl = program.glx.gl;\n    const glProgram = program.glProgram;\n\n    var _gl$getActiveAttrib = gl.getActiveAttrib(glProgram, index);\n\n    const name = _gl$getActiveAttrib.name,\n          size = _gl$getActiveAttrib.size,\n          type = _gl$getActiveAttrib.type;\n\n    this.name = name;\n    this.size = size;\n    this.type = type;\n\n    this.location = gl.getAttribLocation(glProgram, name);\n\n    Object.freeze(this);\n  }\n\n  /**\n   * @param {VODescriptor} descriptor\n   */\n  vertexAttribPointer(descriptor) {\n    const gl = this.glx.gl;\n\n    const attr = descriptor.attr[this.name];\n    const type = glType(gl, attr.type);\n    gl.vertexAttribPointer(this.location, attr.size, type, false, descriptor.bytesPerVertex, attr.byteOffset);\n  }\n}\nexports.default = WebGlAttribute;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcmVuZGVyL3dlYl9nbF9hdHRyaWJ1dGUuanM/MzA5MCJdLCJuYW1lcyI6WyJnbFR5cGUiLCJnbCIsInR5cGUiLCJXZWJHbEF0dHJpYnV0ZSIsImNvbnN0cnVjdG9yIiwicHJvZ3JhbSIsImluZGV4IiwiZ2x4IiwiZ2xQcm9ncmFtIiwiZ2V0QWN0aXZlQXR0cmliIiwibmFtZSIsInNpemUiLCJsb2NhdGlvbiIsImdldEF0dHJpYkxvY2F0aW9uIiwiT2JqZWN0IiwiZnJlZXplIiwidmVydGV4QXR0cmliUG9pbnRlciIsImRlc2NyaXB0b3IiLCJhdHRyIiwiYnl0ZXNQZXJWZXJ0ZXgiLCJieXRlT2Zmc2V0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7QUFFQSxNQUFNQSxTQUFTLENBQUNDLEVBQUQsRUFBS0MsSUFBTCxLQUFjRCxHQUFHLG1DQUFjQyxJQUFkLENBQUgsQ0FBN0I7O0FBRWUsTUFBTUMsY0FBTixDQUFxQjtBQUNsQ0MsY0FBYUMsT0FBYixFQUFzQkMsS0FBdEIsRUFBNkI7QUFDM0IsU0FBS0QsT0FBTCxHQUFlQSxPQUFmO0FBQ0EsU0FBS0UsR0FBTCxHQUFXRixRQUFRRSxHQUFuQjs7QUFGMkIsVUFJbkJOLEVBSm1CLEdBSVpJLFFBQVFFLEdBSkksQ0FJbkJOLEVBSm1CO0FBQUEsVUFLbkJPLFNBTG1CLEdBS0xILE9BTEssQ0FLbkJHLFNBTG1COztBQUFBLDhCQU9FUCxHQUFHUSxlQUFILENBQW1CRCxTQUFuQixFQUE4QkYsS0FBOUIsQ0FQRjs7QUFBQSxVQU9uQkksSUFQbUIsdUJBT25CQSxJQVBtQjtBQUFBLFVBT2JDLElBUGEsdUJBT2JBLElBUGE7QUFBQSxVQU9QVCxJQVBPLHVCQU9QQSxJQVBPOztBQVEzQixTQUFLUSxJQUFMLEdBQVlBLElBQVo7QUFDQSxTQUFLQyxJQUFMLEdBQVlBLElBQVo7QUFDQSxTQUFLVCxJQUFMLEdBQVlBLElBQVo7O0FBRUEsU0FBS1UsUUFBTCxHQUFnQlgsR0FBR1ksaUJBQUgsQ0FBcUJMLFNBQXJCLEVBQWdDRSxJQUFoQyxDQUFoQjs7QUFFQUksV0FBT0MsTUFBUCxDQUFjLElBQWQ7QUFDRDs7QUFFRDs7O0FBR0FDLHNCQUFxQkMsVUFBckIsRUFBaUM7QUFBQSxVQUN2QmhCLEVBRHVCLEdBQ2hCLEtBQUtNLEdBRFcsQ0FDdkJOLEVBRHVCOztBQUUvQixVQUFNaUIsT0FBT0QsV0FBV0MsSUFBWCxDQUFnQixLQUFLUixJQUFyQixDQUFiO0FBQ0EsVUFBTVIsT0FBT0YsT0FBT0MsRUFBUCxFQUFXaUIsS0FBS2hCLElBQWhCLENBQWI7QUFDQUQsT0FBR2UsbUJBQUgsQ0FBdUIsS0FBS0osUUFBNUIsRUFBc0NNLEtBQUtQLElBQTNDLEVBQWlEVCxJQUFqRCxFQUF1RCxLQUF2RCxFQUE4RGUsV0FBV0UsY0FBekUsRUFBeUZELEtBQUtFLFVBQTlGO0FBQ0Q7QUExQmlDO2tCQUFmakIsYyIsImZpbGUiOiIzMC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEdMX0lURU1fVFlQRVMgfSBmcm9tICcuLi91dGlscy90eXBlZF9hcnJheV9oZWxwZXJzJ1xuXG5jb25zdCBnbFR5cGUgPSAoZ2wsIHR5cGUpID0+IGdsW0dMX0lURU1fVFlQRVNbdHlwZV1dXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdlYkdsQXR0cmlidXRlIHtcbiAgY29uc3RydWN0b3IgKHByb2dyYW0sIGluZGV4KSB7XG4gICAgdGhpcy5wcm9ncmFtID0gcHJvZ3JhbVxuICAgIHRoaXMuZ2x4ID0gcHJvZ3JhbS5nbHhcblxuICAgIGNvbnN0IHsgZ2wgfSA9IHByb2dyYW0uZ2x4XG4gICAgY29uc3QgeyBnbFByb2dyYW0gfSA9IHByb2dyYW1cblxuICAgIGNvbnN0IHsgbmFtZSwgc2l6ZSwgdHlwZSB9ID0gZ2wuZ2V0QWN0aXZlQXR0cmliKGdsUHJvZ3JhbSwgaW5kZXgpXG4gICAgdGhpcy5uYW1lID0gbmFtZVxuICAgIHRoaXMuc2l6ZSA9IHNpemVcbiAgICB0aGlzLnR5cGUgPSB0eXBlXG5cbiAgICB0aGlzLmxvY2F0aW9uID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24oZ2xQcm9ncmFtLCBuYW1lKVxuXG4gICAgT2JqZWN0LmZyZWV6ZSh0aGlzKVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Vk9EZXNjcmlwdG9yfSBkZXNjcmlwdG9yXG4gICAqL1xuICB2ZXJ0ZXhBdHRyaWJQb2ludGVyIChkZXNjcmlwdG9yKSB7XG4gICAgY29uc3QgeyBnbCB9ID0gdGhpcy5nbHhcbiAgICBjb25zdCBhdHRyID0gZGVzY3JpcHRvci5hdHRyW3RoaXMubmFtZV1cbiAgICBjb25zdCB0eXBlID0gZ2xUeXBlKGdsLCBhdHRyLnR5cGUpXG4gICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcih0aGlzLmxvY2F0aW9uLCBhdHRyLnNpemUsIHR5cGUsIGZhbHNlLCBkZXNjcmlwdG9yLmJ5dGVzUGVyVmVydGV4LCBhdHRyLmJ5dGVPZmZzZXQpXG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9yZW5kZXIvd2ViX2dsX2F0dHJpYnV0ZS5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 31 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nclass WebGlBuffer {\n  constructor(glx) {\n    let target = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : WebGlBuffer.ARRAY_BUFFER;\n    let usage = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : WebGlBuffer.STATIC_DRAW;\n\n    this.glx = glx;\n\n    const gl = glx.gl;\n\n    this.target = gl[target];\n    this.usage = gl[usage];\n\n    this.glBuffer = gl.createBuffer();\n\n    this.voArray = null;\n  }\n\n  bindBuffer() {\n    this.glx.bindBuffer(this.target, this.glBuffer);\n  }\n\n  /**\n   * Upload array buffer content to gpu via `g.bufferData(..)`.\n   */\n  bufferData() {\n    this.bindBuffer();\n    this.glx.gl.bufferData(this.target, this.voArray.float32Array, this.usage);\n  }\n}\n\nexports.default = WebGlBuffer;\nWebGlBuffer.ARRAY_BUFFER = 'ARRAY_BUFFER';\nWebGlBuffer.ELEMENT_ARRAY_BUFFER = 'ELEMENT_ARRAY_BUFFER';\n\nWebGlBuffer.STATIC_DRAW = 'STATIC_DRAW';\nWebGlBuffer.DYNAMIC_DRAW = 'DYNAMIC_DRAW';//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcmVuZGVyL3dlYl9nbF9idWZmZXIuanM/OTQ1MSJdLCJuYW1lcyI6WyJXZWJHbEJ1ZmZlciIsImNvbnN0cnVjdG9yIiwiZ2x4IiwidGFyZ2V0IiwiQVJSQVlfQlVGRkVSIiwidXNhZ2UiLCJTVEFUSUNfRFJBVyIsImdsIiwiZ2xCdWZmZXIiLCJjcmVhdGVCdWZmZXIiLCJ2b0FycmF5IiwiYmluZEJ1ZmZlciIsImJ1ZmZlckRhdGEiLCJmbG9hdDMyQXJyYXkiLCJFTEVNRU5UX0FSUkFZX0JVRkZFUiIsIkRZTkFNSUNfRFJBVyJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFDZSxNQUFNQSxXQUFOLENBQWtCO0FBQy9CQyxjQUFhQyxHQUFiLEVBQXNGO0FBQUEsUUFBcEVDLE1BQW9FLHVFQUEzREgsWUFBWUksWUFBK0M7QUFBQSxRQUFqQ0MsS0FBaUMsdUVBQXpCTCxZQUFZTSxXQUFhOztBQUNwRixTQUFLSixHQUFMLEdBQVdBLEdBQVg7O0FBRG9GLFVBRzVFSyxFQUg0RSxHQUdyRUwsR0FIcUUsQ0FHNUVLLEVBSDRFOztBQUlwRixTQUFLSixNQUFMLEdBQWNJLEdBQUdKLE1BQUgsQ0FBZDtBQUNBLFNBQUtFLEtBQUwsR0FBYUUsR0FBR0YsS0FBSCxDQUFiOztBQUVBLFNBQUtHLFFBQUwsR0FBZ0JELEdBQUdFLFlBQUgsRUFBaEI7O0FBRUEsU0FBS0MsT0FBTCxHQUFlLElBQWY7QUFDRDs7QUFFREMsZUFBYztBQUNaLFNBQUtULEdBQUwsQ0FBU1MsVUFBVCxDQUFvQixLQUFLUixNQUF6QixFQUFpQyxLQUFLSyxRQUF0QztBQUNEOztBQUVEOzs7QUFHQUksZUFBYztBQUNaLFNBQUtELFVBQUw7QUFDQSxTQUFLVCxHQUFMLENBQVNLLEVBQVQsQ0FBWUssVUFBWixDQUF1QixLQUFLVCxNQUE1QixFQUFvQyxLQUFLTyxPQUFMLENBQWFHLFlBQWpELEVBQStELEtBQUtSLEtBQXBFO0FBQ0Q7QUF2QjhCOztrQkFBWkwsVztBQTBCckJBLFlBQVlJLFlBQVosR0FBMkIsY0FBM0I7QUFDQUosWUFBWWMsb0JBQVosR0FBbUMsc0JBQW5DOztBQUVBZCxZQUFZTSxXQUFaLEdBQTBCLGFBQTFCO0FBQ0FOLFlBQVllLFlBQVosR0FBMkIsY0FBM0IiLCJmaWxlIjoiMzEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdlYkdsQnVmZmVyIHtcbiAgY29uc3RydWN0b3IgKGdseCwgdGFyZ2V0ID0gV2ViR2xCdWZmZXIuQVJSQVlfQlVGRkVSLCB1c2FnZSA9IFdlYkdsQnVmZmVyLlNUQVRJQ19EUkFXKSB7XG4gICAgdGhpcy5nbHggPSBnbHhcblxuICAgIGNvbnN0IHsgZ2wgfSA9IGdseFxuICAgIHRoaXMudGFyZ2V0ID0gZ2xbdGFyZ2V0XVxuICAgIHRoaXMudXNhZ2UgPSBnbFt1c2FnZV1cblxuICAgIHRoaXMuZ2xCdWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKVxuXG4gICAgdGhpcy52b0FycmF5ID0gbnVsbFxuICB9XG5cbiAgYmluZEJ1ZmZlciAoKSB7XG4gICAgdGhpcy5nbHguYmluZEJ1ZmZlcih0aGlzLnRhcmdldCwgdGhpcy5nbEJ1ZmZlcilcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGxvYWQgYXJyYXkgYnVmZmVyIGNvbnRlbnQgdG8gZ3B1IHZpYSBgZy5idWZmZXJEYXRhKC4uKWAuXG4gICAqL1xuICBidWZmZXJEYXRhICgpIHtcbiAgICB0aGlzLmJpbmRCdWZmZXIoKVxuICAgIHRoaXMuZ2x4LmdsLmJ1ZmZlckRhdGEodGhpcy50YXJnZXQsIHRoaXMudm9BcnJheS5mbG9hdDMyQXJyYXksIHRoaXMudXNhZ2UpXG4gIH1cbn1cblxuV2ViR2xCdWZmZXIuQVJSQVlfQlVGRkVSID0gJ0FSUkFZX0JVRkZFUidcbldlYkdsQnVmZmVyLkVMRU1FTlRfQVJSQVlfQlVGRkVSID0gJ0VMRU1FTlRfQVJSQVlfQlVGRkVSJ1xuXG5XZWJHbEJ1ZmZlci5TVEFUSUNfRFJBVyA9ICdTVEFUSUNfRFJBVydcbldlYkdsQnVmZmVyLkRZTkFNSUNfRFJBVyA9ICdEWU5BTUlDX0RSQVcnXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvcmVuZGVyL3dlYl9nbF9idWZmZXIuanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 32 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _web_gl_resource_library = __webpack_require__(35);\n\nvar _web_gl_resource_library2 = _interopRequireDefault(_web_gl_resource_library);\n\nvar _web_gl_texture_manager = __webpack_require__(38);\n\nvar _web_gl_texture_manager2 = _interopRequireDefault(_web_gl_texture_manager);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass WebGlContext {\n  constructor(gl) {\n    Object.defineProperty(this, 'gl', { value: gl });\n\n    initialize(this);\n\n    this.resourceLibrary = new _web_gl_resource_library2.default(this);\n    this.boundBuffers = new Map();\n    this.currentProgram = 0;\n    this.enabledVertexAttribLocations = [];\n\n    this.textureManager = new _web_gl_texture_manager2.default(this);\n\n    this.boundTextures = new Array(this.MAX_TEXTURE_IMAGE_UNITS);\n    for (let i = 0; i < this.boundTextures.length; i++) {\n      this.boundTextures[i] = { TEXTURE_2D: null };\n    }\n\n    this.activeTexture(0); // enable first texture unit by default\n  }\n\n  /**\n   * @param {number} texUnit\n   */\n  activeTexture(texUnit) {\n    const gl = this.gl;\n\n    const tex = gl.TEXTURE0 + texUnit;\n\n    if (this.activeTexUnit !== tex) {\n      this.activeTexUnit = tex;\n      gl.activeTexture(this.activeTexUnit);\n    }\n  }\n\n  /**\n   * @param {number} glTextureId\n   */\n  bindTexture2d(glTextureId) {\n    const gl = this.gl;\n\n    const bound = this.boundTextures[this.activeTexUnit - gl.TEXTURE0];\n\n    if (bound.TEXTURE_2D !== glTextureId) {\n      bound.TEXTURE_2D = glTextureId;\n      gl.bindTexture(gl.TEXTURE_2D, glTextureId);\n    }\n  }\n\n  readCurrentState() {\n    const gl = this.gl;\n\n    // https://developer.mozilla.org/de/docs/Web/API/WebGLRenderingContext/getParameter\n\n    this.boundBuffers.set(gl.ARRAY_BUFFER, gl.getParameter(gl.ARRAY_BUFFER_BINDING));\n    this.boundBuffers.set(gl.ELEMENT_ARRAY_BUFFER, gl.getParameter(gl.ELEMENT_ARRAY_BUFFER_BINDING));\n\n    this.currentProgram = gl.getParameter(gl.CURRENT_PROGRAM);\n  }\n\n  bindBuffer(target, buffer) {\n    if (this.boundBuffers.get(target) !== buffer) {\n      this.gl.bindBuffer(target, buffer);\n      this.boundBuffers.set(target, buffer);\n    }\n  }\n\n  /**\n   * @return {boolean}\n   */\n  useProgram(glProgram) {\n    if (this.currentProgram !== glProgram) {\n      this.gl.useProgram(glProgram);\n      this.currentProgram = glProgram;\n      return true;\n    }\n    return false;\n  }\n\n  enableVertexAttribArrays(enableLocations) {\n    const gl = this.gl;\n\n\n    this.enabledVertexAttribLocations.filter(location => enableLocations.indexOf(location) === -1).forEach(location => {\n      gl.disableVertexAttribArray(location);\n      this.enabledVertexAttribLocations.splice(enableLocations.indexOf(location), 1);\n    });\n\n    enableLocations.forEach(loc => {\n      const idx = this.enabledVertexAttribLocations.indexOf(loc);\n      if (idx === -1) {\n        gl.enableVertexAttribArray(loc);\n        this.enabledVertexAttribLocations.push(loc);\n      }\n    });\n  }\n}\n\nexports.default = WebGlContext; /** @private */\n\nfunction initialize(glx) {\n  const gl = glx.gl;\n\n\n  glx.DEPTH_BITS = gl.getParameter(gl.DEPTH_BITS);\n  glx.MAX_TEXTURE_IMAGE_UNITS = gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS);\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcmVuZGVyL3dlYl9nbF9jb250ZXh0LmpzP2JmYWMiXSwibmFtZXMiOlsiV2ViR2xDb250ZXh0IiwiY29uc3RydWN0b3IiLCJnbCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJpbml0aWFsaXplIiwicmVzb3VyY2VMaWJyYXJ5IiwiYm91bmRCdWZmZXJzIiwiTWFwIiwiY3VycmVudFByb2dyYW0iLCJlbmFibGVkVmVydGV4QXR0cmliTG9jYXRpb25zIiwidGV4dHVyZU1hbmFnZXIiLCJib3VuZFRleHR1cmVzIiwiQXJyYXkiLCJNQVhfVEVYVFVSRV9JTUFHRV9VTklUUyIsImkiLCJsZW5ndGgiLCJURVhUVVJFXzJEIiwiYWN0aXZlVGV4dHVyZSIsInRleFVuaXQiLCJ0ZXgiLCJURVhUVVJFMCIsImFjdGl2ZVRleFVuaXQiLCJiaW5kVGV4dHVyZTJkIiwiZ2xUZXh0dXJlSWQiLCJib3VuZCIsImJpbmRUZXh0dXJlIiwicmVhZEN1cnJlbnRTdGF0ZSIsInNldCIsIkFSUkFZX0JVRkZFUiIsImdldFBhcmFtZXRlciIsIkFSUkFZX0JVRkZFUl9CSU5ESU5HIiwiRUxFTUVOVF9BUlJBWV9CVUZGRVIiLCJFTEVNRU5UX0FSUkFZX0JVRkZFUl9CSU5ESU5HIiwiQ1VSUkVOVF9QUk9HUkFNIiwiYmluZEJ1ZmZlciIsInRhcmdldCIsImJ1ZmZlciIsImdldCIsInVzZVByb2dyYW0iLCJnbFByb2dyYW0iLCJlbmFibGVWZXJ0ZXhBdHRyaWJBcnJheXMiLCJlbmFibGVMb2NhdGlvbnMiLCJmaWx0ZXIiLCJsb2NhdGlvbiIsImluZGV4T2YiLCJmb3JFYWNoIiwiZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5Iiwic3BsaWNlIiwibG9jIiwiaWR4IiwiZW5hYmxlVmVydGV4QXR0cmliQXJyYXkiLCJwdXNoIiwiZ2x4IiwiREVQVEhfQklUUyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7QUFDQTs7Ozs7O0FBRWUsTUFBTUEsWUFBTixDQUFtQjtBQUNoQ0MsY0FBYUMsRUFBYixFQUFpQjtBQUNmQyxXQUFPQyxjQUFQLENBQXNCLElBQXRCLEVBQTRCLElBQTVCLEVBQWtDLEVBQUVDLE9BQU9ILEVBQVQsRUFBbEM7O0FBRUFJLGVBQVcsSUFBWDs7QUFFQSxTQUFLQyxlQUFMLEdBQXVCLHNDQUF5QixJQUF6QixDQUF2QjtBQUNBLFNBQUtDLFlBQUwsR0FBb0IsSUFBSUMsR0FBSixFQUFwQjtBQUNBLFNBQUtDLGNBQUwsR0FBc0IsQ0FBdEI7QUFDQSxTQUFLQyw0QkFBTCxHQUFvQyxFQUFwQzs7QUFFQSxTQUFLQyxjQUFMLEdBQXNCLHFDQUF3QixJQUF4QixDQUF0Qjs7QUFFQSxTQUFLQyxhQUFMLEdBQXFCLElBQUlDLEtBQUosQ0FBVSxLQUFLQyx1QkFBZixDQUFyQjtBQUNBLFNBQUssSUFBSUMsSUFBSSxDQUFiLEVBQWdCQSxJQUFJLEtBQUtILGFBQUwsQ0FBbUJJLE1BQXZDLEVBQStDRCxHQUEvQyxFQUFvRDtBQUNsRCxXQUFLSCxhQUFMLENBQW1CRyxDQUFuQixJQUF3QixFQUFFRSxZQUFZLElBQWQsRUFBeEI7QUFDRDs7QUFFRCxTQUFLQyxhQUFMLENBQW1CLENBQW5CLEVBakJlLENBaUJPO0FBQ3ZCOztBQUVEOzs7QUFHQUEsZ0JBQWVDLE9BQWYsRUFBd0I7QUFBQSxVQUNkbEIsRUFEYyxHQUNQLElBRE8sQ0FDZEEsRUFEYzs7QUFFdEIsVUFBTW1CLE1BQU1uQixHQUFHb0IsUUFBSCxHQUFjRixPQUExQjs7QUFFQSxRQUFJLEtBQUtHLGFBQUwsS0FBdUJGLEdBQTNCLEVBQWdDO0FBQzlCLFdBQUtFLGFBQUwsR0FBcUJGLEdBQXJCO0FBQ0FuQixTQUFHaUIsYUFBSCxDQUFpQixLQUFLSSxhQUF0QjtBQUNEO0FBQ0Y7O0FBRUQ7OztBQUdBQyxnQkFBZUMsV0FBZixFQUE0QjtBQUFBLFVBQ2xCdkIsRUFEa0IsR0FDWCxJQURXLENBQ2xCQSxFQURrQjs7QUFFMUIsVUFBTXdCLFFBQVEsS0FBS2IsYUFBTCxDQUFtQixLQUFLVSxhQUFMLEdBQXFCckIsR0FBR29CLFFBQTNDLENBQWQ7O0FBRUEsUUFBSUksTUFBTVIsVUFBTixLQUFxQk8sV0FBekIsRUFBc0M7QUFDcENDLFlBQU1SLFVBQU4sR0FBbUJPLFdBQW5CO0FBQ0F2QixTQUFHeUIsV0FBSCxDQUFlekIsR0FBR2dCLFVBQWxCLEVBQThCTyxXQUE5QjtBQUNEO0FBQ0Y7O0FBRURHLHFCQUFvQjtBQUFBLFVBQ1YxQixFQURVLEdBQ0gsSUFERyxDQUNWQSxFQURVOztBQUdsQjs7QUFFQSxTQUFLTSxZQUFMLENBQWtCcUIsR0FBbEIsQ0FDRTNCLEdBQUc0QixZQURMLEVBRUU1QixHQUFHNkIsWUFBSCxDQUFnQjdCLEdBQUc4QixvQkFBbkIsQ0FGRjtBQUdBLFNBQUt4QixZQUFMLENBQWtCcUIsR0FBbEIsQ0FDRTNCLEdBQUcrQixvQkFETCxFQUVFL0IsR0FBRzZCLFlBQUgsQ0FBZ0I3QixHQUFHZ0MsNEJBQW5CLENBRkY7O0FBSUEsU0FBS3hCLGNBQUwsR0FBc0JSLEdBQUc2QixZQUFILENBQWdCN0IsR0FBR2lDLGVBQW5CLENBQXRCO0FBQ0Q7O0FBRURDLGFBQVlDLE1BQVosRUFBb0JDLE1BQXBCLEVBQTRCO0FBQzFCLFFBQUksS0FBSzlCLFlBQUwsQ0FBa0IrQixHQUFsQixDQUFzQkYsTUFBdEIsTUFBa0NDLE1BQXRDLEVBQThDO0FBQzVDLFdBQUtwQyxFQUFMLENBQVFrQyxVQUFSLENBQW1CQyxNQUFuQixFQUEyQkMsTUFBM0I7QUFDQSxXQUFLOUIsWUFBTCxDQUFrQnFCLEdBQWxCLENBQXNCUSxNQUF0QixFQUE4QkMsTUFBOUI7QUFDRDtBQUNGOztBQUVEOzs7QUFHQUUsYUFBWUMsU0FBWixFQUF1QjtBQUNyQixRQUFJLEtBQUsvQixjQUFMLEtBQXdCK0IsU0FBNUIsRUFBdUM7QUFDckMsV0FBS3ZDLEVBQUwsQ0FBUXNDLFVBQVIsQ0FBbUJDLFNBQW5CO0FBQ0EsV0FBSy9CLGNBQUwsR0FBc0IrQixTQUF0QjtBQUNBLGFBQU8sSUFBUDtBQUNEO0FBQ0QsV0FBTyxLQUFQO0FBQ0Q7O0FBRURDLDJCQUEwQkMsZUFBMUIsRUFBMkM7QUFBQSxVQUNqQ3pDLEVBRGlDLEdBQzFCLElBRDBCLENBQ2pDQSxFQURpQzs7O0FBR3pDLFNBQUtTLDRCQUFMLENBQ0dpQyxNQURILENBQ1VDLFlBQVlGLGdCQUFnQkcsT0FBaEIsQ0FBd0JELFFBQXhCLE1BQXNDLENBQUMsQ0FEN0QsRUFFR0UsT0FGSCxDQUVXRixZQUFZO0FBQ25CM0MsU0FBRzhDLHdCQUFILENBQTRCSCxRQUE1QjtBQUNBLFdBQUtsQyw0QkFBTCxDQUFrQ3NDLE1BQWxDLENBQXlDTixnQkFBZ0JHLE9BQWhCLENBQXdCRCxRQUF4QixDQUF6QyxFQUE0RSxDQUE1RTtBQUNELEtBTEg7O0FBT0FGLG9CQUFnQkksT0FBaEIsQ0FBd0JHLE9BQU87QUFDN0IsWUFBTUMsTUFBTSxLQUFLeEMsNEJBQUwsQ0FBa0NtQyxPQUFsQyxDQUEwQ0ksR0FBMUMsQ0FBWjtBQUNBLFVBQUlDLFFBQVEsQ0FBQyxDQUFiLEVBQWdCO0FBQ2RqRCxXQUFHa0QsdUJBQUgsQ0FBMkJGLEdBQTNCO0FBQ0EsYUFBS3ZDLDRCQUFMLENBQWtDMEMsSUFBbEMsQ0FBdUNILEdBQXZDO0FBQ0Q7QUFDRixLQU5EO0FBT0Q7QUFsRytCOztrQkFBYmxELFksRUFxR3JCOztBQUNBLFNBQVNNLFVBQVQsQ0FBcUJnRCxHQUFyQixFQUEwQjtBQUFBLFFBQ2hCcEQsRUFEZ0IsR0FDVG9ELEdBRFMsQ0FDaEJwRCxFQURnQjs7O0FBR3hCb0QsTUFBSUMsVUFBSixHQUFpQnJELEdBQUc2QixZQUFILENBQWdCN0IsR0FBR3FELFVBQW5CLENBQWpCO0FBQ0FELE1BQUl2Qyx1QkFBSixHQUE4QmIsR0FBRzZCLFlBQUgsQ0FBZ0I3QixHQUFHYSx1QkFBbkIsQ0FBOUI7QUFDRCIsImZpbGUiOiIzMi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBXZWJHbFJlc291cmNlTGlicmFyeSBmcm9tICcuL3dlYl9nbF9yZXNvdXJjZV9saWJyYXJ5J1xuaW1wb3J0IFdlYkdsVGV4dHVyZU1hbmFnZXIgZnJvbSAnLi93ZWJfZ2xfdGV4dHVyZV9tYW5hZ2VyJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXZWJHbENvbnRleHQge1xuICBjb25zdHJ1Y3RvciAoZ2wpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2dsJywgeyB2YWx1ZTogZ2wgfSlcblxuICAgIGluaXRpYWxpemUodGhpcylcblxuICAgIHRoaXMucmVzb3VyY2VMaWJyYXJ5ID0gbmV3IFdlYkdsUmVzb3VyY2VMaWJyYXJ5KHRoaXMpXG4gICAgdGhpcy5ib3VuZEJ1ZmZlcnMgPSBuZXcgTWFwKClcbiAgICB0aGlzLmN1cnJlbnRQcm9ncmFtID0gMFxuICAgIHRoaXMuZW5hYmxlZFZlcnRleEF0dHJpYkxvY2F0aW9ucyA9IFtdXG5cbiAgICB0aGlzLnRleHR1cmVNYW5hZ2VyID0gbmV3IFdlYkdsVGV4dHVyZU1hbmFnZXIodGhpcylcblxuICAgIHRoaXMuYm91bmRUZXh0dXJlcyA9IG5ldyBBcnJheSh0aGlzLk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTKVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5ib3VuZFRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmJvdW5kVGV4dHVyZXNbaV0gPSB7IFRFWFRVUkVfMkQ6IG51bGwgfVxuICAgIH1cblxuICAgIHRoaXMuYWN0aXZlVGV4dHVyZSgwKSAvLyBlbmFibGUgZmlyc3QgdGV4dHVyZSB1bml0IGJ5IGRlZmF1bHRcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gdGV4VW5pdFxuICAgKi9cbiAgYWN0aXZlVGV4dHVyZSAodGV4VW5pdCkge1xuICAgIGNvbnN0IHsgZ2wgfSA9IHRoaXNcbiAgICBjb25zdCB0ZXggPSBnbC5URVhUVVJFMCArIHRleFVuaXRcblxuICAgIGlmICh0aGlzLmFjdGl2ZVRleFVuaXQgIT09IHRleCkge1xuICAgICAgdGhpcy5hY3RpdmVUZXhVbml0ID0gdGV4XG4gICAgICBnbC5hY3RpdmVUZXh0dXJlKHRoaXMuYWN0aXZlVGV4VW5pdClcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IGdsVGV4dHVyZUlkXG4gICAqL1xuICBiaW5kVGV4dHVyZTJkIChnbFRleHR1cmVJZCkge1xuICAgIGNvbnN0IHsgZ2wgfSA9IHRoaXNcbiAgICBjb25zdCBib3VuZCA9IHRoaXMuYm91bmRUZXh0dXJlc1t0aGlzLmFjdGl2ZVRleFVuaXQgLSBnbC5URVhUVVJFMF1cblxuICAgIGlmIChib3VuZC5URVhUVVJFXzJEICE9PSBnbFRleHR1cmVJZCkge1xuICAgICAgYm91bmQuVEVYVFVSRV8yRCA9IGdsVGV4dHVyZUlkXG4gICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBnbFRleHR1cmVJZClcbiAgICB9XG4gIH1cblxuICByZWFkQ3VycmVudFN0YXRlICgpIHtcbiAgICBjb25zdCB7IGdsIH0gPSB0aGlzXG5cbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kZS9kb2NzL1dlYi9BUEkvV2ViR0xSZW5kZXJpbmdDb250ZXh0L2dldFBhcmFtZXRlclxuXG4gICAgdGhpcy5ib3VuZEJ1ZmZlcnMuc2V0KFxuICAgICAgZ2wuQVJSQVlfQlVGRkVSLFxuICAgICAgZ2wuZ2V0UGFyYW1ldGVyKGdsLkFSUkFZX0JVRkZFUl9CSU5ESU5HKSlcbiAgICB0aGlzLmJvdW5kQnVmZmVycy5zZXQoXG4gICAgICBnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUixcbiAgICAgIGdsLmdldFBhcmFtZXRlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUl9CSU5ESU5HKSlcblxuICAgIHRoaXMuY3VycmVudFByb2dyYW0gPSBnbC5nZXRQYXJhbWV0ZXIoZ2wuQ1VSUkVOVF9QUk9HUkFNKVxuICB9XG5cbiAgYmluZEJ1ZmZlciAodGFyZ2V0LCBidWZmZXIpIHtcbiAgICBpZiAodGhpcy5ib3VuZEJ1ZmZlcnMuZ2V0KHRhcmdldCkgIT09IGJ1ZmZlcikge1xuICAgICAgdGhpcy5nbC5iaW5kQnVmZmVyKHRhcmdldCwgYnVmZmVyKVxuICAgICAgdGhpcy5ib3VuZEJ1ZmZlcnMuc2V0KHRhcmdldCwgYnVmZmVyKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgdXNlUHJvZ3JhbSAoZ2xQcm9ncmFtKSB7XG4gICAgaWYgKHRoaXMuY3VycmVudFByb2dyYW0gIT09IGdsUHJvZ3JhbSkge1xuICAgICAgdGhpcy5nbC51c2VQcm9ncmFtKGdsUHJvZ3JhbSlcbiAgICAgIHRoaXMuY3VycmVudFByb2dyYW0gPSBnbFByb2dyYW1cbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgZW5hYmxlVmVydGV4QXR0cmliQXJyYXlzIChlbmFibGVMb2NhdGlvbnMpIHtcbiAgICBjb25zdCB7IGdsIH0gPSB0aGlzXG5cbiAgICB0aGlzLmVuYWJsZWRWZXJ0ZXhBdHRyaWJMb2NhdGlvbnNcbiAgICAgIC5maWx0ZXIobG9jYXRpb24gPT4gZW5hYmxlTG9jYXRpb25zLmluZGV4T2YobG9jYXRpb24pID09PSAtMSlcbiAgICAgIC5mb3JFYWNoKGxvY2F0aW9uID0+IHtcbiAgICAgICAgZ2wuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KGxvY2F0aW9uKVxuICAgICAgICB0aGlzLmVuYWJsZWRWZXJ0ZXhBdHRyaWJMb2NhdGlvbnMuc3BsaWNlKGVuYWJsZUxvY2F0aW9ucy5pbmRleE9mKGxvY2F0aW9uKSwgMSlcbiAgICAgIH0pXG5cbiAgICBlbmFibGVMb2NhdGlvbnMuZm9yRWFjaChsb2MgPT4ge1xuICAgICAgY29uc3QgaWR4ID0gdGhpcy5lbmFibGVkVmVydGV4QXR0cmliTG9jYXRpb25zLmluZGV4T2YobG9jKVxuICAgICAgaWYgKGlkeCA9PT0gLTEpIHtcbiAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkobG9jKVxuICAgICAgICB0aGlzLmVuYWJsZWRWZXJ0ZXhBdHRyaWJMb2NhdGlvbnMucHVzaChsb2MpXG4gICAgICB9XG4gICAgfSlcbiAgfVxufVxuXG4vKiogQHByaXZhdGUgKi9cbmZ1bmN0aW9uIGluaXRpYWxpemUgKGdseCkge1xuICBjb25zdCB7IGdsIH0gPSBnbHhcblxuICBnbHguREVQVEhfQklUUyA9IGdsLmdldFBhcmFtZXRlcihnbC5ERVBUSF9CSVRTKVxuICBnbHguTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMgPSBnbC5nZXRQYXJhbWV0ZXIoZ2wuTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMpXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvcmVuZGVyL3dlYl9nbF9jb250ZXh0LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 33 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _web_gl_uniform = __webpack_require__(39);\n\nvar _web_gl_uniform2 = _interopRequireDefault(_web_gl_uniform);\n\nvar _web_gl_attribute = __webpack_require__(30);\n\nvar _web_gl_attribute2 = _interopRequireDefault(_web_gl_attribute);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass WebGlProgram {\n  constructor(glx, shaderProgram) {\n    this.glx = glx;\n\n    this.vertexShader = glx.resourceLibrary.loadVertexShader(shaderProgram.vertexShader);\n    this.fragmentShader = glx.resourceLibrary.loadFragementShader(shaderProgram.fragmentShader);\n\n    const gl = glx.gl;\n\n    this.glProgram = gl.createProgram();\n\n    linkProgram(this, this.vertexShader.glShader, this.fragmentShader.glShader);\n    // TODO gl.deleteShader?\n\n    createUniforms(this);\n    createAttributes(this);\n\n    Object.freeze(this);\n  }\n\n  /**\n   * @return {boolean}\n   */\n  use() {\n    const glx = this.glx;\n\n    if (glx.useProgram(this.glProgram)) {\n      glx.enableVertexAttribArrays(this.attributeLocations);\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * @param {ShaderContext} shaderContext\n   */\n  loadUniforms(shaderContext) {\n    this.uniformNames.forEach(name => {\n      this.uniforms[name].setValue(shaderContext.curUniform(name).value);\n    });\n  }\n\n  /**\n   * @param {ShaderContext} shaderContext\n   */\n  loadAttributes(shaderContext) {\n    const resourceLibrary = this.glx.resourceLibrary;\n\n    this.attributeNames.forEach(name => {\n      const attribValue = shaderContext.curAttrib(name).value;\n      const buffer = resourceLibrary.findBuffer(attribValue.resourceRef).resource;\n      buffer.bindBuffer();\n      this.attributes[name].vertexAttribPointer(attribValue.descriptor);\n    });\n  }\n}\n\nexports.default = WebGlProgram; /** @private */\n\nfunction createAttributes(program) {\n  const gl = program.glx.gl;\n\n  const len = gl.getProgramParameter(program.glProgram, gl.ACTIVE_ATTRIBUTES);\n\n  program.attributes = {};\n  program.attributeNames = [];\n  program.attributeLocations = [];\n\n  for (let i = 0; i < len; ++i) {\n    const attrib = new _web_gl_attribute2.default(program, i);\n    program.attributes[attrib.name] = attrib;\n    program.attributeNames.push(attrib.name);\n    program.attributeLocations.push(attrib.location);\n  }\n\n  Object.freeze(program.attributes);\n}\n\n/** @private */\nfunction createUniforms(program) {\n  const gl = program.glx.gl;\n\n  const len = gl.getProgramParameter(program.glProgram, gl.ACTIVE_UNIFORMS);\n\n  program.uniforms = {};\n  program.uniformNames = [];\n\n  for (let i = 0; i < len; ++i) {\n    const uniform = new _web_gl_uniform2.default(program, i);\n    program.uniforms[uniform.name] = uniform;\n    program.uniformNames.push(uniform.name);\n  }\n\n  Object.freeze(program.uniforms);\n}\n\n/** @private */\nfunction linkProgram(program, vertexShader, fragmentShader) {\n  const gl = program.glx.gl;\n  const glProgram = program.glProgram;\n\n\n  gl.attachShader(glProgram, vertexShader);\n  gl.attachShader(glProgram, fragmentShader);\n\n  gl.linkProgram(glProgram);\n\n  if (!gl.getProgramParameter(glProgram, gl.LINK_STATUS)) {\n    const err = new Error('WebGlProgram link panic!');\n    err.webGlProgram = program;\n    throw err;\n  }\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcmVuZGVyL3dlYl9nbF9wcm9ncmFtLmpzPzNiZDIiXSwibmFtZXMiOlsiV2ViR2xQcm9ncmFtIiwiY29uc3RydWN0b3IiLCJnbHgiLCJzaGFkZXJQcm9ncmFtIiwidmVydGV4U2hhZGVyIiwicmVzb3VyY2VMaWJyYXJ5IiwibG9hZFZlcnRleFNoYWRlciIsImZyYWdtZW50U2hhZGVyIiwibG9hZEZyYWdlbWVudFNoYWRlciIsImdsIiwiZ2xQcm9ncmFtIiwiY3JlYXRlUHJvZ3JhbSIsImxpbmtQcm9ncmFtIiwiZ2xTaGFkZXIiLCJjcmVhdGVVbmlmb3JtcyIsImNyZWF0ZUF0dHJpYnV0ZXMiLCJPYmplY3QiLCJmcmVlemUiLCJ1c2UiLCJ1c2VQcm9ncmFtIiwiZW5hYmxlVmVydGV4QXR0cmliQXJyYXlzIiwiYXR0cmlidXRlTG9jYXRpb25zIiwibG9hZFVuaWZvcm1zIiwic2hhZGVyQ29udGV4dCIsInVuaWZvcm1OYW1lcyIsImZvckVhY2giLCJuYW1lIiwidW5pZm9ybXMiLCJzZXRWYWx1ZSIsImN1clVuaWZvcm0iLCJ2YWx1ZSIsImxvYWRBdHRyaWJ1dGVzIiwiYXR0cmlidXRlTmFtZXMiLCJhdHRyaWJWYWx1ZSIsImN1ckF0dHJpYiIsImJ1ZmZlciIsImZpbmRCdWZmZXIiLCJyZXNvdXJjZVJlZiIsInJlc291cmNlIiwiYmluZEJ1ZmZlciIsImF0dHJpYnV0ZXMiLCJ2ZXJ0ZXhBdHRyaWJQb2ludGVyIiwiZGVzY3JpcHRvciIsInByb2dyYW0iLCJsZW4iLCJnZXRQcm9ncmFtUGFyYW1ldGVyIiwiQUNUSVZFX0FUVFJJQlVURVMiLCJpIiwiYXR0cmliIiwicHVzaCIsImxvY2F0aW9uIiwiQUNUSVZFX1VOSUZPUk1TIiwidW5pZm9ybSIsImF0dGFjaFNoYWRlciIsIkxJTktfU1RBVFVTIiwiZXJyIiwiRXJyb3IiLCJ3ZWJHbFByb2dyYW0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7OztBQUVlLE1BQU1B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QUlFLFlBQUosR0FBbUJkLE9BQW5CO0FBQ0EsVUFBTVksR0FBTjtBQUNEO0FBQ0YiLCJmaWxlIjoiMzMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgV2ViR2xVbmlmb3JtIGZyb20gJy4vd2ViX2dsX3VuaWZvcm0nXG5pbXBvcnQgV2ViR2xBdHRyaWJ1dGUgZnJvbSAnLi93ZWJfZ2xfYXR0cmlidXRlJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXZWJHbFByb2dyYW0ge1xuICBjb25zdHJ1Y3RvciAoZ2x4LCBzaGFkZXJQcm9ncmFtKSB7XG4gICAgdGhpcy5nbHggPSBnbHhcblxuICAgIHRoaXMudmVydGV4U2hhZGVyID0gZ2x4LnJlc291cmNlTGlicmFyeS5sb2FkVmVydGV4U2hhZGVyKHNoYWRlclByb2dyYW0udmVydGV4U2hhZGVyKVxuICAgIHRoaXMuZnJhZ21lbnRTaGFkZXIgPSBnbHgucmVzb3VyY2VMaWJyYXJ5LmxvYWRGcmFnZW1lbnRTaGFkZXIoc2hhZGVyUHJvZ3JhbS5mcmFnbWVudFNoYWRlcilcblxuICAgIGNvbnN0IHsgZ2wgfSA9IGdseFxuICAgIHRoaXMuZ2xQcm9ncmFtID0gZ2wuY3JlYXRlUHJvZ3JhbSgpXG5cbiAgICBsaW5rUHJvZ3JhbSh0aGlzLCB0aGlzLnZlcnRleFNoYWRlci5nbFNoYWRlciwgdGhpcy5mcmFnbWVudFNoYWRlci5nbFNoYWRlcilcbiAgICAvLyBUT0RPIGdsLmRlbGV0ZVNoYWRlcj9cblxuICAgIGNyZWF0ZVVuaWZvcm1zKHRoaXMpXG4gICAgY3JlYXRlQXR0cmlidXRlcyh0aGlzKVxuXG4gICAgT2JqZWN0LmZyZWV6ZSh0aGlzKVxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICB1c2UgKCkge1xuICAgIGNvbnN0IHsgZ2x4IH0gPSB0aGlzXG4gICAgaWYgKGdseC51c2VQcm9ncmFtKHRoaXMuZ2xQcm9ncmFtKSkge1xuICAgICAgZ2x4LmVuYWJsZVZlcnRleEF0dHJpYkFycmF5cyh0aGlzLmF0dHJpYnV0ZUxvY2F0aW9ucylcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7U2hhZGVyQ29udGV4dH0gc2hhZGVyQ29udGV4dFxuICAgKi9cbiAgbG9hZFVuaWZvcm1zIChzaGFkZXJDb250ZXh0KSB7XG4gICAgdGhpcy51bmlmb3JtTmFtZXMuZm9yRWFjaChuYW1lID0+IHtcbiAgICAgIHRoaXMudW5pZm9ybXNbbmFtZV0uc2V0VmFsdWUoc2hhZGVyQ29udGV4dC5jdXJVbmlmb3JtKG5hbWUpLnZhbHVlKVxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtTaGFkZXJDb250ZXh0fSBzaGFkZXJDb250ZXh0XG4gICAqL1xuICBsb2FkQXR0cmlidXRlcyAoc2hhZGVyQ29udGV4dCkge1xuICAgIGNvbnN0IHsgcmVzb3VyY2VMaWJyYXJ5IH0gPSB0aGlzLmdseFxuICAgIHRoaXMuYXR0cmlidXRlTmFtZXMuZm9yRWFjaChuYW1lID0+IHtcbiAgICAgIGNvbnN0IGF0dHJpYlZhbHVlID0gc2hhZGVyQ29udGV4dC5jdXJBdHRyaWIobmFtZSkudmFsdWVcbiAgICAgIGNvbnN0IGJ1ZmZlciA9IHJlc291cmNlTGlicmFyeS5maW5kQnVmZmVyKGF0dHJpYlZhbHVlLnJlc291cmNlUmVmKS5yZXNvdXJjZVxuICAgICAgYnVmZmVyLmJpbmRCdWZmZXIoKVxuICAgICAgdGhpcy5hdHRyaWJ1dGVzW25hbWVdLnZlcnRleEF0dHJpYlBvaW50ZXIoYXR0cmliVmFsdWUuZGVzY3JpcHRvcilcbiAgICB9KVxuICB9XG59XG5cbi8qKiBAcHJpdmF0ZSAqL1xuZnVuY3Rpb24gY3JlYXRlQXR0cmlidXRlcyAocHJvZ3JhbSkge1xuICBjb25zdCB7IGdsIH0gPSBwcm9ncmFtLmdseFxuICBjb25zdCBsZW4gPSBnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0uZ2xQcm9ncmFtLCBnbC5BQ1RJVkVfQVRUUklCVVRFUylcblxuICBwcm9ncmFtLmF0dHJpYnV0ZXMgPSB7fVxuICBwcm9ncmFtLmF0dHJpYnV0ZU5hbWVzID0gW11cbiAgcHJvZ3JhbS5hdHRyaWJ1dGVMb2NhdGlvbnMgPSBbXVxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICBjb25zdCBhdHRyaWIgPSBuZXcgV2ViR2xBdHRyaWJ1dGUocHJvZ3JhbSwgaSlcbiAgICBwcm9ncmFtLmF0dHJpYnV0ZXNbYXR0cmliLm5hbWVdID0gYXR0cmliXG4gICAgcHJvZ3JhbS5hdHRyaWJ1dGVOYW1lcy5wdXNoKGF0dHJpYi5uYW1lKVxuICAgIHByb2dyYW0uYXR0cmlidXRlTG9jYXRpb25zLnB1c2goYXR0cmliLmxvY2F0aW9uKVxuICB9XG5cbiAgT2JqZWN0LmZyZWV6ZShwcm9ncmFtLmF0dHJpYnV0ZXMpXG59XG5cbi8qKiBAcHJpdmF0ZSAqL1xuZnVuY3Rpb24gY3JlYXRlVW5pZm9ybXMgKHByb2dyYW0pIHtcbiAgY29uc3QgeyBnbCB9ID0gcHJvZ3JhbS5nbHhcbiAgY29uc3QgbGVuID0gZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLmdsUHJvZ3JhbSwgZ2wuQUNUSVZFX1VOSUZPUk1TKVxuXG4gIHByb2dyYW0udW5pZm9ybXMgPSB7fVxuICBwcm9ncmFtLnVuaWZvcm1OYW1lcyA9IFtdXG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgIGNvbnN0IHVuaWZvcm0gPSBuZXcgV2ViR2xVbmlmb3JtKHByb2dyYW0sIGkpXG4gICAgcHJvZ3JhbS51bmlmb3Jtc1t1bmlmb3JtLm5hbWVdID0gdW5pZm9ybVxuICAgIHByb2dyYW0udW5pZm9ybU5hbWVzLnB1c2godW5pZm9ybS5uYW1lKVxuICB9XG5cbiAgT2JqZWN0LmZyZWV6ZShwcm9ncmFtLnVuaWZvcm1zKVxufVxuXG4vKiogQHByaXZhdGUgKi9cbmZ1bmN0aW9uIGxpbmtQcm9ncmFtIChwcm9ncmFtLCB2ZXJ0ZXhTaGFkZXIsIGZyYWdtZW50U2hhZGVyKSB7XG4gIGNvbnN0IHsgZ2wgfSA9IHByb2dyYW0uZ2x4XG4gIGNvbnN0IHsgZ2xQcm9ncmFtIH0gPSBwcm9ncmFtXG5cbiAgZ2wuYXR0YWNoU2hhZGVyKGdsUHJvZ3JhbSwgdmVydGV4U2hhZGVyKVxuICBnbC5hdHRhY2hTaGFkZXIoZ2xQcm9ncmFtLCBmcmFnbWVudFNoYWRlcilcblxuICBnbC5saW5rUHJvZ3JhbShnbFByb2dyYW0pXG5cbiAgaWYgKCFnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKGdsUHJvZ3JhbSwgZ2wuTElOS19TVEFUVVMpKSB7XG4gICAgY29uc3QgZXJyID0gbmV3IEVycm9yKCdXZWJHbFByb2dyYW0gbGluayBwYW5pYyEnKVxuICAgIGVyci53ZWJHbFByb2dyYW0gPSBwcm9ncmFtXG4gICAgdGhyb3cgZXJyXG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9yZW5kZXIvd2ViX2dsX3Byb2dyYW0uanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 34 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _eventize = __webpack_require__(8);\n\nvar _eventize2 = _interopRequireDefault(_eventize);\n\nvar _shader_context = __webpack_require__(18);\n\nvar _shader_context2 = _interopRequireDefault(_shader_context);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass WebGlRenderer {\n  constructor(glx) {\n    Object.defineProperty(this, 'glx', { value: glx });\n\n    this.shaderContext = new _shader_context2.default();\n\n    (0, _eventize2.default)(this);\n  }\n\n  renderFrame(scene) {\n    this.shaderContext.clear();\n    scene.emit('animateFrame', scene);\n    this.renderBegin();\n    scene.emit('syncBuffers', this);\n    scene.emit('syncTextures', this);\n    scene.emit('renderFrame', this);\n    this.renderEnd();\n  }\n\n  renderBegin() {\n    this.clearFrameBuffer();\n  }\n\n  renderEnd() {}\n\n  clearFrameBuffer() {\n    const gl = this.glx.gl;\n\n\n    let clear = gl.COLOR_BUFFER_BIT;\n    if (this.glx.DEPTH_BITS > 0) clear = clear | gl.DEPTH_BUFFER_BIT;\n\n    gl.clear(clear);\n  }\n\n  /**\n   * @param {ShaderProgram} shaderProgram\n   */\n  useShaderProgram(shaderProgram) {\n    const program = this.glx.resourceLibrary.loadProgram(shaderProgram);\n    const shaderContext = this.shaderContext;\n\n    program.use(shaderContext);\n    program.loadUniforms(shaderContext);\n    program.loadAttributes(shaderContext);\n  }\n\n  /**\n   * @param {string} primitive\n   * @param {number} count\n   * @param {number} [startIndex=0]\n   */\n  drawArrays(primitive, count) {\n    let startIndex = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    const gl = this.glx.gl;\n\n    gl.drawArrays(gl[primitive], startIndex, count);\n  }\n\n  /**\n   * @param {VOPool} voPool\n   */\n  syncBuffer(voPool) {\n    // TODO delay sync until buffer is really used by draw commands aka drawArrays()\n    const voArrayRef = voPool.voArray.resourceRef;\n    const bufferRef = this.glx.resourceLibrary.loadBuffer(voArrayRef);\n    bufferRef.sync(voArrayRef, buffer => buffer.bufferData());\n  }\n\n  /**\n   * @param {Texture} texture\n   */\n  syncTexture(texture) {\n    // TODO delay sync until texture is really used by draw commands aka drawArrays()\n    const texRef = texture.resourceRef;\n    const glTexRef = this.glx.resourceLibrary.loadTexture(texRef);\n    glTexRef.sync(texRef, tex => tex.uploadImageData());\n  }\n}\nexports.default = WebGlRenderer;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcmVuZGVyL3dlYl9nbF9yZW5kZXJlci5qcz83MDY1Il0sIm5hbWVzIjpbIldlYkdsUmVuZGVyZXIiLCJjb25zdHJ1Y3RvciIsImdseCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJzaGFkZXJDb250ZXh0IiwicmVuZGVyRnJhbWUiLCJzY2VuZSIsImNsZWFyIiwiZW1pdCIsInJlbmRlckJlZ2luIiwicmVuZGVyRW5kIiwiY2xlYXJGcmFtZUJ1ZmZlciIsImdsIiwiQ09MT1JfQlVGRkVSX0JJVCIsIkRFUFRIX0JJVFMiLCJERVBUSF9CVUZGRVJfQklUIiwidXNlU2hhZGVyUHJvZ3JhbSIsInNoYWRlclByb2dyYW0iLCJwcm9ncmFtIiwicmVzb3VyY2VMaWJyYXJ5IiwibG9hZFByb2dyYW0iLCJ1c2UiLCJsb2FkVW5pZm9ybXMiLCJsb2FkQXR0cmlidXRlcyIsImRyYXdBcnJheXMiLCJwcmltaXRpdmUiLCJjb3VudCIsInN0YXJ0SW5kZXgiLCJzeW5jQnVmZmVyIiwidm9Qb29sIiwidm9BcnJheVJlZiIsInZvQXJyYXkiLCJyZXNvdXJjZVJlZiIsImJ1ZmZlclJlZiIsImxvYWRCdWZmZXIiLCJzeW5jIiwiYnVmZmVyIiwiYnVmZmVyRGF0YSIsInN5bmNUZXh0dXJlIiwidGV4dHVyZSIsInRleFJlZiIsImdsVGV4UmVmIiwibG9hZFRleHR1cmUiLCJ0ZXgiLCJ1cGxvYWRJbWFnZURhdGEiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7O0FBRUE7Ozs7OztBQUVlLE1BQU1BLGFBQU4sQ0FBb0I7QUFDakNDLGNBQWFDLEdBQWIsRUFBa0I7QUFDaEJDLFdBQU9DLGNBQVAsQ0FBc0IsSUFBdEIsRUFBNEIsS0FBNUIsRUFBbUMsRUFBRUMsT0FBT0gsR0FBVCxFQUFuQzs7QUFFQSxTQUFLSSxhQUFMLEdBQXFCLDhCQUFyQjs7QUFFQSw0QkFBUyxJQUFUO0FBQ0Q7O0FBRURDLGNBQWFDLEtBQWIsRUFBb0I7QUFDbEIsU0FBS0YsYUFBTCxDQUFtQkcsS0FBbkI7QUFDQUQsVUFBTUUsSUFBTixDQUFXLGNBQVgsRUFBMkJGLEtBQTNCO0FBQ0EsU0FBS0csV0FBTDtBQUNBSCxVQUFNRSxJQUFOLENBQVcsYUFBWCxFQUEwQixJQUExQjtBQUNBRixVQUFNRSxJQUFOLENBQVcsY0FBWCxFQUEyQixJQUEzQjtBQUNBRixVQUFNRSxJQUFOLENBQVcsYUFBWCxFQUEwQixJQUExQjtBQUNBLFNBQUtFLFNBQUw7QUFDRDs7QUFFREQsZ0JBQWU7QUFDYixTQUFLRSxnQkFBTDtBQUNEOztBQUVERCxjQUFhLENBQ1o7O0FBRURDLHFCQUFvQjtBQUFBLFVBQ1ZDLEVBRFUsR0FDSCxLQUFLWixHQURGLENBQ1ZZLEVBRFU7OztBQUdsQixRQUFJTCxRQUFRSyxHQUFHQyxnQkFBZjtBQUNBLFFBQUksS0FBS2IsR0FBTCxDQUFTYyxVQUFULEdBQXNCLENBQTFCLEVBQTZCUCxRQUFRQSxRQUFRSyxHQUFHRyxnQkFBbkI7O0FBRTdCSCxPQUFHTCxLQUFILENBQVNBLEtBQVQ7QUFDRDs7QUFFRDs7O0FBR0FTLG1CQUFrQkMsYUFBbEIsRUFBaUM7QUFDL0IsVUFBTUMsVUFBVSxLQUFLbEIsR0FBTCxDQUFTbUIsZUFBVCxDQUF5QkMsV0FBekIsQ0FBcUNILGFBQXJDLENBQWhCO0FBRCtCLFVBRXZCYixhQUZ1QixHQUVMLElBRkssQ0FFdkJBLGFBRnVCOztBQUcvQmMsWUFBUUcsR0FBUixDQUFZakIsYUFBWjtBQUNBYyxZQUFRSSxZQUFSLENBQXFCbEIsYUFBckI7QUFDQWMsWUFBUUssY0FBUixDQUF1Qm5CLGFBQXZCO0FBQ0Q7O0FBRUQ7Ozs7O0FBS0FvQixhQUFZQyxTQUFaLEVBQXVCQyxLQUF2QixFQUE4QztBQUFBLFFBQWhCQyxVQUFnQix1RUFBSCxDQUFHO0FBQUEsVUFDcENmLEVBRG9DLEdBQzdCLEtBQUtaLEdBRHdCLENBQ3BDWSxFQURvQzs7QUFFNUNBLE9BQUdZLFVBQUgsQ0FBY1osR0FBR2EsU0FBSCxDQUFkLEVBQTZCRSxVQUE3QixFQUF5Q0QsS0FBekM7QUFDRDs7QUFFRDs7O0FBR0FFLGFBQVlDLE1BQVosRUFBb0I7QUFDbEI7QUFDQSxVQUFNQyxhQUFhRCxPQUFPRSxPQUFQLENBQWVDLFdBQWxDO0FBQ0EsVUFBTUMsWUFBWSxLQUFLakMsR0FBTCxDQUFTbUIsZUFBVCxDQUF5QmUsVUFBekIsQ0FBb0NKLFVBQXBDLENBQWxCO0FBQ0FHLGNBQVVFLElBQVYsQ0FBZUwsVUFBZixFQUEyQk0sVUFBVUEsT0FBT0MsVUFBUCxFQUFyQztBQUNEOztBQUVEOzs7QUFHQUMsY0FBYUMsT0FBYixFQUFzQjtBQUNwQjtBQUNBLFVBQU1DLFNBQVNELFFBQVFQLFdBQXZCO0FBQ0EsVUFBTVMsV0FBVyxLQUFLekMsR0FBTCxDQUFTbUIsZUFBVCxDQUF5QnVCLFdBQXpCLENBQXFDRixNQUFyQyxDQUFqQjtBQUNBQyxhQUFTTixJQUFULENBQWNLLE1BQWQsRUFBc0JHLE9BQU9BLElBQUlDLGVBQUosRUFBN0I7QUFDRDtBQTFFZ0M7a0JBQWQ5QyxhIiwiZmlsZSI6IjM0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV2ZW50aXplIGZyb20gJ0BzcGVhcndvbGYvZXZlbnRpemUnXG5cbmltcG9ydCBTaGFkZXJDb250ZXh0IGZyb20gJy4uL2NvcmUvc2hhZGVyX2NvbnRleHQnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdlYkdsUmVuZGVyZXIge1xuICBjb25zdHJ1Y3RvciAoZ2x4KSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdnbHgnLCB7IHZhbHVlOiBnbHggfSlcblxuICAgIHRoaXMuc2hhZGVyQ29udGV4dCA9IG5ldyBTaGFkZXJDb250ZXh0KClcblxuICAgIGV2ZW50aXplKHRoaXMpXG4gIH1cblxuICByZW5kZXJGcmFtZSAoc2NlbmUpIHtcbiAgICB0aGlzLnNoYWRlckNvbnRleHQuY2xlYXIoKVxuICAgIHNjZW5lLmVtaXQoJ2FuaW1hdGVGcmFtZScsIHNjZW5lKVxuICAgIHRoaXMucmVuZGVyQmVnaW4oKVxuICAgIHNjZW5lLmVtaXQoJ3N5bmNCdWZmZXJzJywgdGhpcylcbiAgICBzY2VuZS5lbWl0KCdzeW5jVGV4dHVyZXMnLCB0aGlzKVxuICAgIHNjZW5lLmVtaXQoJ3JlbmRlckZyYW1lJywgdGhpcylcbiAgICB0aGlzLnJlbmRlckVuZCgpXG4gIH1cblxuICByZW5kZXJCZWdpbiAoKSB7XG4gICAgdGhpcy5jbGVhckZyYW1lQnVmZmVyKClcbiAgfVxuXG4gIHJlbmRlckVuZCAoKSB7XG4gIH1cblxuICBjbGVhckZyYW1lQnVmZmVyICgpIHtcbiAgICBjb25zdCB7IGdsIH0gPSB0aGlzLmdseFxuXG4gICAgbGV0IGNsZWFyID0gZ2wuQ09MT1JfQlVGRkVSX0JJVFxuICAgIGlmICh0aGlzLmdseC5ERVBUSF9CSVRTID4gMCkgY2xlYXIgPSBjbGVhciB8IGdsLkRFUFRIX0JVRkZFUl9CSVRcblxuICAgIGdsLmNsZWFyKGNsZWFyKVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7U2hhZGVyUHJvZ3JhbX0gc2hhZGVyUHJvZ3JhbVxuICAgKi9cbiAgdXNlU2hhZGVyUHJvZ3JhbSAoc2hhZGVyUHJvZ3JhbSkge1xuICAgIGNvbnN0IHByb2dyYW0gPSB0aGlzLmdseC5yZXNvdXJjZUxpYnJhcnkubG9hZFByb2dyYW0oc2hhZGVyUHJvZ3JhbSlcbiAgICBjb25zdCB7IHNoYWRlckNvbnRleHQgfSA9IHRoaXNcbiAgICBwcm9ncmFtLnVzZShzaGFkZXJDb250ZXh0KVxuICAgIHByb2dyYW0ubG9hZFVuaWZvcm1zKHNoYWRlckNvbnRleHQpXG4gICAgcHJvZ3JhbS5sb2FkQXR0cmlidXRlcyhzaGFkZXJDb250ZXh0KVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwcmltaXRpdmVcbiAgICogQHBhcmFtIHtudW1iZXJ9IGNvdW50XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnRJbmRleD0wXVxuICAgKi9cbiAgZHJhd0FycmF5cyAocHJpbWl0aXZlLCBjb3VudCwgc3RhcnRJbmRleCA9IDApIHtcbiAgICBjb25zdCB7IGdsIH0gPSB0aGlzLmdseFxuICAgIGdsLmRyYXdBcnJheXMoZ2xbcHJpbWl0aXZlXSwgc3RhcnRJbmRleCwgY291bnQpXG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtWT1Bvb2x9IHZvUG9vbFxuICAgKi9cbiAgc3luY0J1ZmZlciAodm9Qb29sKSB7XG4gICAgLy8gVE9ETyBkZWxheSBzeW5jIHVudGlsIGJ1ZmZlciBpcyByZWFsbHkgdXNlZCBieSBkcmF3IGNvbW1hbmRzIGFrYSBkcmF3QXJyYXlzKClcbiAgICBjb25zdCB2b0FycmF5UmVmID0gdm9Qb29sLnZvQXJyYXkucmVzb3VyY2VSZWZcbiAgICBjb25zdCBidWZmZXJSZWYgPSB0aGlzLmdseC5yZXNvdXJjZUxpYnJhcnkubG9hZEJ1ZmZlcih2b0FycmF5UmVmKVxuICAgIGJ1ZmZlclJlZi5zeW5jKHZvQXJyYXlSZWYsIGJ1ZmZlciA9PiBidWZmZXIuYnVmZmVyRGF0YSgpKVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7VGV4dHVyZX0gdGV4dHVyZVxuICAgKi9cbiAgc3luY1RleHR1cmUgKHRleHR1cmUpIHtcbiAgICAvLyBUT0RPIGRlbGF5IHN5bmMgdW50aWwgdGV4dHVyZSBpcyByZWFsbHkgdXNlZCBieSBkcmF3IGNvbW1hbmRzIGFrYSBkcmF3QXJyYXlzKClcbiAgICBjb25zdCB0ZXhSZWYgPSB0ZXh0dXJlLnJlc291cmNlUmVmXG4gICAgY29uc3QgZ2xUZXhSZWYgPSB0aGlzLmdseC5yZXNvdXJjZUxpYnJhcnkubG9hZFRleHR1cmUodGV4UmVmKVxuICAgIGdsVGV4UmVmLnN5bmModGV4UmVmLCB0ZXggPT4gdGV4LnVwbG9hZEltYWdlRGF0YSgpKVxuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvcmVuZGVyL3dlYl9nbF9yZW5kZXJlci5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 35 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _resource_ref = __webpack_require__(5);\n\nvar _resource_ref2 = _interopRequireDefault(_resource_ref);\n\nvar _web_gl_shader = __webpack_require__(36);\n\nvar _web_gl_shader2 = _interopRequireDefault(_web_gl_shader);\n\nvar _web_gl_program = __webpack_require__(33);\n\nvar _web_gl_program2 = _interopRequireDefault(_web_gl_program);\n\nvar _web_gl_buffer = __webpack_require__(31);\n\nvar _web_gl_buffer2 = _interopRequireDefault(_web_gl_buffer);\n\nvar _web_gl_texture = __webpack_require__(37);\n\nvar _web_gl_texture2 = _interopRequireDefault(_web_gl_texture);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst WEB_GL_BUFFER_USAGE = Object.freeze({\n  static: _web_gl_buffer2.default.STATIC_DRAW,\n  dynamic: _web_gl_buffer2.default.DYNAMIC_DRAW\n});\n\nclass WebGlResourceLibrary {\n  constructor(glx) {\n    Object.defineProperty(this, 'glx', { value: glx });\n\n    /** @private */\n    this.vertexShader = new Map();\n    /** @private */\n    this.fragmentShader = new Map();\n    /** @private */\n    this.shaderProgram = new Map();\n    /** @private */\n    this.buffer = new Map();\n    /** @private */\n    this.texture = new Map();\n  }\n\n  loadVertexShader(shaderSource) {\n    let glShader = this.vertexShader.get(shaderSource.id);\n    if (!glShader) {\n      glShader = new _web_gl_shader2.default(this.glx, shaderSource);\n      this.vertexShader.set(shaderSource.id, glShader);\n    }\n    return glShader;\n  }\n\n  loadFragementShader(shaderSource) {\n    let glShader = this.fragmentShader.get(shaderSource.id);\n    if (!glShader) {\n      glShader = new _web_gl_shader2.default(this.glx, shaderSource);\n      this.vertexShader.set(shaderSource.id, glShader);\n    }\n    return glShader;\n  }\n\n  loadProgram(shaderProgram) {\n    let program = this.shaderProgram.get(shaderProgram.id);\n    if (!program) {\n      program = new _web_gl_program2.default(this.glx, shaderProgram);\n      this.shaderProgram.set(shaderProgram.id, program);\n    }\n    return program;\n  }\n\n  /**\n   * @param {ResourceRef} voArrayRef - resource reference to VOArray\n   * @returns {ResourceRef} resource reference to WebGlBuffer\n   */\n  loadBuffer(voArrayRef) {\n    let bufferRef = this.buffer.get(voArrayRef.id);\n    if (!bufferRef) {\n      // create WebGlBuffer\n      const glBuffer = new _web_gl_buffer2.default(this.glx, _web_gl_buffer2.default.ARRAY_BUFFER, WEB_GL_BUFFER_USAGE[voArrayRef.hints.usage]);\n      glBuffer.voArray = voArrayRef.resource;\n      // create ResourceRef\n      bufferRef = new _resource_ref2.default(glBuffer, { id: voArrayRef.id, serial: 0 });\n      this.buffer.set(voArrayRef.id, bufferRef);\n    }\n    return bufferRef;\n  }\n\n  /**\n   * @param {ResourceRef} resourceRef\n   * @returns {ResourceRef} resource reference to WebGlBuffer\n   */\n  findBuffer(resourceRef) {\n    return this.buffer.get(resourceRef.id);\n  }\n\n  /**\n   * @param {ResourceRef} texRef - resource reference to texture\n   * @returns {ResourceRef} resource reference to WebGlTexture\n   */\n  loadTexture(texRef) {\n    let glTextureRef = this.texture.get(texRef.id);\n    if (!glTextureRef) {\n      // create WebGlTexture\n      const glTex = new _web_gl_texture2.default(this.glx, texRef.resource.imgEl, texRef.hints.flipY, texRef.hints.repeatable, texRef.hints.premultiplyAlpha);\n      // create ResourceRef\n      glTextureRef = new _resource_ref2.default(glTex, { id: texRef.id, serial: 0 });\n      this.texture.set(texRef.id, glTextureRef);\n    }\n    return glTextureRef;\n  }\n}\nexports.default = WebGlResourceLibrary;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcmVuZGVyL3dlYl9nbF9yZXNvdXJjZV9saWJyYXJ5LmpzP2ZiOGIiXSwibmFtZXMiOlsiV0VCX0dMX0JVRkZFUl9VU0FHRSIsIk9iamVjdCIsImZyZWV6ZSIsInN0YXRpYyIsIlNUQVRJQ19EUkFXIiwiZHluYW1pYyIsIkRZTkFNSUNfRFJBVyIsIldlYkdsUmVzb3VyY2VMaWJyYXJ5IiwiY29uc3RydWN0b3IiLCJnbHgiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwidmVydGV4U2hhZGVyIiwiTWFwIiwiZnJhZ21lbnRTaGFkZXIiLCJzaGFkZXJQcm9ncmFtIiwiYnVmZmVyIiwidGV4dHVyZSIsImxvYWRWZXJ0ZXhTaGFkZXIiLCJzaGFkZXJTb3VyY2UiLCJnbFNoYWRlciIsImdldCIsImlkIiwic2V0IiwibG9hZEZyYWdlbWVudFNoYWRlciIsImxvYWRQcm9ncmFtIiwicHJvZ3JhbSIsImxvYWRCdWZmZXIiLCJ2b0FycmF5UmVmIiwiYnVmZmVyUmVmIiwiZ2xCdWZmZXIiLCJBUlJBWV9CVUZGRVIiLCJoaW50cyIsInVzYWdlIiwidm9BcnJheSIsInJlc291cmNlIiwic2VyaWFsIiwiZmluZEJ1ZmZlciIsInJlc291cmNlUmVmIiwibG9hZFRleHR1cmUiLCJ0ZXhSZWYiLCJnbFRleHR1cmVSZWYiLCJnbFRleCIsImltZ0VsIiwiZmxpcFkiLCJyZXBlYXRhYmxlIiwicHJlbXVsdGlwbHlBbHBoYSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7O0FBRUEsTUFBTUEsc0JBQXNCQyxPQUFPQyxNQUFQLENBQWM7QUFDeENDLFVBQVEsd0JBQVlDLFdBRG9CO0FBRXhDQyxXQUFTLHdCQUFZQztBQUZtQixDQUFkLENBQTVCOztBQUtlLE1BQU1DLG9CQUFOLENBQTJCO0FBQ3hDQyxjQUFhQyxHQUFiLEVBQWtCO0FBQ2hCUixXQUFPUyxjQUFQLENBQXNCLElBQXRCLEVBQTRC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UixLQUFQLENBQWFhLFVBSkQsRUFLWkwsT0FBT1IsS0FBUCxDQUFhYyxnQkFMRCxDQUFkO0FBT0E7QUFDQUwscUJBQWUsMkJBQWdCQyxLQUFoQixFQUF1QixFQUFFcEIsSUFBSWtCLE9BQU9sQixFQUFiLEVBQWlCYyxRQUFRLENBQXpCLEVBQXZCLENBQWY7QUFDQSxXQUFLbkIsT0FBTCxDQUFhTSxHQUFiLENBQWlCaUIsT0FBT2xCLEVBQXhCLEVBQTRCbUIsWUFBNUI7QUFDRDtBQUNELFdBQU9BLFlBQVA7QUFDRDtBQXhGdUM7a0JBQXJCbEMsb0IiLCJmaWxlIjoiMzUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVzb3VyY2VSZWYgZnJvbSAnLi4vdXRpbHMvcmVzb3VyY2VfcmVmJ1xuaW1wb3J0IFdlYkdsU2hhZGVyIGZyb20gJy4vd2ViX2dsX3NoYWRlcidcbmltcG9ydCBXZWJHbFByb2dyYW0gZnJvbSAnLi93ZWJfZ2xfcHJvZ3JhbSdcbmltcG9ydCBXZWJHbEJ1ZmZlciBmcm9tICcuL3dlYl9nbF9idWZmZXInXG5pbXBvcnQgV2ViR2xUZXh0dXJlIGZyb20gJy4vd2ViX2dsX3RleHR1cmUnXG5cbmNvbnN0IFdFQl9HTF9CVUZGRVJfVVNBR0UgPSBPYmplY3QuZnJlZXplKHtcbiAgc3RhdGljOiBXZWJHbEJ1ZmZlci5TVEFUSUNfRFJBVyxcbiAgZHluYW1pYzogV2ViR2xCdWZmZXIuRFlOQU1JQ19EUkFXXG59KVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXZWJHbFJlc291cmNlTGlicmFyeSB7XG4gIGNvbnN0cnVjdG9yIChnbHgpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2dseCcsIHsgdmFsdWU6IGdseCB9KVxuXG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgdGhpcy52ZXJ0ZXhTaGFkZXIgPSBuZXcgTWFwKClcbiAgICAvKiogQHByaXZhdGUgKi9cbiAgICB0aGlzLmZyYWdtZW50U2hhZGVyID0gbmV3IE1hcCgpXG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgdGhpcy5zaGFkZXJQcm9ncmFtID0gbmV3IE1hcCgpXG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgdGhpcy5idWZmZXIgPSBuZXcgTWFwKClcbiAgICAvKiogQHByaXZhdGUgKi9cbiAgICB0aGlzLnRleHR1cmUgPSBuZXcgTWFwKClcbiAgfVxuXG4gIGxvYWRWZXJ0ZXhTaGFkZXIgKHNoYWRlclNvdXJjZSkge1xuICAgIGxldCBnbFNoYWRlciA9IHRoaXMudmVydGV4U2hhZGVyLmdldChzaGFkZXJTb3VyY2UuaWQpXG4gICAgaWYgKCFnbFNoYWRlcikge1xuICAgICAgZ2xTaGFkZXIgPSBuZXcgV2ViR2xTaGFkZXIodGhpcy5nbHgsIHNoYWRlclNvdXJjZSlcbiAgICAgIHRoaXMudmVydGV4U2hhZGVyLnNldChzaGFkZXJTb3VyY2UuaWQsIGdsU2hhZGVyKVxuICAgIH1cbiAgICByZXR1cm4gZ2xTaGFkZXJcbiAgfVxuXG4gIGxvYWRGcmFnZW1lbnRTaGFkZXIgKHNoYWRlclNvdXJjZSkge1xuICAgIGxldCBnbFNoYWRlciA9IHRoaXMuZnJhZ21lbnRTaGFkZXIuZ2V0KHNoYWRlclNvdXJjZS5pZClcbiAgICBpZiAoIWdsU2hhZGVyKSB7XG4gICAgICBnbFNoYWRlciA9IG5ldyBXZWJHbFNoYWRlcih0aGlzLmdseCwgc2hhZGVyU291cmNlKVxuICAgICAgdGhpcy52ZXJ0ZXhTaGFkZXIuc2V0KHNoYWRlclNvdXJjZS5pZCwgZ2xTaGFkZXIpXG4gICAgfVxuICAgIHJldHVybiBnbFNoYWRlclxuICB9XG5cbiAgbG9hZFByb2dyYW0gKHNoYWRlclByb2dyYW0pIHtcbiAgICBsZXQgcHJvZ3JhbSA9IHRoaXMuc2hhZGVyUHJvZ3JhbS5nZXQoc2hhZGVyUHJvZ3JhbS5pZClcbiAgICBpZiAoIXByb2dyYW0pIHtcbiAgICAgIHByb2dyYW0gPSBuZXcgV2ViR2xQcm9ncmFtKHRoaXMuZ2x4LCBzaGFkZXJQcm9ncmFtKVxuICAgICAgdGhpcy5zaGFkZXJQcm9ncmFtLnNldChzaGFkZXJQcm9ncmFtLmlkLCBwcm9ncmFtKVxuICAgIH1cbiAgICByZXR1cm4gcHJvZ3JhbVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7UmVzb3VyY2VSZWZ9IHZvQXJyYXlSZWYgLSByZXNvdXJjZSByZWZlcmVuY2UgdG8gVk9BcnJheVxuICAgKiBAcmV0dXJucyB7UmVzb3VyY2VSZWZ9IHJlc291cmNlIHJlZmVyZW5jZSB0byBXZWJHbEJ1ZmZlclxuICAgKi9cbiAgbG9hZEJ1ZmZlciAodm9BcnJheVJlZikge1xuICAgIGxldCBidWZmZXJSZWYgPSB0aGlzLmJ1ZmZlci5nZXQodm9BcnJheVJlZi5pZClcbiAgICBpZiAoIWJ1ZmZlclJlZikge1xuICAgICAgLy8gY3JlYXRlIFdlYkdsQnVmZmVyXG4gICAgICBjb25zdCBnbEJ1ZmZlciA9IG5ldyBXZWJHbEJ1ZmZlcih0aGlzLmdseCwgV2ViR2xCdWZmZXIuQVJSQVlfQlVGRkVSLCBXRUJfR0xfQlVGRkVSX1VTQUdFW3ZvQXJyYXlSZWYuaGludHMudXNhZ2VdKVxuICAgICAgZ2xCdWZmZXIudm9BcnJheSA9IHZvQXJyYXlSZWYucmVzb3VyY2VcbiAgICAgIC8vIGNyZWF0ZSBSZXNvdXJjZVJlZlxuICAgICAgYnVmZmVyUmVmID0gbmV3IFJlc291cmNlUmVmKGdsQnVmZmVyLCB7IGlkOiB2b0FycmF5UmVmLmlkLCBzZXJpYWw6IDAgfSlcbiAgICAgIHRoaXMuYnVmZmVyLnNldCh2b0FycmF5UmVmLmlkLCBidWZmZXJSZWYpXG4gICAgfVxuICAgIHJldHVybiBidWZmZXJSZWZcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1Jlc291cmNlUmVmfSByZXNvdXJjZVJlZlxuICAgKiBAcmV0dXJucyB7UmVzb3VyY2VSZWZ9IHJlc291cmNlIHJlZmVyZW5jZSB0byBXZWJHbEJ1ZmZlclxuICAgKi9cbiAgZmluZEJ1ZmZlciAocmVzb3VyY2VSZWYpIHtcbiAgICByZXR1cm4gdGhpcy5idWZmZXIuZ2V0KHJlc291cmNlUmVmLmlkKVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7UmVzb3VyY2VSZWZ9IHRleFJlZiAtIHJlc291cmNlIHJlZmVyZW5jZSB0byB0ZXh0dXJlXG4gICAqIEByZXR1cm5zIHtSZXNvdXJjZVJlZn0gcmVzb3VyY2UgcmVmZXJlbmNlIHRvIFdlYkdsVGV4dHVyZVxuICAgKi9cbiAgbG9hZFRleHR1cmUgKHRleFJlZikge1xuICAgIGxldCBnbFRleHR1cmVSZWYgPSB0aGlzLnRleHR1cmUuZ2V0KHRleFJlZi5pZClcbiAgICBpZiAoIWdsVGV4dHVyZVJlZikge1xuICAgICAgLy8gY3JlYXRlIFdlYkdsVGV4dHVyZVxuICAgICAgY29uc3QgZ2xUZXggPSBuZXcgV2ViR2xUZXh0dXJlKFxuICAgICAgICB0aGlzLmdseCxcbiAgICAgICAgdGV4UmVmLnJlc291cmNlLmltZ0VsLFxuICAgICAgICB0ZXhSZWYuaGludHMuZmxpcFksXG4gICAgICAgIHRleFJlZi5oaW50cy5yZXBlYXRhYmxlLFxuICAgICAgICB0ZXhSZWYuaGludHMucHJlbXVsdGlwbHlBbHBoYVxuICAgICAgKVxuICAgICAgLy8gY3JlYXRlIFJlc291cmNlUmVmXG4gICAgICBnbFRleHR1cmVSZWYgPSBuZXcgUmVzb3VyY2VSZWYoZ2xUZXgsIHsgaWQ6IHRleFJlZi5pZCwgc2VyaWFsOiAwIH0pXG4gICAgICB0aGlzLnRleHR1cmUuc2V0KHRleFJlZi5pZCwgZ2xUZXh0dXJlUmVmKVxuICAgIH1cbiAgICByZXR1cm4gZ2xUZXh0dXJlUmVmXG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9yZW5kZXIvd2ViX2dsX3Jlc291cmNlX2xpYnJhcnkuanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 36 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _shader_source = __webpack_require__(7);\n\nvar _shader_source2 = _interopRequireDefault(_shader_source);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass WebGlShader {\n  constructor(glx, source) {\n    this.glx = glx;\n\n    if (!(source instanceof _shader_source2.default)) {\n      throw new Error('WebGlShader panic! source must be an instance of ShaderSource!');\n    }\n    this.source = source;\n\n    const gl = glx.gl;\n\n    this.shaderType = gl[source.type];\n\n    this.glShader = gl.createShader(this.shaderType);\n    compileShader(this);\n\n    Object.freeze(this);\n  }\n}\n\nexports.default = WebGlShader;\nfunction compileShader(shader) {\n  const gl = shader.glx.gl;\n  const glShader = shader.glShader,\n        source = shader.source;\n\n\n  gl.shaderSource(glShader, source.source);\n  gl.compileShader(glShader);\n\n  if (!gl.getShaderParameter(glShader, gl.COMPILE_STATUS)) {\n    const shaderInfoLog = gl.getShaderInfoLog(glShader);\n\n    console.error(shaderInfoLog);\n    console.group('shader-info');\n    console.debug('shaderSource', shader);\n    console.log(source);\n    console.groupEnd();\n\n    const err = new Error('WebGlShader compile panic!');\n    err.webGlShader = shader;\n    err.shaderInfoLog = shaderInfoLog;\n    throw err;\n  }\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcmVuZGVyL3dlYl9nbF9zaGFkZXIuanM/MzE1OSJdLCJuYW1lcyI6WyJXZWJHbFNoYWRlciIsImNvbnN0cnVjdG9yIiwiZ2x4Iiwic291cmNlIiwiRXJyb3IiLCJnbCIsInNoYWRlclR5cGUiLCJ0eXBlIiwiZ2xTaGFkZXIiLCJjcmVhdGVTaGFkZXIiLCJjb21waWxlU2hhZGVyIiwiT2JqZWN0IiwiZnJlZXplIiwic2hhZGVyIiwic2hhZGVyU291cmNlIiwiZ2V0U2hhZGVyUGFyYW1ldGVyIiwiQ09NUElMRV9TVEFUVVMiLCJzaGFkZXJJbmZvTG9nIiwiZ2V0U2hhZGVySW5mb0xvZyIsImNvbnNvbGUiLCJlcnJvciIsImdyb3VwIiwiZGVidWciLCJsb2ciLCJncm91cEVuZCIsImVyciIsIndlYkdsU2hhZGVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7Ozs7O0FBRWUsTUFBTUEsV0FBTixDQUFrQjtBQUMvQkMsY0FBYUMsR0FBYixFQUFrQkMsTUFBbEIsRUFBMEI7QUFDeEIsU0FBS0QsR0FBTCxHQUFXQSxHQUFYOztBQUVBLFFBQUksRUFBRUMseUNBQUYsQ0FBSixFQUF1QztBQUNyQyxZQUFNLElBQUlDLEtBQUosQ0FBVSxnRUFBVixDQUFOO0FBQ0Q7QUFDRCxTQUFLRCxNQUFMLEdBQWNBLE1BQWQ7O0FBTndCLFVBUWhCRSxFQVJnQixHQVFUSCxHQVJTLENBUWhCRyxFQVJnQjs7QUFTeEIsU0FBS0MsVUFBTCxHQUFrQkQsR0FBR0YsT0FBT0ksSUFBVixDQUFsQjs7QUFFQSxTQUFLQyxRQUFMLEdBQWdCSCxHQUFHSSxZQUFILENBQWdCLEtBQUtILFVBQXJCLENBQWhCO0FBQ0FJLGtCQUFjLElBQWQ7O0FBRUFDLFdBQU9DLE1BQVAsQ0FBYyxJQUFkO0FBQ0Q7QUFoQjhCOztrQkFBWlosVztBQW1CckIsU0FBU1UsYUFBVCxDQUF3QkcsTUFBeEIsRUFBZ0M7QUFBQSxRQUN0QlIsRUFEc0IsR0FDZlEsT0FBT1gsR0FEUSxDQUN0QkcsRUFEc0I7QUFBQSxRQUV0QkcsUUFGc0IsR0FFREssTUFGQyxDQUV0QkwsUUFGc0I7QUFBQSxRQUVaTCxNQUZZLEdBRURVLE1BRkMsQ0FFWlYsTUFGWTs7O0FBSTlCRSxLQUFHUyxZQUFILENBQWdCTixRQUFoQixFQUEwQkwsT0FBT0EsTUFBakM7QUFDQUUsS0FBR0ssYUFBSCxDQUFpQkYsUUFBakI7O0FBRUEsTUFBSSxDQUFDSCxHQUFHVSxrQkFBSCxDQUFzQlAsUUFBdEIsRUFBZ0NILEdBQUdXLGNBQW5DLENBQUwsRUFBeUQ7QUFDdkQsVUFBTUMsZ0JBQWdCWixHQUFHYSxnQkFBSCxDQUFvQlYsUUFBcEIsQ0FBdEI7O0FBRUFXLFlBQVFDLEtBQVIsQ0FBY0gsYUFBZDtBQUNBRSxZQUFRRSxLQUFSLENBQWMsYUFBZDtBQUNBRixZQUFRRyxLQUFSLENBQWMsY0FBZCxFQUE4QlQsTUFBOUI7QUFDQU0sWUFBUUksR0FBUixDQUFZcEIsTUFBWjtBQUNBZ0IsWUFBUUssUUFBUjs7QUFFQSxVQUFNQyxNQUFNLElBQUlyQixLQUFKLENBQVUsNEJBQVYsQ0FBWjtBQUNBcUIsUUFBSUMsV0FBSixHQUFrQmIsTUFBbEI7QUFDQVksUUFBSVIsYUFBSixHQUFvQkEsYUFBcEI7QUFDQSxVQUFNUSxHQUFOO0FBQ0Q7QUFDRiIsImZpbGUiOiIzNi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTaGFkZXJTb3VyY2UgZnJvbSAnLi4vY29yZS9zaGFkZXJfc291cmNlJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXZWJHbFNoYWRlciB7XG4gIGNvbnN0cnVjdG9yIChnbHgsIHNvdXJjZSkge1xuICAgIHRoaXMuZ2x4ID0gZ2x4XG5cbiAgICBpZiAoIShzb3VyY2UgaW5zdGFuY2VvZiBTaGFkZXJTb3VyY2UpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dlYkdsU2hhZGVyIHBhbmljISBzb3VyY2UgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiBTaGFkZXJTb3VyY2UhJylcbiAgICB9XG4gICAgdGhpcy5zb3VyY2UgPSBzb3VyY2VcblxuICAgIGNvbnN0IHsgZ2wgfSA9IGdseFxuICAgIHRoaXMuc2hhZGVyVHlwZSA9IGdsW3NvdXJjZS50eXBlXVxuXG4gICAgdGhpcy5nbFNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcih0aGlzLnNoYWRlclR5cGUpXG4gICAgY29tcGlsZVNoYWRlcih0aGlzKVxuXG4gICAgT2JqZWN0LmZyZWV6ZSh0aGlzKVxuICB9XG59XG5cbmZ1bmN0aW9uIGNvbXBpbGVTaGFkZXIgKHNoYWRlcikge1xuICBjb25zdCB7IGdsIH0gPSBzaGFkZXIuZ2x4XG4gIGNvbnN0IHsgZ2xTaGFkZXIsIHNvdXJjZSB9ID0gc2hhZGVyXG5cbiAgZ2wuc2hhZGVyU291cmNlKGdsU2hhZGVyLCBzb3VyY2Uuc291cmNlKVxuICBnbC5jb21waWxlU2hhZGVyKGdsU2hhZGVyKVxuXG4gIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKGdsU2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpIHtcbiAgICBjb25zdCBzaGFkZXJJbmZvTG9nID0gZ2wuZ2V0U2hhZGVySW5mb0xvZyhnbFNoYWRlcilcblxuICAgIGNvbnNvbGUuZXJyb3Ioc2hhZGVySW5mb0xvZylcbiAgICBjb25zb2xlLmdyb3VwKCdzaGFkZXItaW5mbycpXG4gICAgY29uc29sZS5kZWJ1Zygnc2hhZGVyU291cmNlJywgc2hhZGVyKVxuICAgIGNvbnNvbGUubG9nKHNvdXJjZSlcbiAgICBjb25zb2xlLmdyb3VwRW5kKClcblxuICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcignV2ViR2xTaGFkZXIgY29tcGlsZSBwYW5pYyEnKVxuICAgIGVyci53ZWJHbFNoYWRlciA9IHNoYWRlclxuICAgIGVyci5zaGFkZXJJbmZvTG9nID0gc2hhZGVySW5mb0xvZ1xuICAgIHRocm93IGVyclxuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvcmVuZGVyL3dlYl9nbF9zaGFkZXIuanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 37 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nclass WebGlTexture {\n  /**\n   * @param {WebGlContext} glx\n   * @param {HTMLImageElement} imgEl\n   * @param {boolean} [flipY=false]\n   * @param {boolean} [repeatable=false]\n   * @param {boolean} [premultiplyAlpha=false]\n   */\n  constructor(glx, imgEl) {\n    let flipY = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    let repeatable = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n    let premultiplyAlpha = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n    this.glx = glx;\n    this.imgEl = imgEl;\n\n    this.flipY = flipY;\n    this.repeatable = repeatable;\n    this.premultiplyAlpha = premultiplyAlpha;\n\n    this.isInitialized = false;\n    this.glTexObj = glx.gl.createTexture();\n    this.texUnit = -1;\n  }\n\n  bind() {\n    this.glx.textureManager.bindWebGlTexture(this);\n  }\n\n  uploadImageData() {\n    if (this.imgEl == null) return;\n    if (!this.isInitialized) {\n      initialize(this);\n      this.isInitialized = true;\n    }\n\n    this.bind();\n\n    const gl = this.glx.gl;\n\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, this.imgEl);\n  }\n}\n\nexports.default = WebGlTexture;\nfunction initialize(tex) {\n  tex.bind();\n\n  const gl = tex.glx.gl;\n\n\n  gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, tex.flipY);\n  gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, tex.premultiplyAlpha);\n\n  const wrap = tex.repeatable ? gl.REPEAT : gl.CLAMP_TO_EDGE;\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, wrap);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, wrap);\n\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n\n  gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, tex.imgEl.width, tex.imgEl.height, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcmVuZGVyL3dlYl9nbF90ZXh0dXJlLmpzPzU3NmMiXSwibmFtZXMiOlsiV2ViR2xUZXh0dXJlIiwiY29uc3RydWN0b3IiLCJnbHgiLCJpbWdFbCIsImZsaXBZIiwicmVwZWF0YWJsZSIsInByZW11bHRpcGx5QWxwaGEiLCJpc0luaXRpYWxpemVkIiwiZ2xUZXhPYmoiLCJnbCIsImNyZWF0ZVRleHR1cmUiLCJ0ZXhVbml0IiwiYmluZCIsInRleHR1cmVNYW5hZ2VyIiwiYmluZFdlYkdsVGV4dHVyZSIsInVwbG9hZEltYWdlRGF0YSIsImluaXRpYWxpemUiLCJ0ZXhJbWFnZTJEIiwiVEVYVFVSRV8yRCIsIlJHQkEiLCJVTlNJR05FRF9CWVRFIiwidGV4IiwicGl4ZWxTdG9yZWkiLCJVTlBBQ0tfRkxJUF9ZX1dFQkdMIiwiVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMIiwid3JhcCIsIlJFUEVBVCIsIkNMQU1QX1RPX0VER0UiLCJ0ZXhQYXJhbWV0ZXJpIiwiVEVYVFVSRV9XUkFQX1MiLCJURVhUVVJFX1dSQVBfVCIsIlRFWFRVUkVfTUFHX0ZJTFRFUiIsIk5FQVJFU1QiLCJURVhUVVJFX01JTl9GSUxURVIiLCJ3aWR0aCIsImhlaWdodCJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFDZSxNQUFNQSxZQUFOLENBQW1CO0FBQ2hDOzs7Ozs7O0FBT0FDLGNBQWFDLEdBQWIsRUFBa0JDLEtBQWxCLEVBQXNGO0FBQUEsUUFBN0RDLEtBQTZELHVFQUFyRCxLQUFxRDtBQUFBLFFBQTlDQyxVQUE4Qyx1RUFBakMsS0FBaUM7QUFBQSxRQUExQkMsZ0JBQTBCLHVFQUFQLEtBQU87O0FBQ3BGLFNBQUtKLEdBQUwsR0FBV0EsR0FBWDtBQUNBLFNBQUtDLEtBQUwsR0FBYUEsS0FBYjs7QUFFQSxTQUFLQyxLQUFMLEdBQWFBLEtBQWI7QUFDQSxTQUFLQyxVQUFMLEdBQWtCQSxVQUFsQjtBQUNBLFNBQUtDLGdCQUFMLEdBQXdCQSxnQkFBeEI7O0FBRUEsU0FBS0MsYUFBTCxHQUFxQixLQUFyQjtBQUNBLFNBQUtDLFFBQUwsR0FBZ0JOLElBQUlPLEVBQUosQ0FBT0MsYUFBUCxFQUFoQjtBQUNBLFNBQUtDLE9BQUwsR0FBZSxDQUFDLENBQWhCO0FBQ0Q7O0FBRURDLFNBQVE7QUFDTixTQUFLVixHQUFMLENBQVNXLGNBQVQsQ0FBd0JDLGdCQUF4QixDQUF5QyxJQUF6QztBQUNEOztBQUVEQyxvQkFBbUI7QUFDakIsUUFBSSxLQUFLWixLQUFMLElBQWMsSUFBbEIsRUFBd0I7QUFDeEIsUUFBSSxDQUFDLEtBQUtJLGFBQVYsRUFBeUI7QUFDdkJTLGlCQUFXLElBQVg7QUFDQSxXQUFLVCxhQUFMLEdBQXFCLElBQXJCO0FBQ0Q7O0FBRUQsU0FBS0ssSUFBTDs7QUFQaUIsVUFTVEgsRUFUUyxHQVNGLEtBQUtQLEdBVEgsQ0FTVE8sRUFUUzs7QUFVakJBLE9BQUdRLFVBQUgsQ0FBY1IsR0FBR1MsVUFBakIsRUFBNkIsQ0FBN0IsRUFBZ0NULEdBQUdVLElBQW5DLEVBQXlDVixHQUFHVSxJQUE1QyxFQUFrRFYsR0FBR1csYUFBckQsRUFBb0UsS0FBS2pCLEtBQXpFO0FBQ0Q7QUFwQytCOztrQkFBYkgsWTtBQXVDckIsU0FBU2dCLFVBQVQsQ0FBcUJLLEdBQXJCLEVBQTBCO0FBQ3hCQSxNQUFJVCxJQUFKOztBQUR3QixRQUdoQkgsRUFIZ0IsR0FHVFksSUFBSW5CLEdBSEssQ0FHaEJPLEVBSGdCOzs7QUFLeEJBLEtBQUdhLFdBQUgsQ0FBZWIsR0FBR2MsbUJBQWxCLEVBQXVDRixJQUFJakIsS0FBM0M7QUFDQUssS0FBR2EsV0FBSCxDQUFlYixHQUFHZSw4QkFBbEIsRUFBa0RILElBQUlmLGdCQUF0RDs7QUFFQSxRQUFNbUIsT0FBT0osSUFBSWhCLFVBQUosR0FBaUJJLEdBQUdpQixNQUFwQixHQUE2QmpCLEdBQUdrQixhQUE3QztBQUNBbEIsS0FBR21CLGFBQUgsQ0FBaUJuQixHQUFHUyxVQUFwQixFQUFnQ1QsR0FBR29CLGNBQW5DLEVBQW1ESixJQUFuRDtBQUNBaEIsS0FBR21CLGFBQUgsQ0FBaUJuQixHQUFHUyxVQUFwQixFQUFnQ1QsR0FBR3FCLGNBQW5DLEVBQW1ETCxJQUFuRDs7QUFFQWhCLEtBQUdtQixhQUFILENBQWlCbkIsR0FBR1MsVUFBcEIsRUFBZ0NULEdBQUdzQixrQkFBbkMsRUFBdUR0QixHQUFHdUIsT0FBMUQ7QUFDQXZCLEtBQUdtQixhQUFILENBQWlCbkIsR0FBR1MsVUFBcEIsRUFBZ0NULEdBQUd3QixrQkFBbkMsRUFBdUR4QixHQUFHdUIsT0FBMUQ7O0FBRUF2QixLQUFHUSxVQUFILENBQWNSLEdBQUdTLFVBQWpCLEVBQTZCLENBQTdCLEVBQWdDVCxHQUFHVSxJQUFuQyxFQUF5Q0UsSUFBSWxCLEtBQUosQ0FBVStCLEtBQW5ELEVBQTBEYixJQUFJbEIsS0FBSixDQUFVZ0MsTUFBcEUsRUFBNEUsQ0FBNUUsRUFBK0UxQixHQUFHVSxJQUFsRixFQUF3RlYsR0FBR1csYUFBM0YsRUFBMEcsSUFBMUc7QUFDRCIsImZpbGUiOiIzNy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV2ViR2xUZXh0dXJlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7V2ViR2xDb250ZXh0fSBnbHhcbiAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fSBpbWdFbFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmbGlwWT1mYWxzZV1cbiAgICogQHBhcmFtIHtib29sZWFufSBbcmVwZWF0YWJsZT1mYWxzZV1cbiAgICogQHBhcmFtIHtib29sZWFufSBbcHJlbXVsdGlwbHlBbHBoYT1mYWxzZV1cbiAgICovXG4gIGNvbnN0cnVjdG9yIChnbHgsIGltZ0VsLCBmbGlwWSA9IGZhbHNlLCByZXBlYXRhYmxlID0gZmFsc2UsIHByZW11bHRpcGx5QWxwaGEgPSBmYWxzZSkge1xuICAgIHRoaXMuZ2x4ID0gZ2x4XG4gICAgdGhpcy5pbWdFbCA9IGltZ0VsXG5cbiAgICB0aGlzLmZsaXBZID0gZmxpcFlcbiAgICB0aGlzLnJlcGVhdGFibGUgPSByZXBlYXRhYmxlXG4gICAgdGhpcy5wcmVtdWx0aXBseUFscGhhID0gcHJlbXVsdGlwbHlBbHBoYVxuXG4gICAgdGhpcy5pc0luaXRpYWxpemVkID0gZmFsc2VcbiAgICB0aGlzLmdsVGV4T2JqID0gZ2x4LmdsLmNyZWF0ZVRleHR1cmUoKVxuICAgIHRoaXMudGV4VW5pdCA9IC0xXG4gIH1cblxuICBiaW5kICgpIHtcbiAgICB0aGlzLmdseC50ZXh0dXJlTWFuYWdlci5iaW5kV2ViR2xUZXh0dXJlKHRoaXMpXG4gIH1cblxuICB1cGxvYWRJbWFnZURhdGEgKCkge1xuICAgIGlmICh0aGlzLmltZ0VsID09IG51bGwpIHJldHVyblxuICAgIGlmICghdGhpcy5pc0luaXRpYWxpemVkKSB7XG4gICAgICBpbml0aWFsaXplKHRoaXMpXG4gICAgICB0aGlzLmlzSW5pdGlhbGl6ZWQgPSB0cnVlXG4gICAgfVxuXG4gICAgdGhpcy5iaW5kKClcblxuICAgIGNvbnN0IHsgZ2wgfSA9IHRoaXMuZ2x4XG4gICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbC5SR0JBLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCB0aGlzLmltZ0VsKVxuICB9XG59XG5cbmZ1bmN0aW9uIGluaXRpYWxpemUgKHRleCkge1xuICB0ZXguYmluZCgpXG5cbiAgY29uc3QgeyBnbCB9ID0gdGV4LmdseFxuXG4gIGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19GTElQX1lfV0VCR0wsIHRleC5mbGlwWSlcbiAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLCB0ZXgucHJlbXVsdGlwbHlBbHBoYSlcblxuICBjb25zdCB3cmFwID0gdGV4LnJlcGVhdGFibGUgPyBnbC5SRVBFQVQgOiBnbC5DTEFNUF9UT19FREdFXG4gIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1MsIHdyYXApXG4gIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1QsIHdyYXApXG5cbiAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01BR19GSUxURVIsIGdsLk5FQVJFU1QpXG4gIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBnbC5ORUFSRVNUKVxuXG4gIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCQSwgdGV4LmltZ0VsLndpZHRoLCB0ZXguaW1nRWwuaGVpZ2h0LCAwLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCBudWxsKVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3JlbmRlci93ZWJfZ2xfdGV4dHVyZS5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 38 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nclass WebGlTextureManager {\n  /**\n   * @param {WebGlContext} glx\n   */\n  constructor(glx) {\n    Object.defineProperty(this, 'glx', { value: glx });\n\n    /**\n     * texUnit -> WebGlTexture\n     * @type {Array<number>}\n     */\n    this.boundTextures = new Array(glx.MAX_TEXTURE_IMAGE_UNITS);\n\n    for (let i = 0; i < this.boundTextures.length; ++i) {\n      this.boundTextures[i] = null;\n    }\n\n    this.lastBoundTexUnit = 0;\n  }\n\n  /**\n   * Bind a *texture* to a *texture unit*.\n   * @param {WebGlTexture} glTexture\n   * @return {number} texture unit\n   */\n  bindWebGlTexture(glTexture) {\n    let texUnit = this.boundTextures.indexOf(glTexture);\n\n    if (texUnit < 0) {\n      // texture is unbound\n      // find a free texture unit ..\n      for (let i = 0; i < this.boundTextures.length; ++i) {\n        if (!this.boundTextures[i]) {\n          texUnit = i;\n          this.boundTextures[i] = glTexture;\n          break;\n        }\n      }\n\n      if (texUnit < 0) {\n        // no free texture found\n        // so we choose the lru texture unit\n\n        texUnit = this.lastBoundTexUnit;\n\n        let prevGlTex = this.boundTextures[texUnit];\n        if (prevGlTex) prevGlTex.texUnit = -1;\n\n        this.lastBoundTexUnit = (this.lastBoundTexUnit + 1) % this.glx.MAX_TEXTURE_IMAGE_UNITS;\n      }\n\n      this.glx.activeTexture(texUnit);\n      this.glx.bindTexture2d(glTexture.glTexObj);\n\n      glTexture.texUnit = texUnit;\n    }\n\n    return texUnit;\n  }\n}\nexports.default = WebGlTextureManager;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcmVuZGVyL3dlYl9nbF90ZXh0dXJlX21hbmFnZXIuanM/NWMwYyJdLCJuYW1lcyI6WyJXZWJHbFRleHR1cmVNYW5hZ2VyIiwiY29uc3RydWN0b3IiLCJnbHgiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwiYm91bmRUZXh0dXJlcyIsIkFycmF5IiwiTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMiLCJpIiwibGVuZ3RoIiwibGFzdEJvdW5kVGV4VW5pdCIsImJpbmRXZWJHbFRleHR1cmUiLCJnbFRleHR1cmUiLCJ0ZXhVbml0IiwiaW5kZXhPZiIsInByZXZHbFRleCIsImFjdGl2ZVRleHR1cmUiLCJiaW5kVGV4dHVyZTJkIiwiZ2xUZXhPYmoiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQ2UsTUFBTUEsbUJBQU4sQ0FBMEI7QUFDdkM7OztBQUdBQyxjQUFhQyxHQUFiLEVBQWtCO0FBQ2hCQyxXQUFPQyxjQUFQLENBQXNCLElBQXRCLEVBQTRCLEtBQTVCLEVBQW1DLEVBQUVDLE9BQU9ILEdBQVQsRUFBbkM7O0FBRUE7Ozs7QUFJQSxTQUFLSSxhQUFMLEdBQXFCLElBQUlDLEtBQUosQ0FBVUwsSUFBSU0sdUJBQWQsQ0FBckI7O0FBRUEsU0FBSyxJQUFJQyxJQUFJLENBQWIsRUFBZ0JBLElBQUksS0FBS0gsYUFBTCxDQUFtQkksTUFBdkMsRUFBK0MsRUFBRUQsQ0FBakQsRUFBb0Q7QUFDbEQsV0FBS0gsYUFBTCxDQUFtQkcsQ0FBbkIsSUFBd0IsSUFBeEI7QUFDRDs7QUFFRCxTQUFLRSxnQkFBTCxHQUF3QixDQUF4QjtBQUNEOztBQUVEOzs7OztBQUtBQyxtQkFBa0JDLFNBQWxCLEVBQTZCO0FBQzNCLFFBQUlDLFVBQVUsS0FBS1IsYUFBTCxDQUFtQlMsT0FBbkIsQ0FBMkJGLFNBQTNCLENBQWQ7O0FBRUEsUUFBSUMsVUFBVSxDQUFkLEVBQWlCO0FBQ2Y7QUFDQTtBQUNBLFdBQUssSUFBSUwsSUFBSSxDQUFiLEVBQWdCQSxJQUFJLEtBQUtILGFBQUwsQ0FBbUJJLE1BQXZDLEVBQStDLEVBQUVELENBQWpELEVBQW9EO0FBQ2xELFlBQUksQ0FBQyxLQUFLSCxhQUFMLENBQW1CRyxDQUFuQixDQUFMLEVBQTRCO0FBQzFCSyxvQkFBVUwsQ0FBVjtBQUNBLGVBQUtILGFBQUwsQ0FBbUJHLENBQW5CLElBQXdCSSxTQUF4QjtBQUNBO0FBQ0Q7QUFDRjs7QUFFRCxVQUFJQyxVQUFVLENBQWQsRUFBaUI7QUFDZjtBQUNBOztBQUVBQSxrQkFBVSxLQUFLSCxnQkFBZjs7QUFFQSxZQUFJSyxZQUFZLEtBQUtWLGFBQUwsQ0FBbUJRLE9BQW5CLENBQWhCO0FBQ0EsWUFBSUUsU0FBSixFQUFlQSxVQUFVRixPQUFWLEdBQW9CLENBQUMsQ0FBckI7O0FBRWYsYUFBS0gsZ0JBQUwsR0FBd0IsQ0FBQyxLQUFLQSxnQkFBTCxHQUF3QixDQUF6QixJQUE4QixLQUFLVCxHQUFMLENBQVNNLHVCQUEvRDtBQUNEOztBQUVELFdBQUtOLEdBQUwsQ0FBU2UsYUFBVCxDQUF1QkgsT0FBdkI7QUFDQSxXQUFLWixHQUFMLENBQVNnQixhQUFULENBQXVCTCxVQUFVTSxRQUFqQzs7QUFFQU4sZ0JBQVVDLE9BQVYsR0FBb0JBLE9BQXBCO0FBQ0Q7O0FBRUQsV0FBT0EsT0FBUDtBQUNEO0FBMURzQztrQkFBcEJkLG1CIiwiZmlsZSI6IjM4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXZWJHbFRleHR1cmVNYW5hZ2VyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7V2ViR2xDb250ZXh0fSBnbHhcbiAgICovXG4gIGNvbnN0cnVjdG9yIChnbHgpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2dseCcsIHsgdmFsdWU6IGdseCB9KVxuXG4gICAgLyoqXG4gICAgICogdGV4VW5pdCAtPiBXZWJHbFRleHR1cmVcbiAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgKi9cbiAgICB0aGlzLmJvdW5kVGV4dHVyZXMgPSBuZXcgQXJyYXkoZ2x4Lk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTKVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmJvdW5kVGV4dHVyZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHRoaXMuYm91bmRUZXh0dXJlc1tpXSA9IG51bGxcbiAgICB9XG5cbiAgICB0aGlzLmxhc3RCb3VuZFRleFVuaXQgPSAwXG4gIH1cblxuICAvKipcbiAgICogQmluZCBhICp0ZXh0dXJlKiB0byBhICp0ZXh0dXJlIHVuaXQqLlxuICAgKiBAcGFyYW0ge1dlYkdsVGV4dHVyZX0gZ2xUZXh0dXJlXG4gICAqIEByZXR1cm4ge251bWJlcn0gdGV4dHVyZSB1bml0XG4gICAqL1xuICBiaW5kV2ViR2xUZXh0dXJlIChnbFRleHR1cmUpIHtcbiAgICBsZXQgdGV4VW5pdCA9IHRoaXMuYm91bmRUZXh0dXJlcy5pbmRleE9mKGdsVGV4dHVyZSlcblxuICAgIGlmICh0ZXhVbml0IDwgMCkge1xuICAgICAgLy8gdGV4dHVyZSBpcyB1bmJvdW5kXG4gICAgICAvLyBmaW5kIGEgZnJlZSB0ZXh0dXJlIHVuaXQgLi5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5ib3VuZFRleHR1cmVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmICghdGhpcy5ib3VuZFRleHR1cmVzW2ldKSB7XG4gICAgICAgICAgdGV4VW5pdCA9IGlcbiAgICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXNbaV0gPSBnbFRleHR1cmVcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh0ZXhVbml0IDwgMCkge1xuICAgICAgICAvLyBubyBmcmVlIHRleHR1cmUgZm91bmRcbiAgICAgICAgLy8gc28gd2UgY2hvb3NlIHRoZSBscnUgdGV4dHVyZSB1bml0XG5cbiAgICAgICAgdGV4VW5pdCA9IHRoaXMubGFzdEJvdW5kVGV4VW5pdFxuXG4gICAgICAgIGxldCBwcmV2R2xUZXggPSB0aGlzLmJvdW5kVGV4dHVyZXNbdGV4VW5pdF1cbiAgICAgICAgaWYgKHByZXZHbFRleCkgcHJldkdsVGV4LnRleFVuaXQgPSAtMVxuXG4gICAgICAgIHRoaXMubGFzdEJvdW5kVGV4VW5pdCA9ICh0aGlzLmxhc3RCb3VuZFRleFVuaXQgKyAxKSAlIHRoaXMuZ2x4Lk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTXG4gICAgICB9XG5cbiAgICAgIHRoaXMuZ2x4LmFjdGl2ZVRleHR1cmUodGV4VW5pdClcbiAgICAgIHRoaXMuZ2x4LmJpbmRUZXh0dXJlMmQoZ2xUZXh0dXJlLmdsVGV4T2JqKVxuXG4gICAgICBnbFRleHR1cmUudGV4VW5pdCA9IHRleFVuaXRcbiAgICB9XG5cbiAgICByZXR1cm4gdGV4VW5pdFxuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvcmVuZGVyL3dlYl9nbF90ZXh0dXJlX21hbmFnZXIuanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 39 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nclass WebGlUniform {\n  constructor(program, index) {\n    this.program = program;\n    this.glx = program.glx;\n\n    const gl = program.glx.gl;\n    const glProgram = program.glProgram;\n\n    var _gl$getActiveUniform = gl.getActiveUniform(glProgram, index);\n\n    const name = _gl$getActiveUniform.name,\n          size = _gl$getActiveUniform.size,\n          type = _gl$getActiveUniform.type;\n\n    this.name = name;\n    this.size = size;\n    this.type = type;\n\n    this.location = gl.getUniformLocation(glProgram, name);\n\n    this.setValue = uniformSetter(this);\n\n    Object.freeze(this);\n  }\n}\n\nexports.default = WebGlUniform;\nfunction uniformSetter(uniform) {\n  const type = uniform.type,\n        location = uniform.location;\n  const gl = uniform.glx.gl;\n\n\n  switch (type) {\n    case gl.FLOAT:\n      return value => gl.uniform1f(location, value);\n\n    case gl.FLOAT_VEC2:\n      return value => gl.uniform2f(location, value[0], value[1]);\n\n    case gl.FLOAT_VEC3:\n      return value => gl.uniform3f(location, value[0], value[1], value[2]);\n\n    case gl.FLOAT_VEC4:\n      return value => gl.uniform4f(location, value[0], value[1], value[2], value[3]);\n\n    case gl.FLOAT_MAT4:\n      return value => gl.uniformMatrix4fv(location, gl.FALSE, value);\n\n    case gl.SAMPLER_2D:\n      return value => gl.uniform1i(location, value);\n  }\n\n  const err = new Error(`WebGlUniform unknown uniform type:${type}`);\n  err.webGlUniform = uniform;\n  throw err;\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcmVuZGVyL3dlYl9nbF91bmlmb3JtLmpzPzQ1ZmQiXSwibmFtZXMiOlsiV2ViR2xVbmlmb3JtIiwiY29uc3RydWN0b3IiLCJwcm9ncmFtIiwiaW5kZXgiLCJnbHgiLCJnbCIsImdsUHJvZ3JhbSIsImdldEFjdGl2ZVVuaWZvcm0iLCJuYW1lIiwic2l6ZSIsInR5cGUiLCJsb2NhdGlvbiIsImdldFVuaWZvcm1Mb2NhdGlvbiIsInNldFZhbHVlIiwidW5pZm9ybVNldHRlciIsIk9iamVjdCIsImZyZWV6ZSIsInVuaWZvcm0iLCJGTE9BVCIsInZhbHVlIiwidW5pZm9ybTFmIiwiRkxPQVRfVkVDMiIsInVuaWZvcm0yZiIsIkZMT0FUX1ZFQzMiLCJ1bmlmb3JtM2YiLCJGTE9BVF9WRUM0IiwidW5pZm9ybTRmIiwiRkxPQVRfTUFUNCIsInVuaWZvcm1NYXRyaXg0ZnYiLCJGQUxTRSIsIlNBTVBMRVJfMkQiLCJ1bmlmb3JtMWkiLCJlcnIiLCJFcnJvciIsIndlYkdsVW5pZm9ybSJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFDZSxNQUFNQSxZQUFOLENBQW1CO0FBQ2hDQyxjQUFhQyxPQUFiLEVBQXNCQyxLQUF0QixFQUE2QjtBQUMzQixTQUFLRCxPQUFMLEdBQWVBLE9BQWY7QUFDQSxTQUFLRSxHQUFMLEdBQVdGLFFBQVFFLEdBQW5COztBQUYyQixVQUluQkMsRUFKbUIsR0FJWkgsUUFBUUUsR0FKSSxDQUluQkMsRUFKbUI7QUFBQSxVQUtuQkMsU0FMbUIsR0FLTEosT0FMSyxDQUtuQkksU0FMbUI7O0FBQUEsK0JBT0VELEdBQUdFLGdCQUFILENBQW9CRCxTQUFwQixFQUErQkgsS0FBL0IsQ0FQRjs7QUFBQSxVQU9uQkssSUFQbUIsd0JBT25CQSxJQVBtQjtBQUFBLFVBT2JDLElBUGEsd0JBT2JBLElBUGE7QUFBQSxVQU9QQyxJQVBPLHdCQU9QQSxJQVBPOztBQVEzQixTQUFLRixJQUFMLEdBQVlBLElBQVo7QUFDQSxTQUFLQyxJQUFMLEdBQVlBLElBQVo7QUFDQSxTQUFLQyxJQUFMLEdBQVlBLElBQVo7O0FBRUEsU0FBS0MsUUFBTCxHQUFnQk4sR0FBR08sa0JBQUgsQ0FBc0JOLFNBQXRCLEVBQWlDRSxJQUFqQyxDQUFoQjs7QUFFQSxTQUFLSyxRQUFMLEdBQWdCQyxjQUFjLElBQWQsQ0FBaEI7O0FBRUFDLFdBQU9DLE1BQVAsQ0FBYyxJQUFkO0FBQ0Q7QUFsQitCOztrQkFBYmhCLFk7QUFxQnJCLFNBQVNjLGFBQVQsQ0FBd0JHLE9BQXhCLEVBQWlDO0FBQUEsUUFDdkJQLElBRHVCLEdBQ0pPLE9BREksQ0FDdkJQLElBRHVCO0FBQUEsUUFDakJDLFFBRGlCLEdBQ0pNLE9BREksQ0FDakJOLFFBRGlCO0FBQUEsUUFFdkJOLEVBRnVCLEdBRWhCWSxRQUFRYixHQUZRLENBRXZCQyxFQUZ1Qjs7O0FBSS9CLFVBQVFLLElBQVI7QUFDRSxTQUFLTCxHQUFHYSxLQUFSO0FBQ0UsYUFBUUMsS0FBRCxJQUFXZCxHQUFHZSxTQUFILENBQWFULFFBQWIsRUFBdUJRLEtBQXZCLENBQWxCOztBQUVGLFNBQUtkLEdBQUdnQixVQUFSO0FBQ0UsYUFBUUYsS0FBRCxJQUFXZCxHQUFHaUIsU0FBSCxDQUFhWCxRQUFiLEVBQXVCUSxNQUFNLENBQU4sQ0FBdkIsRUFBaUNBLE1BQU0sQ0FBTixDQUFqQyxDQUFsQjs7QUFFRixTQUFLZCxHQUFHa0IsVUFBUjtBQUNFLGFBQVFKLEtBQUQsSUFBV2QsR0FBR21CLFNBQUgsQ0FBYWIsUUFBYixFQUF1QlEsTUFBTSxDQUFOLENBQXZCLEVBQWlDQSxNQUFNLENBQU4sQ0FBakMsRUFBMkNBLE1BQU0sQ0FBTixDQUEzQyxDQUFsQjs7QUFFRixTQUFLZCxHQUFHb0IsVUFBUjtBQUNFLGFBQVFOLEtBQUQsSUFBV2QsR0FBR3FCLFNBQUgsQ0FBYWYsUUFBYixFQUF1QlEsTUFBTSxDQUFOLENBQXZCLEVBQWlDQSxNQUFNLENBQU4sQ0FBakMsRUFBMkNBLE1BQU0sQ0FBTixDQUEzQyxFQUFxREEsTUFBTSxDQUFOLENBQXJELENBQWxCOztBQUVGLFNBQUtkLEdBQUdzQixVQUFSO0FBQ0UsYUFBUVIsS0FBRCxJQUFXZCxHQUFHdUIsZ0JBQUgsQ0FBb0JqQixRQUFwQixFQUE4Qk4sR0FBR3dCLEtBQWpDLEVBQXdDVixLQUF4QyxDQUFsQjs7QUFFRixTQUFLZCxHQUFHeUIsVUFBUjtBQUNFLGFBQVFYLEtBQUQsSUFBV2QsR0FBRzBCLFNBQUgsQ0FBYXBCLFFBQWIsRUFBdUJRLEtBQXZCLENBQWxCO0FBakJKOztBQW9CQSxRQUFNYSxNQUFNLElBQUlDLEtBQUosQ0FBVyxxQ0FBb0N2QixJQUFLLEVBQXBELENBQVo7QUFDQXNCLE1BQUlFLFlBQUosR0FBbUJqQixPQUFuQjtBQUNBLFFBQU1lLEdBQU47QUFDRCIsImZpbGUiOiIzOS5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV2ViR2xVbmlmb3JtIHtcbiAgY29uc3RydWN0b3IgKHByb2dyYW0sIGluZGV4KSB7XG4gICAgdGhpcy5wcm9ncmFtID0gcHJvZ3JhbVxuICAgIHRoaXMuZ2x4ID0gcHJvZ3JhbS5nbHhcblxuICAgIGNvbnN0IHsgZ2wgfSA9IHByb2dyYW0uZ2x4XG4gICAgY29uc3QgeyBnbFByb2dyYW0gfSA9IHByb2dyYW1cblxuICAgIGNvbnN0IHsgbmFtZSwgc2l6ZSwgdHlwZSB9ID0gZ2wuZ2V0QWN0aXZlVW5pZm9ybShnbFByb2dyYW0sIGluZGV4KVxuICAgIHRoaXMubmFtZSA9IG5hbWVcbiAgICB0aGlzLnNpemUgPSBzaXplXG4gICAgdGhpcy50eXBlID0gdHlwZVxuXG4gICAgdGhpcy5sb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihnbFByb2dyYW0sIG5hbWUpXG5cbiAgICB0aGlzLnNldFZhbHVlID0gdW5pZm9ybVNldHRlcih0aGlzKVxuXG4gICAgT2JqZWN0LmZyZWV6ZSh0aGlzKVxuICB9XG59XG5cbmZ1bmN0aW9uIHVuaWZvcm1TZXR0ZXIgKHVuaWZvcm0pIHtcbiAgY29uc3QgeyB0eXBlLCBsb2NhdGlvbiB9ID0gdW5pZm9ybVxuICBjb25zdCB7IGdsIH0gPSB1bmlmb3JtLmdseFxuXG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgZ2wuRkxPQVQ6XG4gICAgICByZXR1cm4gKHZhbHVlKSA9PiBnbC51bmlmb3JtMWYobG9jYXRpb24sIHZhbHVlKVxuXG4gICAgY2FzZSBnbC5GTE9BVF9WRUMyOlxuICAgICAgcmV0dXJuICh2YWx1ZSkgPT4gZ2wudW5pZm9ybTJmKGxvY2F0aW9uLCB2YWx1ZVswXSwgdmFsdWVbMV0pXG5cbiAgICBjYXNlIGdsLkZMT0FUX1ZFQzM6XG4gICAgICByZXR1cm4gKHZhbHVlKSA9PiBnbC51bmlmb3JtM2YobG9jYXRpb24sIHZhbHVlWzBdLCB2YWx1ZVsxXSwgdmFsdWVbMl0pXG5cbiAgICBjYXNlIGdsLkZMT0FUX1ZFQzQ6XG4gICAgICByZXR1cm4gKHZhbHVlKSA9PiBnbC51bmlmb3JtNGYobG9jYXRpb24sIHZhbHVlWzBdLCB2YWx1ZVsxXSwgdmFsdWVbMl0sIHZhbHVlWzNdKVxuXG4gICAgY2FzZSBnbC5GTE9BVF9NQVQ0OlxuICAgICAgcmV0dXJuICh2YWx1ZSkgPT4gZ2wudW5pZm9ybU1hdHJpeDRmdihsb2NhdGlvbiwgZ2wuRkFMU0UsIHZhbHVlKVxuXG4gICAgY2FzZSBnbC5TQU1QTEVSXzJEOlxuICAgICAgcmV0dXJuICh2YWx1ZSkgPT4gZ2wudW5pZm9ybTFpKGxvY2F0aW9uLCB2YWx1ZSlcbiAgfVxuXG4gIGNvbnN0IGVyciA9IG5ldyBFcnJvcihgV2ViR2xVbmlmb3JtIHVua25vd24gdW5pZm9ybSB0eXBlOiR7dHlwZX1gKVxuICBlcnIud2ViR2xVbmlmb3JtID0gdW5pZm9ybVxuICB0aHJvdyBlcnJcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9yZW5kZXIvd2ViX2dsX3VuaWZvcm0uanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 40 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @param {number} a\n * @param {number} b\n * @return {number}\n */\nconst maxOf = (a, b) => a > b ? a : b;\n\n/**\n * @param {number} x\n * @return {number}\n */\nfunction findNextPowerOf2(x) {\n  let p = 1;\n  while (x > p) p <<= 1;\n  return p;\n}\n\n/**\n * @param {number} n\n * @return {boolean}\n */\nconst isPowerOf2 = n => n !== 0 && (n & n - 1) === 0;\n\nexports.maxOf = maxOf;\nexports.findNextPowerOf2 = findNextPowerOf2;\nexports.isPowerOf2 = isPowerOf2;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvbWF0aF9oZWxwZXJzLmpzP2I1ZGQiXSwibmFtZXMiOlsibWF4T2YiLCJhIiwiYiIsImZpbmROZXh0UG93ZXJPZjIiLCJ4IiwicCIsImlzUG93ZXJPZjIiLCJuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFDQTs7Ozs7QUFLQSxNQUFNQSxRQUFRLENBQUNDLENBQUQsRUFBSUMsQ0FBSixLQUFVRCxJQUFJQyxDQUFKLEdBQVFELENBQVIsR0FBWUMsQ0FBcEM7O0FBRUE7Ozs7QUFJQSxTQUFTQyxnQkFBVCxDQUEyQkMsQ0FBM0IsRUFBOEI7QUFDNUIsTUFBSUMsSUFBSSxDQUFSO0FBQ0EsU0FBT0QsSUFBSUMsQ0FBWCxFQUFjQSxNQUFNLENBQU47QUFDZCxTQUFPQSxDQUFQO0FBQ0Q7O0FBRUQ7Ozs7QUFJQSxNQUFNQyxhQUFhQyxLQUFLQSxNQUFNLENBQU4sSUFBVyxDQUFDQSxJQUFLQSxJQUFJLENBQVYsTUFBa0IsQ0FBckQ7O1FBR0VQLEssR0FBQUEsSztRQUNBRyxnQixHQUFBQSxnQjtRQUNBRyxVLEdBQUFBLFUiLCJmaWxlIjoiNDAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IGFcbiAqIEBwYXJhbSB7bnVtYmVyfSBiXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmNvbnN0IG1heE9mID0gKGEsIGIpID0+IGEgPiBiID8gYSA6IGJcblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5mdW5jdGlvbiBmaW5kTmV4dFBvd2VyT2YyICh4KSB7XG4gIGxldCBwID0gMVxuICB3aGlsZSAoeCA+IHApIHAgPDw9IDFcbiAgcmV0dXJuIHBcbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gblxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuY29uc3QgaXNQb3dlck9mMiA9IG4gPT4gbiAhPT0gMCAmJiAobiAmIChuIC0gMSkpID09PSAwXG5cbmV4cG9ydCB7XG4gIG1heE9mLFxuICBmaW5kTmV4dFBvd2VyT2YyLFxuICBpc1Bvd2VyT2YyXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvdXRpbHMvbWF0aF9oZWxwZXJzLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 41 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nclass Serial {\n  /**\n   * @param {number} [initialValue=1]\n   */\n  constructor() {\n    let initialValue = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n\n    this.value = initialValue;\n  }\n\n  touch() {\n    ++this.value;\n  }\n}\nexports.default = Serial;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvc2VyaWFsLmpzPzQwYmUiXSwibmFtZXMiOlsiU2VyaWFsIiwiY29uc3RydWN0b3IiLCJpbml0aWFsVmFsdWUiLCJ2YWx1ZSIsInRvdWNoIl0sIm1hcHBpbmdzIjoiOzs7OztBQUNlLE1BQU1BLE1BQU4sQ0FBYTtBQUMxQjs7O0FBR0FDLGdCQUErQjtBQUFBLFFBQWxCQyxZQUFrQix1RUFBSCxDQUFHOztBQUM3QixTQUFLQyxLQUFMLEdBQWFELFlBQWI7QUFDRDs7QUFFREUsVUFBUztBQUNQLE1BQUUsS0FBS0QsS0FBUDtBQUNEO0FBVnlCO2tCQUFQSCxNIiwiZmlsZSI6IjQxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZXJpYWwge1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtpbml0aWFsVmFsdWU9MV1cbiAgICovXG4gIGNvbnN0cnVjdG9yIChpbml0aWFsVmFsdWUgPSAxKSB7XG4gICAgdGhpcy52YWx1ZSA9IGluaXRpYWxWYWx1ZVxuICB9XG5cbiAgdG91Y2ggKCkge1xuICAgICsrdGhpcy52YWx1ZVxuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvdXRpbHMvc2VyaWFsLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 42 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _init_sprites = __webpack_require__(15);\n\nvar _init_sprites2 = _interopRequireDefault(_init_sprites);\n\nvar _shader_source = __webpack_require__(7);\n\nvar _shader_source2 = _interopRequireDefault(_shader_source);\n\nvar _shader_program = __webpack_require__(10);\n\nvar _shader_program2 = _interopRequireDefault(_shader_program);\n\nvar _shader_uniform_variable = __webpack_require__(11);\n\nvar _shader_uniform_variable2 = _interopRequireDefault(_shader_uniform_variable);\n\nvar _shader_variable_buffer_group = __webpack_require__(12);\n\nvar _shader_variable_buffer_group2 = _interopRequireDefault(_shader_variable_buffer_group);\n\nvar _define_blitp_elements = __webpack_require__(14);\n\nvar _define_blitp_elements2 = _interopRequireDefault(_define_blitp_elements);\n\nvar _power_of_2_image = __webpack_require__(6);\n\nvar _power_of_2_image2 = _interopRequireDefault(_power_of_2_image);\n\nvar _texture = __webpack_require__(13);\n\nvar _texture2 = _interopRequireDefault(_texture);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// ----- init ---------\n\nwindow.PowerOf2Image = _power_of_2_image2.default;\n\n(0, _define_blitp_elements2.default)();\n\nconst timeUniform = new _shader_uniform_variable2.default('time');\nconst resolutionUniform = new _shader_uniform_variable2.default('resolution');\n\nconst el = document.getElementById('blitpunkCanvas');\nconst voPool = (0, _init_sprites2.default)();\nconst voPoolAttribs = new _shader_variable_buffer_group2.default(voPool);\n\nconst program = new _shader_program2.default(new _shader_source2.default(_shader_source2.default.VERTEX_SHADER, document.getElementById('vs')), new _shader_source2.default(_shader_source2.default.FRAGMENT_SHADER, document.getElementById('fs')));\n\n// ------- animate frame ----------------------------- /// // ----\n\nel.on('animateFrame', function () {\n  timeUniform.value = el.time;\n  resolutionUniform.value = [el.width, el.height];\n});\n\n// ------- sync buffers ----------------------------- /// // ----\n\nel.on('syncBuffers', function (renderer) {\n  renderer.syncBuffer(voPool);\n});\n\n// ------- sync textures ---------------------------- /// // ----\n\n_texture2.default.load('nobinger.png').then(texture => {\n  el.on('syncTextures', function (renderer) {\n    renderer.syncTexture(texture);\n  });\n});\n\n// ------- render frame ----------------------------- /// // ----\n\nel.on('renderFrame', function (renderer) {\n  const shaderContext = renderer.shaderContext;\n\n  //\n  // Shader variables\n  //\n\n  shaderContext.pushVar(timeUniform);\n  shaderContext.pushVar(resolutionUniform);\n  shaderContext.pushVar(voPoolAttribs);\n\n  //\n  // Load gpu program\n  //\n  renderer.useShaderProgram(program);\n\n  //\n  // Render geometry\n  //\n  renderer.drawArrays('TRIANGLES', 12);\n});\n\n// ----- animation startup -----\n\nel.animate();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi93ZWJnbC1ib2lsZXJwbGF0ZS9zcmMvaW5kZXguanM/ZDZjZCJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJQb3dlck9mMkltYWdlIiwidGltZVVuaWZvcm0iLCJyZXNvbHV0aW9uVW5pZm9ybSIsImVsIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInZvUG9vbCIsInZvUG9vbEF0dHJpYnMiLCJwcm9ncmFtIiwiVkVSVEVYX1NIQURFUiIsIkZSQUdNRU5UX1NIQURFUiIsIm9uIiwidmFsdWUiLCJ0aW1lIiwid2lkdGgiLCJoZWlnaHQiLCJyZW5kZXJlciIsInN5bmNCdWZmZXIiLCJsb2FkIiwidGhlbiIsInRleHR1cmUiLCJzeW5jVGV4dHVyZSIsInNoYWRlckNvbnRleHQiLCJwdXNoVmFyIiwidXNlU2hhZGVyUHJvZ3JhbSIsImRyYXdBcnJheXMiLCJhbmltYXRlIl0sIm1hcHBpbmdzIjoiOztBQUFBOzs7O0FBRUE7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFFQTs7OztBQUVBOzs7O0FBQ0E7Ozs7OztBQUVBOztBQUVBQSxPQUFPQyxhQUFQOztBQUVBOztBQUVBLE1BQU1DLGNBQWMsc0NBQTBCLE1BQTFCLENBQXBCO0FBQ0EsTUFBTUMsb0JBQW9CLHNDQUEwQixZQUExQixDQUExQjs7QUFFQSxNQUFNQyxLQUFLQyxTQUFTQyxjQUFULENBQXdCLGdCQUF4QixDQUFYO0FBQ0EsTUFBTUMsU0FBUyw2QkFBZjtBQUNBLE1BQU1DLGdCQUFnQiwyQ0FBOEJELE1BQTlCLENBQXRCOztBQUVBLE1BQU1FLFVBQVUsNkJBQ1osNEJBQWlCLHdCQUFhQyxhQUE5QixFQUE2Q0wsU0FBU0MsY0FBVCxDQUF3QixJQUF4QixDQUE3QyxDQURZLEVBRVosNEJBQWlCLHdCQUFhSyxlQUE5QixFQUErQ04sU0FBU0MsY0FBVCxDQUF3QixJQUF4QixDQUEvQyxDQUZZLENBQWhCOztBQUlBOztBQUVBRixHQUFHUSxFQUFILENBQU0sY0FBTixFQUFzQixZQUFZO0FBQ2hDVixjQUFZVyxLQUFaLEdBQW9CVCxHQUFHVSxJQUF2QjtBQUNBWCxvQkFBa0JVLEtBQWxCLEdBQTBCLENBQUVULEdBQUdXLEtBQUwsRUFBWVgsR0FBR1ksTUFBZixDQUExQjtBQUNELENBSEQ7O0FBS0E7O0FBRUFaLEdBQUdRLEVBQUgsQ0FBTSxhQUFOLEVBQXFCLFVBQVVLLFFBQVYsRUFBb0I7QUFDdkNBLFdBQVNDLFVBQVQsQ0FBb0JYLE1BQXBCO0FBQ0QsQ0FGRDs7QUFJQTs7QUFFQSxrQkFBUVksSUFBUixDQUFhLGNBQWIsRUFBNkJDLElBQTdCLENBQWtDQyxXQUFXO0FBQzNDakIsS0FBR1EsRUFBSCxDQUFNLGNBQU4sRUFBc0IsVUFBVUssUUFBVixFQUFvQjtBQUN4Q0EsYUFBU0ssV0FBVCxDQUFxQkQsT0FBckI7QUFDRCxHQUZEO0FBR0QsQ0FKRDs7QUFNQTs7QUFFQWpCLEdBQUdRLEVBQUgsQ0FBTSxhQUFOLEVBQXFCLFVBQVVLLFFBQVYsRUFBb0I7QUFBQSxRQUMvQk0sYUFEK0IsR0FDYk4sUUFEYSxDQUMvQk0sYUFEK0I7O0FBR3ZDO0FBQ0E7QUFDQTs7QUFDQUEsZ0JBQWNDLE9BQWQsQ0FBc0J0QixXQUF0QjtBQUNBcUIsZ0JBQWNDLE9BQWQsQ0FBc0JyQixpQkFBdEI7QUFDQW9CLGdCQUFjQyxPQUFkLENBQXNCaEIsYUFBdEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0FTLFdBQVNRLGdCQUFULENBQTBCaEIsT0FBMUI7O0FBRUE7QUFDQTtBQUNBO0FBQ0FRLFdBQVNTLFVBQVQsQ0FBb0IsV0FBcEIsRUFBaUMsRUFBakM7QUFDRCxDQW5CRDs7QUFxQkE7O0FBRUF0QixHQUFHdUIsT0FBSCIsImZpbGUiOiI0Mi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBpbml0U3ByaXRlcyBmcm9tICcuL2luaXRfc3ByaXRlcydcblxuaW1wb3J0IFNoYWRlclNvdXJjZSBmcm9tICcuLi8uLi9zcmMvY29yZS9zaGFkZXJfc291cmNlJ1xuaW1wb3J0IFNoYWRlclByb2dyYW0gZnJvbSAnLi4vLi4vc3JjL2NvcmUvc2hhZGVyX3Byb2dyYW0nXG5pbXBvcnQgU2hhZGVyVW5pZm9ybVZhcmlhYmxlIGZyb20gJy4uLy4uL3NyYy9jb3JlL3NoYWRlcl91bmlmb3JtX3ZhcmlhYmxlJ1xuaW1wb3J0IFNoYWRlclZhcmlhYmxlQnVmZmVyR3JvdXAgZnJvbSAnLi4vLi4vc3JjL2NvcmUvc2hhZGVyX3ZhcmlhYmxlX2J1ZmZlcl9ncm91cCdcblxuaW1wb3J0IGRlZmluZUJsaXRwRWxlbWVudHMgZnJvbSAnLi4vLi4vc3JjL2RvbS9kZWZpbmVfYmxpdHBfZWxlbWVudHMnXG5cbmltcG9ydCBQb3dlck9mMkltYWdlIGZyb20gJy4uLy4uL3NyYy9jb3JlL3Bvd2VyX29mXzJfaW1hZ2UnXG5pbXBvcnQgVGV4dHVyZSBmcm9tICcuLi8uLi9zcmMvY29yZS90ZXh0dXJlJ1xuXG4vLyAtLS0tLSBpbml0IC0tLS0tLS0tLVxuXG53aW5kb3cuUG93ZXJPZjJJbWFnZSA9IFBvd2VyT2YySW1hZ2VcblxuZGVmaW5lQmxpdHBFbGVtZW50cygpXG5cbmNvbnN0IHRpbWVVbmlmb3JtID0gbmV3IFNoYWRlclVuaWZvcm1WYXJpYWJsZSgndGltZScpXG5jb25zdCByZXNvbHV0aW9uVW5pZm9ybSA9IG5ldyBTaGFkZXJVbmlmb3JtVmFyaWFibGUoJ3Jlc29sdXRpb24nKVxuXG5jb25zdCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdibGl0cHVua0NhbnZhcycpXG5jb25zdCB2b1Bvb2wgPSBpbml0U3ByaXRlcygpXG5jb25zdCB2b1Bvb2xBdHRyaWJzID0gbmV3IFNoYWRlclZhcmlhYmxlQnVmZmVyR3JvdXAodm9Qb29sKVxuXG5jb25zdCBwcm9ncmFtID0gbmV3IFNoYWRlclByb2dyYW0oXG4gICAgbmV3IFNoYWRlclNvdXJjZShTaGFkZXJTb3VyY2UuVkVSVEVYX1NIQURFUiwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZzJykpLFxuICAgIG5ldyBTaGFkZXJTb3VyY2UoU2hhZGVyU291cmNlLkZSQUdNRU5UX1NIQURFUiwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZzJykpKVxuXG4vLyAtLS0tLS0tIGFuaW1hdGUgZnJhbWUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy8vIC8vIC0tLS1cblxuZWwub24oJ2FuaW1hdGVGcmFtZScsIGZ1bmN0aW9uICgpIHtcbiAgdGltZVVuaWZvcm0udmFsdWUgPSBlbC50aW1lXG4gIHJlc29sdXRpb25Vbmlmb3JtLnZhbHVlID0gWyBlbC53aWR0aCwgZWwuaGVpZ2h0IF1cbn0pXG5cbi8vIC0tLS0tLS0gc3luYyBidWZmZXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vLyAvLyAtLS0tXG5cbmVsLm9uKCdzeW5jQnVmZmVycycsIGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICByZW5kZXJlci5zeW5jQnVmZmVyKHZvUG9vbClcbn0pXG5cbi8vIC0tLS0tLS0gc3luYyB0ZXh0dXJlcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vLyAvLyAtLS0tXG5cblRleHR1cmUubG9hZCgnbm9iaW5nZXIucG5nJykudGhlbih0ZXh0dXJlID0+IHtcbiAgZWwub24oJ3N5bmNUZXh0dXJlcycsIGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgIHJlbmRlcmVyLnN5bmNUZXh0dXJlKHRleHR1cmUpXG4gIH0pXG59KVxuXG4vLyAtLS0tLS0tIHJlbmRlciBmcmFtZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvLy8gLy8gLS0tLVxuXG5lbC5vbigncmVuZGVyRnJhbWUnLCBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgY29uc3QgeyBzaGFkZXJDb250ZXh0IH0gPSByZW5kZXJlclxuXG4gIC8vXG4gIC8vIFNoYWRlciB2YXJpYWJsZXNcbiAgLy9cbiAgc2hhZGVyQ29udGV4dC5wdXNoVmFyKHRpbWVVbmlmb3JtKVxuICBzaGFkZXJDb250ZXh0LnB1c2hWYXIocmVzb2x1dGlvblVuaWZvcm0pXG4gIHNoYWRlckNvbnRleHQucHVzaFZhcih2b1Bvb2xBdHRyaWJzKVxuXG4gIC8vXG4gIC8vIExvYWQgZ3B1IHByb2dyYW1cbiAgLy9cbiAgcmVuZGVyZXIudXNlU2hhZGVyUHJvZ3JhbShwcm9ncmFtKVxuXG4gIC8vXG4gIC8vIFJlbmRlciBnZW9tZXRyeVxuICAvL1xuICByZW5kZXJlci5kcmF3QXJyYXlzKCdUUklBTkdMRVMnLCAxMilcbn0pXG5cbi8vIC0tLS0tIGFuaW1hdGlvbiBzdGFydHVwIC0tLS0tXG5cbmVsLmFuaW1hdGUoKVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vd2ViZ2wtYm9pbGVycGxhdGUvc3JjL2luZGV4LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 43 */
/***/ (function(module, exports) {

eval("/*!\n\nCopyright (C) 2014-2016 by Andrea Giammarchi - @WebReflection\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n\n*/\n// global window Object\n// optional polyfill info\n//    'auto' used by default, everything is feature detected\n//    'force' use the polyfill even if not fully needed\nfunction installCustomElements(window, polyfill) {'use strict';\n\n  // DO NOT USE THIS FILE DIRECTLY, IT WON'T WORK\n  // THIS IS A PROJECT BASED ON A BUILD SYSTEM\n  // THIS FILE IS JUST WRAPPED UP RESULTING IN\n  // build/document-register-element.node.js\n\n  var\n    document = window.document,\n    Object = window.Object\n  ;\n\n  var htmlClass = (function (info) {\n    // (C) Andrea Giammarchi - @WebReflection - MIT Style\n    var\n      catchClass = /^[A-Z]+[a-z]/,\n      filterBy = function (re) {\n        var arr = [], tag;\n        for (tag in register) {\n          if (re.test(tag)) arr.push(tag);\n        }\n        return arr;\n      },\n      add = function (Class, tag) {\n        tag = tag.toLowerCase();\n        if (!(tag in register)) {\n          register[Class] = (register[Class] || []).concat(tag);\n          register[tag] = (register[tag.toUpperCase()] = Class);\n        }\n      },\n      register = (Object.create || Object)(null),\n      htmlClass = {},\n      i, section, tags, Class\n    ;\n    for (section in info) {\n      for (Class in info[section]) {\n        tags = info[section][Class];\n        register[Class] = tags;\n        for (i = 0; i < tags.length; i++) {\n          register[tags[i].toLowerCase()] =\n          register[tags[i].toUpperCase()] = Class;\n        }\n      }\n    }\n    htmlClass.get = function get(tagOrClass) {\n      return typeof tagOrClass === 'string' ?\n        (register[tagOrClass] || (catchClass.test(tagOrClass) ? [] : '')) :\n        filterBy(tagOrClass);\n    };\n    htmlClass.set = function set(tag, Class) {\n      return (catchClass.test(tag) ?\n        add(tag, Class) :\n        add(Class, tag)\n      ), htmlClass;\n    };\n    return htmlClass;\n  }({\n    \"collections\": {\n      \"HTMLAllCollection\": [\n        \"all\"\n      ],\n      \"HTMLCollection\": [\n        \"forms\"\n      ],\n      \"HTMLFormControlsCollection\": [\n        \"elements\"\n      ],\n      \"HTMLOptionsCollection\": [\n        \"options\"\n      ]\n    },\n    \"elements\": {\n      \"Element\": [\n        \"element\"\n      ],\n      \"HTMLAnchorElement\": [\n        \"a\"\n      ],\n      \"HTMLAppletElement\": [\n        \"applet\"\n      ],\n      \"HTMLAreaElement\": [\n        \"area\"\n      ],\n      \"HTMLAttachmentElement\": [\n        \"attachment\"\n      ],\n      \"HTMLAudioElement\": [\n        \"audio\"\n      ],\n      \"HTMLBRElement\": [\n        \"br\"\n      ],\n      \"HTMLBaseElement\": [\n        \"base\"\n      ],\n      \"HTMLBodyElement\": [\n        \"body\"\n      ],\n      \"HTMLButtonElement\": [\n        \"button\"\n      ],\n      \"HTMLCanvasElement\": [\n        \"canvas\"\n      ],\n      \"HTMLContentElement\": [\n        \"content\"\n      ],\n      \"HTMLDListElement\": [\n        \"dl\"\n      ],\n      \"HTMLDataElement\": [\n        \"data\"\n      ],\n      \"HTMLDataListElement\": [\n        \"datalist\"\n      ],\n      \"HTMLDetailsElement\": [\n        \"details\"\n      ],\n      \"HTMLDialogElement\": [\n        \"dialog\"\n      ],\n      \"HTMLDirectoryElement\": [\n        \"dir\"\n      ],\n      \"HTMLDivElement\": [\n        \"div\"\n      ],\n      \"HTMLDocument\": [\n        \"document\"\n      ],\n      \"HTMLElement\": [\n        \"element\",\n        \"abbr\",\n        \"address\",\n        \"article\",\n        \"aside\",\n        \"b\",\n        \"bdi\",\n        \"bdo\",\n        \"cite\",\n        \"code\",\n        \"command\",\n        \"dd\",\n        \"dfn\",\n        \"dt\",\n        \"em\",\n        \"figcaption\",\n        \"figure\",\n        \"footer\",\n        \"header\",\n        \"i\",\n        \"kbd\",\n        \"mark\",\n        \"nav\",\n        \"noscript\",\n        \"rp\",\n        \"rt\",\n        \"ruby\",\n        \"s\",\n        \"samp\",\n        \"section\",\n        \"small\",\n        \"strong\",\n        \"sub\",\n        \"summary\",\n        \"sup\",\n        \"u\",\n        \"var\",\n        \"wbr\"\n      ],\n      \"HTMLEmbedElement\": [\n        \"embed\"\n      ],\n      \"HTMLFieldSetElement\": [\n        \"fieldset\"\n      ],\n      \"HTMLFontElement\": [\n        \"font\"\n      ],\n      \"HTMLFormElement\": [\n        \"form\"\n      ],\n      \"HTMLFrameElement\": [\n        \"frame\"\n      ],\n      \"HTMLFrameSetElement\": [\n        \"frameset\"\n      ],\n      \"HTMLHRElement\": [\n        \"hr\"\n      ],\n      \"HTMLHeadElement\": [\n        \"head\"\n      ],\n      \"HTMLHeadingElement\": [\n        \"h1\",\n        \"h2\",\n        \"h3\",\n        \"h4\",\n        \"h5\",\n        \"h6\"\n      ],\n      \"HTMLHtmlElement\": [\n        \"html\"\n      ],\n      \"HTMLIFrameElement\": [\n        \"iframe\"\n      ],\n      \"HTMLImageElement\": [\n        \"img\"\n      ],\n      \"HTMLInputElement\": [\n        \"input\"\n      ],\n      \"HTMLKeygenElement\": [\n        \"keygen\"\n      ],\n      \"HTMLLIElement\": [\n        \"li\"\n      ],\n      \"HTMLLabelElement\": [\n        \"label\"\n      ],\n      \"HTMLLegendElement\": [\n        \"legend\"\n      ],\n      \"HTMLLinkElement\": [\n        \"link\"\n      ],\n      \"HTMLMapElement\": [\n        \"map\"\n      ],\n      \"HTMLMarqueeElement\": [\n        \"marquee\"\n      ],\n      \"HTMLMediaElement\": [\n        \"media\"\n      ],\n      \"HTMLMenuElement\": [\n        \"menu\"\n      ],\n      \"HTMLMenuItemElement\": [\n        \"menuitem\"\n      ],\n      \"HTMLMetaElement\": [\n        \"meta\"\n      ],\n      \"HTMLMeterElement\": [\n        \"meter\"\n      ],\n      \"HTMLModElement\": [\n        \"del\",\n        \"ins\"\n      ],\n      \"HTMLOListElement\": [\n        \"ol\"\n      ],\n      \"HTMLObjectElement\": [\n        \"object\"\n      ],\n      \"HTMLOptGroupElement\": [\n        \"optgroup\"\n      ],\n      \"HTMLOptionElement\": [\n        \"option\"\n      ],\n      \"HTMLOutputElement\": [\n        \"output\"\n      ],\n      \"HTMLParagraphElement\": [\n        \"p\"\n      ],\n      \"HTMLParamElement\": [\n        \"param\"\n      ],\n      \"HTMLPictureElement\": [\n        \"picture\"\n      ],\n      \"HTMLPreElement\": [\n        \"pre\"\n      ],\n      \"HTMLProgressElement\": [\n        \"progress\"\n      ],\n      \"HTMLQuoteElement\": [\n        \"blockquote\",\n        \"q\",\n        \"quote\"\n      ],\n      \"HTMLScriptElement\": [\n        \"script\"\n      ],\n      \"HTMLSelectElement\": [\n        \"select\"\n      ],\n      \"HTMLShadowElement\": [\n        \"shadow\"\n      ],\n      \"HTMLSlotElement\": [\n        \"slot\"\n      ],\n      \"HTMLSourceElement\": [\n        \"source\"\n      ],\n      \"HTMLSpanElement\": [\n        \"span\"\n      ],\n      \"HTMLStyleElement\": [\n        \"style\"\n      ],\n      \"HTMLTableCaptionElement\": [\n        \"caption\"\n      ],\n      \"HTMLTableCellElement\": [\n        \"td\",\n        \"th\"\n      ],\n      \"HTMLTableColElement\": [\n        \"col\",\n        \"colgroup\"\n      ],\n      \"HTMLTableElement\": [\n        \"table\"\n      ],\n      \"HTMLTableRowElement\": [\n        \"tr\"\n      ],\n      \"HTMLTableSectionElement\": [\n        \"thead\",\n        \"tbody\",\n        \"tfoot\"\n      ],\n      \"HTMLTemplateElement\": [\n        \"template\"\n      ],\n      \"HTMLTextAreaElement\": [\n        \"textarea\"\n      ],\n      \"HTMLTimeElement\": [\n        \"time\"\n      ],\n      \"HTMLTitleElement\": [\n        \"title\"\n      ],\n      \"HTMLTrackElement\": [\n        \"track\"\n      ],\n      \"HTMLUListElement\": [\n        \"ul\"\n      ],\n      \"HTMLUnknownElement\": [\n        \"unknown\",\n        \"vhgroupv\",\n        \"vkeygen\"\n      ],\n      \"HTMLVideoElement\": [\n        \"video\"\n      ]\n    },\n    \"nodes\": {\n      \"Attr\": [\n        \"node\"\n      ],\n      \"Audio\": [\n        \"audio\"\n      ],\n      \"CDATASection\": [\n        \"node\"\n      ],\n      \"CharacterData\": [\n        \"node\"\n      ],\n      \"Comment\": [\n        \"#comment\"\n      ],\n      \"Document\": [\n        \"#document\"\n      ],\n      \"DocumentFragment\": [\n        \"#document-fragment\"\n      ],\n      \"DocumentType\": [\n        \"node\"\n      ],\n      \"HTMLDocument\": [\n        \"#document\"\n      ],\n      \"Image\": [\n        \"img\"\n      ],\n      \"Option\": [\n        \"option\"\n      ],\n      \"ProcessingInstruction\": [\n        \"node\"\n      ],\n      \"ShadowRoot\": [\n        \"#shadow-root\"\n      ],\n      \"Text\": [\n        \"#text\"\n      ],\n      \"XMLDocument\": [\n        \"xml\"\n      ]\n    }\n  }));\n  \n  \n    \n  // passed at runtime, configurable\n  // via nodejs module\n  if (!polyfill) polyfill = 'auto';\n  \n  var\n    // V0 polyfill entry\n    REGISTER_ELEMENT = 'registerElement',\n  \n    // IE < 11 only + old WebKit for attributes + feature detection\n    EXPANDO_UID = '__' + REGISTER_ELEMENT + (window.Math.random() * 10e4 >> 0),\n  \n    // shortcuts and costants\n    ADD_EVENT_LISTENER = 'addEventListener',\n    ATTACHED = 'attached',\n    CALLBACK = 'Callback',\n    DETACHED = 'detached',\n    EXTENDS = 'extends',\n  \n    ATTRIBUTE_CHANGED_CALLBACK = 'attributeChanged' + CALLBACK,\n    ATTACHED_CALLBACK = ATTACHED + CALLBACK,\n    CONNECTED_CALLBACK = 'connected' + CALLBACK,\n    DISCONNECTED_CALLBACK = 'disconnected' + CALLBACK,\n    CREATED_CALLBACK = 'created' + CALLBACK,\n    DETACHED_CALLBACK = DETACHED + CALLBACK,\n  \n    ADDITION = 'ADDITION',\n    MODIFICATION = 'MODIFICATION',\n    REMOVAL = 'REMOVAL',\n  \n    DOM_ATTR_MODIFIED = 'DOMAttrModified',\n    DOM_CONTENT_LOADED = 'DOMContentLoaded',\n    DOM_SUBTREE_MODIFIED = 'DOMSubtreeModified',\n  \n    PREFIX_TAG = '<',\n    PREFIX_IS = '=',\n  \n    // valid and invalid node names\n    validName = /^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,\n    invalidNames = [\n      'ANNOTATION-XML',\n      'COLOR-PROFILE',\n      'FONT-FACE',\n      'FONT-FACE-SRC',\n      'FONT-FACE-URI',\n      'FONT-FACE-FORMAT',\n      'FONT-FACE-NAME',\n      'MISSING-GLYPH'\n    ],\n  \n    // registered types and their prototypes\n    types = [],\n    protos = [],\n  \n    // to query subnodes\n    query = '',\n  \n    // html shortcut used to feature detect\n    documentElement = document.documentElement,\n  \n    // ES5 inline helpers || basic patches\n    indexOf = types.indexOf || function (v) {\n      for(var i = this.length; i-- && this[i] !== v;){}\n      return i;\n    },\n  \n    // other helpers / shortcuts\n    OP = Object.prototype,\n    hOP = OP.hasOwnProperty,\n    iPO = OP.isPrototypeOf,\n  \n    defineProperty = Object.defineProperty,\n    empty = [],\n    gOPD = Object.getOwnPropertyDescriptor,\n    gOPN = Object.getOwnPropertyNames,\n    gPO = Object.getPrototypeOf,\n    sPO = Object.setPrototypeOf,\n  \n    // jshint proto: true\n    hasProto = !!Object.__proto__,\n  \n    // V1 helpers\n    fixGetClass = false,\n    DRECEV1 = '__dreCEv1',\n    customElements = window.customElements,\n    usableCustomElements = polyfill !== 'force' && !!(\n      customElements &&\n      customElements.define &&\n      customElements.get &&\n      customElements.whenDefined\n    ),\n    Dict = Object.create || Object,\n    Map = window.Map || function Map() {\n      var K = [], V = [], i;\n      return {\n        get: function (k) {\n          return V[indexOf.call(K, k)];\n        },\n        set: function (k, v) {\n          i = indexOf.call(K, k);\n          if (i < 0) V[K.push(k) - 1] = v;\n          else V[i] = v;\n        }\n      };\n    },\n    Promise = window.Promise || function (fn) {\n      var\n        notify = [],\n        done = false,\n        p = {\n          'catch': function () {\n            return p;\n          },\n          'then': function (cb) {\n            notify.push(cb);\n            if (done) setTimeout(resolve, 1);\n            return p;\n          }\n        }\n      ;\n      function resolve(value) {\n        done = true;\n        while (notify.length) notify.shift()(value);\n      }\n      fn(resolve);\n      return p;\n    },\n    justCreated = false,\n    constructors = Dict(null),\n    waitingList = Dict(null),\n    nodeNames = new Map(),\n    secondArgument = String,\n  \n    // used to create unique instances\n    create = Object.create || function Bridge(proto) {\n      // silly broken polyfill probably ever used but short enough to work\n      return proto ? ((Bridge.prototype = proto), new Bridge()) : this;\n    },\n  \n    // will set the prototype if possible\n    // or copy over all properties\n    setPrototype = sPO || (\n      hasProto ?\n        function (o, p) {\n          o.__proto__ = p;\n          return o;\n        } : (\n      (gOPN && gOPD) ?\n        (function(){\n          function setProperties(o, p) {\n            for (var\n              key,\n              names = gOPN(p),\n              i = 0, length = names.length;\n              i < length; i++\n            ) {\n              key = names[i];\n              if (!hOP.call(o, key)) {\n                defineProperty(o, key, gOPD(p, key));\n              }\n            }\n          }\n          return function (o, p) {\n            do {\n              setProperties(o, p);\n            } while ((p = gPO(p)) && !iPO.call(p, o));\n            return o;\n          };\n        }()) :\n        function (o, p) {\n          for (var key in p) {\n            o[key] = p[key];\n          }\n          return o;\n        }\n    )),\n  \n    // DOM shortcuts and helpers, if any\n  \n    MutationObserver = window.MutationObserver ||\n                       window.WebKitMutationObserver,\n  \n    HTMLElementPrototype = (\n      window.HTMLElement ||\n      window.Element ||\n      window.Node\n    ).prototype,\n  \n    IE8 = !iPO.call(HTMLElementPrototype, documentElement),\n  \n    safeProperty = IE8 ? function (o, k, d) {\n      o[k] = d.value;\n      return o;\n    } : defineProperty,\n  \n    isValidNode = IE8 ?\n      function (node) {\n        return node.nodeType === 1;\n      } :\n      function (node) {\n        return iPO.call(HTMLElementPrototype, node);\n      },\n  \n    targets = IE8 && [],\n  \n    attachShadow = HTMLElementPrototype.attachShadow,\n    cloneNode = HTMLElementPrototype.cloneNode,\n    dispatchEvent = HTMLElementPrototype.dispatchEvent,\n    getAttribute = HTMLElementPrototype.getAttribute,\n    hasAttribute = HTMLElementPrototype.hasAttribute,\n    removeAttribute = HTMLElementPrototype.removeAttribute,\n    setAttribute = HTMLElementPrototype.setAttribute,\n  \n    // replaced later on\n    createElement = document.createElement,\n    patchedCreateElement = createElement,\n  \n    // shared observer for all attributes\n    attributesObserver = MutationObserver && {\n      attributes: true,\n      characterData: true,\n      attributeOldValue: true\n    },\n  \n    // useful to detect only if there's no MutationObserver\n    DOMAttrModified = MutationObserver || function(e) {\n      doesNotSupportDOMAttrModified = false;\n      documentElement.removeEventListener(\n        DOM_ATTR_MODIFIED,\n        DOMAttrModified\n      );\n    },\n  \n    // will both be used to make DOMNodeInserted asynchronous\n    asapQueue,\n    asapTimer = 0,\n  \n    // internal flags\n    V0 = REGISTER_ELEMENT in document,\n    setListener = true,\n    justSetup = false,\n    doesNotSupportDOMAttrModified = true,\n    dropDomContentLoaded = true,\n  \n    // needed for the innerHTML helper\n    notFromInnerHTMLHelper = true,\n  \n    // optionally defined later on\n    onSubtreeModified,\n    callDOMAttrModified,\n    getAttributesMirror,\n    observer,\n    observe,\n  \n    // based on setting prototype capability\n    // will check proto or the expando attribute\n    // in order to setup the node once\n    patchIfNotAlready,\n    patch\n  ;\n  \n  // only if needed\n  if (!V0) {\n  \n    if (sPO || hasProto) {\n        patchIfNotAlready = function (node, proto) {\n          if (!iPO.call(proto, node)) {\n            setupNode(node, proto);\n          }\n        };\n        patch = setupNode;\n    } else {\n        patchIfNotAlready = function (node, proto) {\n          if (!node[EXPANDO_UID]) {\n            node[EXPANDO_UID] = Object(true);\n            setupNode(node, proto);\n          }\n        };\n        patch = patchIfNotAlready;\n    }\n  \n    if (IE8) {\n      doesNotSupportDOMAttrModified = false;\n      (function (){\n        var\n          descriptor = gOPD(HTMLElementPrototype, ADD_EVENT_LISTENER),\n          addEventListener = descriptor.value,\n          patchedRemoveAttribute = function (name) {\n            var e = new CustomEvent(DOM_ATTR_MODIFIED, {bubbles: true});\n            e.attrName = name;\n            e.prevValue = getAttribute.call(this, name);\n            e.newValue = null;\n            e[REMOVAL] = e.attrChange = 2;\n            removeAttribute.call(this, name);\n            dispatchEvent.call(this, e);\n          },\n          patchedSetAttribute = function (name, value) {\n            var\n              had = hasAttribute.call(this, name),\n              old = had && getAttribute.call(this, name),\n              e = new CustomEvent(DOM_ATTR_MODIFIED, {bubbles: true})\n            ;\n            setAttribute.call(this, name, value);\n            e.attrName = name;\n            e.prevValue = had ? old : null;\n            e.newValue = value;\n            if (had) {\n              e[MODIFICATION] = e.attrChange = 1;\n            } else {\n              e[ADDITION] = e.attrChange = 0;\n            }\n            dispatchEvent.call(this, e);\n          },\n          onPropertyChange = function (e) {\n            // jshint eqnull:true\n            var\n              node = e.currentTarget,\n              superSecret = node[EXPANDO_UID],\n              propertyName = e.propertyName,\n              event\n            ;\n            if (superSecret.hasOwnProperty(propertyName)) {\n              superSecret = superSecret[propertyName];\n              event = new CustomEvent(DOM_ATTR_MODIFIED, {bubbles: true});\n              event.attrName = superSecret.name;\n              event.prevValue = superSecret.value || null;\n              event.newValue = (superSecret.value = node[propertyName] || null);\n              if (event.prevValue == null) {\n                event[ADDITION] = event.attrChange = 0;\n              } else {\n                event[MODIFICATION] = event.attrChange = 1;\n              }\n              dispatchEvent.call(node, event);\n            }\n          }\n        ;\n        descriptor.value = function (type, handler, capture) {\n          if (\n            type === DOM_ATTR_MODIFIED &&\n            this[ATTRIBUTE_CHANGED_CALLBACK] &&\n            this.setAttribute !== patchedSetAttribute\n          ) {\n            this[EXPANDO_UID] = {\n              className: {\n                name: 'class',\n                value: this.className\n              }\n            };\n            this.setAttribute = patchedSetAttribute;\n            this.removeAttribute = patchedRemoveAttribute;\n            addEventListener.call(this, 'propertychange', onPropertyChange);\n          }\n          addEventListener.call(this, type, handler, capture);\n        };\n        defineProperty(HTMLElementPrototype, ADD_EVENT_LISTENER, descriptor);\n      }());\n    } else if (!MutationObserver) {\n      documentElement[ADD_EVENT_LISTENER](DOM_ATTR_MODIFIED, DOMAttrModified);\n      documentElement.setAttribute(EXPANDO_UID, 1);\n      documentElement.removeAttribute(EXPANDO_UID);\n      if (doesNotSupportDOMAttrModified) {\n        onSubtreeModified = function (e) {\n          var\n            node = this,\n            oldAttributes,\n            newAttributes,\n            key\n          ;\n          if (node === e.target) {\n            oldAttributes = node[EXPANDO_UID];\n            node[EXPANDO_UID] = (newAttributes = getAttributesMirror(node));\n            for (key in newAttributes) {\n              if (!(key in oldAttributes)) {\n                // attribute was added\n                return callDOMAttrModified(\n                  0,\n                  node,\n                  key,\n                  oldAttributes[key],\n                  newAttributes[key],\n                  ADDITION\n                );\n              } else if (newAttributes[key] !== oldAttributes[key]) {\n                // attribute was changed\n                return callDOMAttrModified(\n                  1,\n                  node,\n                  key,\n                  oldAttributes[key],\n                  newAttributes[key],\n                  MODIFICATION\n                );\n              }\n            }\n            // checking if it has been removed\n            for (key in oldAttributes) {\n              if (!(key in newAttributes)) {\n                // attribute removed\n                return callDOMAttrModified(\n                  2,\n                  node,\n                  key,\n                  oldAttributes[key],\n                  newAttributes[key],\n                  REMOVAL\n                );\n              }\n            }\n          }\n        };\n        callDOMAttrModified = function (\n          attrChange,\n          currentTarget,\n          attrName,\n          prevValue,\n          newValue,\n          action\n        ) {\n          var e = {\n            attrChange: attrChange,\n            currentTarget: currentTarget,\n            attrName: attrName,\n            prevValue: prevValue,\n            newValue: newValue\n          };\n          e[action] = attrChange;\n          onDOMAttrModified(e);\n        };\n        getAttributesMirror = function (node) {\n          for (var\n            attr, name,\n            result = {},\n            attributes = node.attributes,\n            i = 0, length = attributes.length;\n            i < length; i++\n          ) {\n            attr = attributes[i];\n            name = attr.name;\n            if (name !== 'setAttribute') {\n              result[name] = attr.value;\n            }\n          }\n          return result;\n        };\n      }\n    }\n  \n    // set as enumerable, writable and configurable\n    document[REGISTER_ELEMENT] = function registerElement(type, options) {\n      upperType = type.toUpperCase();\n      if (setListener) {\n        // only first time document.registerElement is used\n        // we need to set this listener\n        // setting it by default might slow down for no reason\n        setListener = false;\n        if (MutationObserver) {\n          observer = (function(attached, detached){\n            function checkEmAll(list, callback) {\n              for (var i = 0, length = list.length; i < length; callback(list[i++])){}\n            }\n            return new MutationObserver(function (records) {\n              for (var\n                current, node, newValue,\n                i = 0, length = records.length; i < length; i++\n              ) {\n                current = records[i];\n                if (current.type === 'childList') {\n                  checkEmAll(current.addedNodes, attached);\n                  checkEmAll(current.removedNodes, detached);\n                } else {\n                  node = current.target;\n                  if (notFromInnerHTMLHelper &&\n                      node[ATTRIBUTE_CHANGED_CALLBACK] &&\n                      current.attributeName !== 'style') {\n                    newValue = getAttribute.call(node, current.attributeName);\n                    if (newValue !== current.oldValue) {\n                      node[ATTRIBUTE_CHANGED_CALLBACK](\n                        current.attributeName,\n                        current.oldValue,\n                        newValue\n                      );\n                    }\n                  }\n                }\n              }\n            });\n          }(executeAction(ATTACHED), executeAction(DETACHED)));\n          observe = function (node) {\n            observer.observe(\n              node,\n              {\n                childList: true,\n                subtree: true\n              }\n            );\n            return node;\n          };\n          observe(document);\n          if (attachShadow) {\n            HTMLElementPrototype.attachShadow = function () {\n              return observe(attachShadow.apply(this, arguments));\n            };\n          }\n        } else {\n          asapQueue = [];\n          document[ADD_EVENT_LISTENER]('DOMNodeInserted', onDOMNode(ATTACHED));\n          document[ADD_EVENT_LISTENER]('DOMNodeRemoved', onDOMNode(DETACHED));\n        }\n  \n        document[ADD_EVENT_LISTENER](DOM_CONTENT_LOADED, onReadyStateChange);\n        document[ADD_EVENT_LISTENER]('readystatechange', onReadyStateChange);\n  \n        HTMLElementPrototype.cloneNode = function (deep) {\n          var\n            node = cloneNode.call(this, !!deep),\n            i = getTypeIndex(node)\n          ;\n          if (-1 < i) patch(node, protos[i]);\n          if (deep && query.length) loopAndSetup(node.querySelectorAll(query));\n          return node;\n        };\n      }\n  \n      if (justSetup) return (justSetup = false);\n  \n      if (-2 < (\n        indexOf.call(types, PREFIX_IS + upperType) +\n        indexOf.call(types, PREFIX_TAG + upperType)\n      )) {\n        throwTypeError(type);\n      }\n  \n      if (!validName.test(upperType) || -1 < indexOf.call(invalidNames, upperType)) {\n        throw new Error('The type ' + type + ' is invalid');\n      }\n  \n      var\n        constructor = function () {\n          return extending ?\n            document.createElement(nodeName, upperType) :\n            document.createElement(nodeName);\n        },\n        opt = options || OP,\n        extending = hOP.call(opt, EXTENDS),\n        nodeName = extending ? options[EXTENDS].toUpperCase() : upperType,\n        upperType,\n        i\n      ;\n  \n      if (extending && -1 < (\n        indexOf.call(types, PREFIX_TAG + nodeName)\n      )) {\n        throwTypeError(nodeName);\n      }\n  \n      i = types.push((extending ? PREFIX_IS : PREFIX_TAG) + upperType) - 1;\n  \n      query = query.concat(\n        query.length ? ',' : '',\n        extending ? nodeName + '[is=\"' + type.toLowerCase() + '\"]' : nodeName\n      );\n  \n      constructor.prototype = (\n        protos[i] = hOP.call(opt, 'prototype') ?\n          opt.prototype :\n          create(HTMLElementPrototype)\n      );\n  \n      if (query.length) loopAndVerify(\n        document.querySelectorAll(query),\n        ATTACHED\n      );\n  \n      return constructor;\n    };\n  \n    document.createElement = (patchedCreateElement = function (localName, typeExtension) {\n      var\n        is = getIs(typeExtension),\n        node = is ?\n          createElement.call(document, localName, secondArgument(is)) :\n          createElement.call(document, localName),\n        name = '' + localName,\n        i = indexOf.call(\n          types,\n          (is ? PREFIX_IS : PREFIX_TAG) +\n          (is || name).toUpperCase()\n        ),\n        setup = -1 < i\n      ;\n      if (is) {\n        node.setAttribute('is', is = is.toLowerCase());\n        if (setup) {\n          setup = isInQSA(name.toUpperCase(), is);\n        }\n      }\n      notFromInnerHTMLHelper = !document.createElement.innerHTMLHelper;\n      if (setup) patch(node, protos[i]);\n      return node;\n    });\n  \n  }\n  \n  function ASAP() {\n    var queue = asapQueue.splice(0, asapQueue.length);\n    asapTimer = 0;\n    while (queue.length) {\n      queue.shift().call(\n        null, queue.shift()\n      );\n    }\n  }\n  \n  function loopAndVerify(list, action) {\n    for (var i = 0, length = list.length; i < length; i++) {\n      verifyAndSetupAndAction(list[i], action);\n    }\n  }\n  \n  function loopAndSetup(list) {\n    for (var i = 0, length = list.length, node; i < length; i++) {\n      node = list[i];\n      patch(node, protos[getTypeIndex(node)]);\n    }\n  }\n  \n  function executeAction(action) {\n    return function (node) {\n      if (isValidNode(node)) {\n        verifyAndSetupAndAction(node, action);\n        if (query.length) loopAndVerify(\n          node.querySelectorAll(query),\n          action\n        );\n      }\n    };\n  }\n  \n  function getTypeIndex(target) {\n    var\n      is = getAttribute.call(target, 'is'),\n      nodeName = target.nodeName.toUpperCase(),\n      i = indexOf.call(\n        types,\n        is ?\n            PREFIX_IS + is.toUpperCase() :\n            PREFIX_TAG + nodeName\n      )\n    ;\n    return is && -1 < i && !isInQSA(nodeName, is) ? -1 : i;\n  }\n  \n  function isInQSA(name, type) {\n    return -1 < query.indexOf(name + '[is=\"' + type + '\"]');\n  }\n  \n  function onDOMAttrModified(e) {\n    var\n      node = e.currentTarget,\n      attrChange = e.attrChange,\n      attrName = e.attrName,\n      target = e.target,\n      addition = e[ADDITION] || 2,\n      removal = e[REMOVAL] || 3\n    ;\n    if (notFromInnerHTMLHelper &&\n        (!target || target === node) &&\n        node[ATTRIBUTE_CHANGED_CALLBACK] &&\n        attrName !== 'style' && (\n          e.prevValue !== e.newValue ||\n          // IE9, IE10, and Opera 12 gotcha\n          e.newValue === '' && (\n            attrChange === addition ||\n            attrChange === removal\n          )\n    )) {\n      node[ATTRIBUTE_CHANGED_CALLBACK](\n        attrName,\n        attrChange === addition ? null : e.prevValue,\n        attrChange === removal ? null : e.newValue\n      );\n    }\n  }\n  \n  function onDOMNode(action) {\n    var executor = executeAction(action);\n    return function (e) {\n      asapQueue.push(executor, e.target);\n      if (asapTimer) clearTimeout(asapTimer);\n      asapTimer = setTimeout(ASAP, 1);\n    };\n  }\n  \n  function onReadyStateChange(e) {\n    if (dropDomContentLoaded) {\n      dropDomContentLoaded = false;\n      e.currentTarget.removeEventListener(DOM_CONTENT_LOADED, onReadyStateChange);\n    }\n    if (query.length) loopAndVerify(\n      (e.target || document).querySelectorAll(query),\n      e.detail === DETACHED ? DETACHED : ATTACHED\n    );\n    if (IE8) purge();\n  }\n  \n  function patchedSetAttribute(name, value) {\n    // jshint validthis:true\n    var self = this;\n    setAttribute.call(self, name, value);\n    onSubtreeModified.call(self, {target: self});\n  }\n  \n  function setupNode(node, proto) {\n    setPrototype(node, proto);\n    if (observer) {\n      observer.observe(node, attributesObserver);\n    } else {\n      if (doesNotSupportDOMAttrModified) {\n        node.setAttribute = patchedSetAttribute;\n        node[EXPANDO_UID] = getAttributesMirror(node);\n        node[ADD_EVENT_LISTENER](DOM_SUBTREE_MODIFIED, onSubtreeModified);\n      }\n      node[ADD_EVENT_LISTENER](DOM_ATTR_MODIFIED, onDOMAttrModified);\n    }\n    if (node[CREATED_CALLBACK] && notFromInnerHTMLHelper) {\n      node.created = true;\n      node[CREATED_CALLBACK]();\n      node.created = false;\n    }\n  }\n  \n  function purge() {\n    for (var\n      node,\n      i = 0,\n      length = targets.length;\n      i < length; i++\n    ) {\n      node = targets[i];\n      if (!documentElement.contains(node)) {\n        length--;\n        targets.splice(i--, 1);\n        verifyAndSetupAndAction(node, DETACHED);\n      }\n    }\n  }\n  \n  function throwTypeError(type) {\n    throw new Error('A ' + type + ' type is already registered');\n  }\n  \n  function verifyAndSetupAndAction(node, action) {\n    var\n      fn,\n      i = getTypeIndex(node)\n    ;\n    if (-1 < i) {\n      patchIfNotAlready(node, protos[i]);\n      i = 0;\n      if (action === ATTACHED && !node[ATTACHED]) {\n        node[DETACHED] = false;\n        node[ATTACHED] = true;\n        i = 1;\n        if (IE8 && indexOf.call(targets, node) < 0) {\n          targets.push(node);\n        }\n      } else if (action === DETACHED && !node[DETACHED]) {\n        node[ATTACHED] = false;\n        node[DETACHED] = true;\n        i = 1;\n      }\n      if (i && (fn = node[action + CALLBACK])) fn.call(node);\n    }\n  }\n  \n  \n  \n  // V1 in da House!\n  function CustomElementRegistry() {}\n  \n  CustomElementRegistry.prototype = {\n    constructor: CustomElementRegistry,\n    // a workaround for the stubborn WebKit\n    define: usableCustomElements ?\n      function (name, Class, options) {\n        if (options) {\n          CERDefine(name, Class, options);\n        } else {\n          var NAME = name.toUpperCase();\n          constructors[NAME] = {\n            constructor: Class,\n            create: [NAME]\n          };\n          nodeNames.set(Class, NAME);\n          customElements.define(name, Class);\n        }\n      } :\n      CERDefine,\n    get: usableCustomElements ?\n      function (name) {\n        return customElements.get(name) || get(name);\n      } :\n      get,\n    whenDefined: usableCustomElements ?\n      function (name) {\n        return Promise.race([\n          customElements.whenDefined(name),\n          whenDefined(name)\n        ]);\n      } :\n      whenDefined\n  };\n  \n  function CERDefine(name, Class, options) {\n    var\n      is = options && options[EXTENDS] || '',\n      CProto = Class.prototype,\n      proto = create(CProto),\n      attributes = Class.observedAttributes || empty,\n      definition = {prototype: proto}\n    ;\n    // TODO: is this needed at all since it's inherited?\n    // defineProperty(proto, 'constructor', {value: Class});\n    safeProperty(proto, CREATED_CALLBACK, {\n        value: function () {\n          if (justCreated) justCreated = false;\n          else if (!this[DRECEV1]) {\n            this[DRECEV1] = true;\n            new Class(this);\n            if (CProto[CREATED_CALLBACK])\n              CProto[CREATED_CALLBACK].call(this);\n            var info = constructors[nodeNames.get(Class)];\n            if (!usableCustomElements || info.create.length > 1) {\n              notifyAttributes(this);\n            }\n          }\n      }\n    });\n    safeProperty(proto, ATTRIBUTE_CHANGED_CALLBACK, {\n      value: function (name) {\n        if (-1 < indexOf.call(attributes, name))\n          CProto[ATTRIBUTE_CHANGED_CALLBACK].apply(this, arguments);\n      }\n    });\n    if (CProto[CONNECTED_CALLBACK]) {\n      safeProperty(proto, ATTACHED_CALLBACK, {\n        value: CProto[CONNECTED_CALLBACK]\n      });\n    }\n    if (CProto[DISCONNECTED_CALLBACK]) {\n      safeProperty(proto, DETACHED_CALLBACK, {\n        value: CProto[DISCONNECTED_CALLBACK]\n      });\n    }\n    if (is) definition[EXTENDS] = is;\n    name = name.toUpperCase();\n    constructors[name] = {\n      constructor: Class,\n      create: is ? [is, secondArgument(name)] : [name]\n    };\n    nodeNames.set(Class, name);\n    document[REGISTER_ELEMENT](name.toLowerCase(), definition);\n    whenDefined(name);\n    waitingList[name].r();\n  }\n  \n  function get(name) {\n    var info = constructors[name.toUpperCase()];\n    return info && info.constructor;\n  }\n  \n  function getIs(options) {\n    return typeof options === 'string' ?\n        options : (options && options.is || '');\n  }\n  \n  function notifyAttributes(self) {\n    var\n      callback = self[ATTRIBUTE_CHANGED_CALLBACK],\n      attributes = callback ? self.attributes : empty,\n      i = attributes.length,\n      attribute\n    ;\n    while (i--) {\n      attribute =  attributes[i]; // || attributes.item(i);\n      callback.call(\n        self,\n        attribute.name || attribute.nodeName,\n        null,\n        attribute.value || attribute.nodeValue\n      );\n    }\n  }\n  \n  function whenDefined(name) {\n    name = name.toUpperCase();\n    if (!(name in waitingList)) {\n      waitingList[name] = {};\n      waitingList[name].p = new Promise(function (resolve) {\n        waitingList[name].r = resolve;\n      });\n    }\n    return waitingList[name].p;\n  }\n  \n  function polyfillV1() {\n    if (customElements) delete window.customElements;\n    defineProperty(window, 'customElements', {\n      configurable: true,\n      value: new CustomElementRegistry()\n    });\n    defineProperty(window, 'CustomElementRegistry', {\n      configurable: true,\n      value: CustomElementRegistry\n    });\n    for (var\n      patchClass = function (name) {\n        var Class = window[name];\n        if (Class) {\n          window[name] = function CustomElementsV1(self) {\n            var info, isNative;\n            if (!self) self = this;\n            if (!self[DRECEV1]) {\n              justCreated = true;\n              info = constructors[nodeNames.get(self.constructor)];\n              isNative = usableCustomElements && info.create.length === 1;\n              self = isNative ?\n                Reflect.construct(Class, empty, info.constructor) :\n                document.createElement.apply(document, info.create);\n              self[DRECEV1] = true;\n              justCreated = false;\n              if (!isNative) notifyAttributes(self);\n            }\n            return self;\n          };\n          window[name].prototype = Class.prototype;\n          try {\n            Class.prototype.constructor = window[name];\n          } catch(WebKit) {\n            fixGetClass = true;\n            defineProperty(Class, DRECEV1, {value: window[name]});\n          }\n        }\n      },\n      Classes = htmlClass.get(/^HTML[A-Z]*[a-z]/),\n      i = Classes.length;\n      i--;\n      patchClass(Classes[i])\n    ) {}\n    (document.createElement = function (name, options) {\n      var is = getIs(options);\n      return is ?\n        patchedCreateElement.call(this, name, secondArgument(is)) :\n        patchedCreateElement.call(this, name);\n    });\n    if (!V0) {\n      justSetup = true;\n      document[REGISTER_ELEMENT]('');\n    }\n  }\n  \n  // if customElements is not there at all\n  if (!customElements || polyfill === 'force') polyfillV1();\n  else {\n    // if available test extends work as expected\n    try {\n      (function (DRE, options, name) {\n        options[EXTENDS] = 'a';\n        DRE.prototype = create(HTMLAnchorElement.prototype);\n        DRE.prototype.constructor = DRE;\n        window.customElements.define(name, DRE, options);\n        if (\n          getAttribute.call(document.createElement('a', {is: name}), 'is') !== name ||\n          (usableCustomElements && getAttribute.call(new DRE(), 'is') !== name)\n        ) {\n          throw options;\n        }\n      }(\n        function DRE() {\n          return Reflect.construct(HTMLAnchorElement, [], DRE);\n        },\n        {},\n        'document-register-element-a'\n      ));\n    } catch(o_O) {\n      // or force the polyfill if not\n      // and keep internal original reference\n      polyfillV1();\n    }\n  }\n  \n  try {\n    createElement.call(document, 'a', 'a');\n  } catch(FireFox) {\n    secondArgument = function (is) {\n      return {is: is};\n    };\n  }\n  \n}\n\nmodule.exports = installCustomElements;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2RvY3VtZW50LXJlZ2lzdGVyLWVsZW1lbnQvcG9ueS9pbmRleC5qcz8xYjkwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Q7O0FBRWxEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsaUJBQWlCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7Ozs7QUFJSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDhCQUE4QixzQkFBc0I7QUFDcEQ7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTzs7QUFFUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCxjQUFjO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxjQUFjO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCxjQUFjO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCxZQUFZO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLFlBQVk7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx5Q0FBeUMsWUFBWTtBQUNyRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrQ0FBK0MsWUFBWTtBQUMzRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLGFBQWE7QUFDL0M7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0EsNkNBQTZDLGFBQWE7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLDRDQUE0QyxvQkFBb0I7QUFDaEU7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsU0FBUztBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsU0FBUztBQUNULFVBQVU7QUFDVjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVBOztBQUVBIiwiZmlsZSI6IjQzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohXG5cbkNvcHlyaWdodCAoQykgMjAxNC0yMDE2IGJ5IEFuZHJlYSBHaWFtbWFyY2hpIC0gQFdlYlJlZmxlY3Rpb25cblxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxub2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xudG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG5BVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuVEhFIFNPRlRXQVJFLlxuXG4qL1xuLy8gZ2xvYmFsIHdpbmRvdyBPYmplY3Rcbi8vIG9wdGlvbmFsIHBvbHlmaWxsIGluZm9cbi8vICAgICdhdXRvJyB1c2VkIGJ5IGRlZmF1bHQsIGV2ZXJ5dGhpbmcgaXMgZmVhdHVyZSBkZXRlY3RlZFxuLy8gICAgJ2ZvcmNlJyB1c2UgdGhlIHBvbHlmaWxsIGV2ZW4gaWYgbm90IGZ1bGx5IG5lZWRlZFxuZnVuY3Rpb24gaW5zdGFsbEN1c3RvbUVsZW1lbnRzKHdpbmRvdywgcG9seWZpbGwpIHsndXNlIHN0cmljdCc7XG5cbiAgLy8gRE8gTk9UIFVTRSBUSElTIEZJTEUgRElSRUNUTFksIElUIFdPTidUIFdPUktcbiAgLy8gVEhJUyBJUyBBIFBST0pFQ1QgQkFTRUQgT04gQSBCVUlMRCBTWVNURU1cbiAgLy8gVEhJUyBGSUxFIElTIEpVU1QgV1JBUFBFRCBVUCBSRVNVTFRJTkcgSU5cbiAgLy8gYnVpbGQvZG9jdW1lbnQtcmVnaXN0ZXItZWxlbWVudC5ub2RlLmpzXG5cbiAgdmFyXG4gICAgZG9jdW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQsXG4gICAgT2JqZWN0ID0gd2luZG93Lk9iamVjdFxuICA7XG5cbiAgdmFyIGh0bWxDbGFzcyA9IChmdW5jdGlvbiAoaW5mbykge1xuICAgIC8vIChDKSBBbmRyZWEgR2lhbW1hcmNoaSAtIEBXZWJSZWZsZWN0aW9uIC0gTUlUIFN0eWxlXG4gICAgdmFyXG4gICAgICBjYXRjaENsYXNzID0gL15bQS1aXStbYS16XS8sXG4gICAgICBmaWx0ZXJCeSA9IGZ1bmN0aW9uIChyZSkge1xuICAgICAgICB2YXIgYXJyID0gW10sIHRhZztcbiAgICAgICAgZm9yICh0YWcgaW4gcmVnaXN0ZXIpIHtcbiAgICAgICAgICBpZiAocmUudGVzdCh0YWcpKSBhcnIucHVzaCh0YWcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnI7XG4gICAgICB9LFxuICAgICAgYWRkID0gZnVuY3Rpb24gKENsYXNzLCB0YWcpIHtcbiAgICAgICAgdGFnID0gdGFnLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmICghKHRhZyBpbiByZWdpc3RlcikpIHtcbiAgICAgICAgICByZWdpc3RlcltDbGFzc10gPSAocmVnaXN0ZXJbQ2xhc3NdIHx8IFtdKS5jb25jYXQodGFnKTtcbiAgICAgICAgICByZWdpc3Rlclt0YWddID0gKHJlZ2lzdGVyW3RhZy50b1VwcGVyQ2FzZSgpXSA9IENsYXNzKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHJlZ2lzdGVyID0gKE9iamVjdC5jcmVhdGUgfHwgT2JqZWN0KShudWxsKSxcbiAgICAgIGh0bWxDbGFzcyA9IHt9LFxuICAgICAgaSwgc2VjdGlvbiwgdGFncywgQ2xhc3NcbiAgICA7XG4gICAgZm9yIChzZWN0aW9uIGluIGluZm8pIHtcbiAgICAgIGZvciAoQ2xhc3MgaW4gaW5mb1tzZWN0aW9uXSkge1xuICAgICAgICB0YWdzID0gaW5mb1tzZWN0aW9uXVtDbGFzc107XG4gICAgICAgIHJlZ2lzdGVyW0NsYXNzXSA9IHRhZ3M7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB0YWdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgcmVnaXN0ZXJbdGFnc1tpXS50b0xvd2VyQ2FzZSgpXSA9XG4gICAgICAgICAgcmVnaXN0ZXJbdGFnc1tpXS50b1VwcGVyQ2FzZSgpXSA9IENsYXNzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGh0bWxDbGFzcy5nZXQgPSBmdW5jdGlvbiBnZXQodGFnT3JDbGFzcykge1xuICAgICAgcmV0dXJuIHR5cGVvZiB0YWdPckNsYXNzID09PSAnc3RyaW5nJyA/XG4gICAgICAgIChyZWdpc3Rlclt0YWdPckNsYXNzXSB8fCAoY2F0Y2hDbGFzcy50ZXN0KHRhZ09yQ2xhc3MpID8gW10gOiAnJykpIDpcbiAgICAgICAgZmlsdGVyQnkodGFnT3JDbGFzcyk7XG4gICAgfTtcbiAgICBodG1sQ2xhc3Muc2V0ID0gZnVuY3Rpb24gc2V0KHRhZywgQ2xhc3MpIHtcbiAgICAgIHJldHVybiAoY2F0Y2hDbGFzcy50ZXN0KHRhZykgP1xuICAgICAgICBhZGQodGFnLCBDbGFzcykgOlxuICAgICAgICBhZGQoQ2xhc3MsIHRhZylcbiAgICAgICksIGh0bWxDbGFzcztcbiAgICB9O1xuICAgIHJldHVybiBodG1sQ2xhc3M7XG4gIH0oe1xuICAgIFwiY29sbGVjdGlvbnNcIjoge1xuICAgICAgXCJIVE1MQWxsQ29sbGVjdGlvblwiOiBbXG4gICAgICAgIFwiYWxsXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxDb2xsZWN0aW9uXCI6IFtcbiAgICAgICAgXCJmb3Jtc1wiXG4gICAgICBdLFxuICAgICAgXCJIVE1MRm9ybUNvbnRyb2xzQ29sbGVjdGlvblwiOiBbXG4gICAgICAgIFwiZWxlbWVudHNcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTE9wdGlvbnNDb2xsZWN0aW9uXCI6IFtcbiAgICAgICAgXCJvcHRpb25zXCJcbiAgICAgIF1cbiAgICB9LFxuICAgIFwiZWxlbWVudHNcIjoge1xuICAgICAgXCJFbGVtZW50XCI6IFtcbiAgICAgICAgXCJlbGVtZW50XCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxBbmNob3JFbGVtZW50XCI6IFtcbiAgICAgICAgXCJhXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxBcHBsZXRFbGVtZW50XCI6IFtcbiAgICAgICAgXCJhcHBsZXRcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTEFyZWFFbGVtZW50XCI6IFtcbiAgICAgICAgXCJhcmVhXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxBdHRhY2htZW50RWxlbWVudFwiOiBbXG4gICAgICAgIFwiYXR0YWNobWVudFwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MQXVkaW9FbGVtZW50XCI6IFtcbiAgICAgICAgXCJhdWRpb1wiXG4gICAgICBdLFxuICAgICAgXCJIVE1MQlJFbGVtZW50XCI6IFtcbiAgICAgICAgXCJiclwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MQmFzZUVsZW1lbnRcIjogW1xuICAgICAgICBcImJhc2VcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTEJvZHlFbGVtZW50XCI6IFtcbiAgICAgICAgXCJib2R5XCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxCdXR0b25FbGVtZW50XCI6IFtcbiAgICAgICAgXCJidXR0b25cIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTENhbnZhc0VsZW1lbnRcIjogW1xuICAgICAgICBcImNhbnZhc1wiXG4gICAgICBdLFxuICAgICAgXCJIVE1MQ29udGVudEVsZW1lbnRcIjogW1xuICAgICAgICBcImNvbnRlbnRcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTERMaXN0RWxlbWVudFwiOiBbXG4gICAgICAgIFwiZGxcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTERhdGFFbGVtZW50XCI6IFtcbiAgICAgICAgXCJkYXRhXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxEYXRhTGlzdEVsZW1lbnRcIjogW1xuICAgICAgICBcImRhdGFsaXN0XCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxEZXRhaWxzRWxlbWVudFwiOiBbXG4gICAgICAgIFwiZGV0YWlsc1wiXG4gICAgICBdLFxuICAgICAgXCJIVE1MRGlhbG9nRWxlbWVudFwiOiBbXG4gICAgICAgIFwiZGlhbG9nXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxEaXJlY3RvcnlFbGVtZW50XCI6IFtcbiAgICAgICAgXCJkaXJcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTERpdkVsZW1lbnRcIjogW1xuICAgICAgICBcImRpdlwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MRG9jdW1lbnRcIjogW1xuICAgICAgICBcImRvY3VtZW50XCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxFbGVtZW50XCI6IFtcbiAgICAgICAgXCJlbGVtZW50XCIsXG4gICAgICAgIFwiYWJiclwiLFxuICAgICAgICBcImFkZHJlc3NcIixcbiAgICAgICAgXCJhcnRpY2xlXCIsXG4gICAgICAgIFwiYXNpZGVcIixcbiAgICAgICAgXCJiXCIsXG4gICAgICAgIFwiYmRpXCIsXG4gICAgICAgIFwiYmRvXCIsXG4gICAgICAgIFwiY2l0ZVwiLFxuICAgICAgICBcImNvZGVcIixcbiAgICAgICAgXCJjb21tYW5kXCIsXG4gICAgICAgIFwiZGRcIixcbiAgICAgICAgXCJkZm5cIixcbiAgICAgICAgXCJkdFwiLFxuICAgICAgICBcImVtXCIsXG4gICAgICAgIFwiZmlnY2FwdGlvblwiLFxuICAgICAgICBcImZpZ3VyZVwiLFxuICAgICAgICBcImZvb3RlclwiLFxuICAgICAgICBcImhlYWRlclwiLFxuICAgICAgICBcImlcIixcbiAgICAgICAgXCJrYmRcIixcbiAgICAgICAgXCJtYXJrXCIsXG4gICAgICAgIFwibmF2XCIsXG4gICAgICAgIFwibm9zY3JpcHRcIixcbiAgICAgICAgXCJycFwiLFxuICAgICAgICBcInJ0XCIsXG4gICAgICAgIFwicnVieVwiLFxuICAgICAgICBcInNcIixcbiAgICAgICAgXCJzYW1wXCIsXG4gICAgICAgIFwic2VjdGlvblwiLFxuICAgICAgICBcInNtYWxsXCIsXG4gICAgICAgIFwic3Ryb25nXCIsXG4gICAgICAgIFwic3ViXCIsXG4gICAgICAgIFwic3VtbWFyeVwiLFxuICAgICAgICBcInN1cFwiLFxuICAgICAgICBcInVcIixcbiAgICAgICAgXCJ2YXJcIixcbiAgICAgICAgXCJ3YnJcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTEVtYmVkRWxlbWVudFwiOiBbXG4gICAgICAgIFwiZW1iZWRcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTEZpZWxkU2V0RWxlbWVudFwiOiBbXG4gICAgICAgIFwiZmllbGRzZXRcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTEZvbnRFbGVtZW50XCI6IFtcbiAgICAgICAgXCJmb250XCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxGb3JtRWxlbWVudFwiOiBbXG4gICAgICAgIFwiZm9ybVwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MRnJhbWVFbGVtZW50XCI6IFtcbiAgICAgICAgXCJmcmFtZVwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MRnJhbWVTZXRFbGVtZW50XCI6IFtcbiAgICAgICAgXCJmcmFtZXNldFwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MSFJFbGVtZW50XCI6IFtcbiAgICAgICAgXCJoclwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MSGVhZEVsZW1lbnRcIjogW1xuICAgICAgICBcImhlYWRcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTEhlYWRpbmdFbGVtZW50XCI6IFtcbiAgICAgICAgXCJoMVwiLFxuICAgICAgICBcImgyXCIsXG4gICAgICAgIFwiaDNcIixcbiAgICAgICAgXCJoNFwiLFxuICAgICAgICBcImg1XCIsXG4gICAgICAgIFwiaDZcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTEh0bWxFbGVtZW50XCI6IFtcbiAgICAgICAgXCJodG1sXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxJRnJhbWVFbGVtZW50XCI6IFtcbiAgICAgICAgXCJpZnJhbWVcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTEltYWdlRWxlbWVudFwiOiBbXG4gICAgICAgIFwiaW1nXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxJbnB1dEVsZW1lbnRcIjogW1xuICAgICAgICBcImlucHV0XCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxLZXlnZW5FbGVtZW50XCI6IFtcbiAgICAgICAgXCJrZXlnZW5cIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTExJRWxlbWVudFwiOiBbXG4gICAgICAgIFwibGlcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTExhYmVsRWxlbWVudFwiOiBbXG4gICAgICAgIFwibGFiZWxcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTExlZ2VuZEVsZW1lbnRcIjogW1xuICAgICAgICBcImxlZ2VuZFwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MTGlua0VsZW1lbnRcIjogW1xuICAgICAgICBcImxpbmtcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTE1hcEVsZW1lbnRcIjogW1xuICAgICAgICBcIm1hcFwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MTWFycXVlZUVsZW1lbnRcIjogW1xuICAgICAgICBcIm1hcnF1ZWVcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTE1lZGlhRWxlbWVudFwiOiBbXG4gICAgICAgIFwibWVkaWFcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTE1lbnVFbGVtZW50XCI6IFtcbiAgICAgICAgXCJtZW51XCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxNZW51SXRlbUVsZW1lbnRcIjogW1xuICAgICAgICBcIm1lbnVpdGVtXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxNZXRhRWxlbWVudFwiOiBbXG4gICAgICAgIFwibWV0YVwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MTWV0ZXJFbGVtZW50XCI6IFtcbiAgICAgICAgXCJtZXRlclwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MTW9kRWxlbWVudFwiOiBbXG4gICAgICAgIFwiZGVsXCIsXG4gICAgICAgIFwiaW5zXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxPTGlzdEVsZW1lbnRcIjogW1xuICAgICAgICBcIm9sXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxPYmplY3RFbGVtZW50XCI6IFtcbiAgICAgICAgXCJvYmplY3RcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTE9wdEdyb3VwRWxlbWVudFwiOiBbXG4gICAgICAgIFwib3B0Z3JvdXBcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTE9wdGlvbkVsZW1lbnRcIjogW1xuICAgICAgICBcIm9wdGlvblwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MT3V0cHV0RWxlbWVudFwiOiBbXG4gICAgICAgIFwib3V0cHV0XCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxQYXJhZ3JhcGhFbGVtZW50XCI6IFtcbiAgICAgICAgXCJwXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxQYXJhbUVsZW1lbnRcIjogW1xuICAgICAgICBcInBhcmFtXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxQaWN0dXJlRWxlbWVudFwiOiBbXG4gICAgICAgIFwicGljdHVyZVwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MUHJlRWxlbWVudFwiOiBbXG4gICAgICAgIFwicHJlXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxQcm9ncmVzc0VsZW1lbnRcIjogW1xuICAgICAgICBcInByb2dyZXNzXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxRdW90ZUVsZW1lbnRcIjogW1xuICAgICAgICBcImJsb2NrcXVvdGVcIixcbiAgICAgICAgXCJxXCIsXG4gICAgICAgIFwicXVvdGVcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTFNjcmlwdEVsZW1lbnRcIjogW1xuICAgICAgICBcInNjcmlwdFwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MU2VsZWN0RWxlbWVudFwiOiBbXG4gICAgICAgIFwic2VsZWN0XCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxTaGFkb3dFbGVtZW50XCI6IFtcbiAgICAgICAgXCJzaGFkb3dcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTFNsb3RFbGVtZW50XCI6IFtcbiAgICAgICAgXCJzbG90XCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxTb3VyY2VFbGVtZW50XCI6IFtcbiAgICAgICAgXCJzb3VyY2VcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTFNwYW5FbGVtZW50XCI6IFtcbiAgICAgICAgXCJzcGFuXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxTdHlsZUVsZW1lbnRcIjogW1xuICAgICAgICBcInN0eWxlXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxUYWJsZUNhcHRpb25FbGVtZW50XCI6IFtcbiAgICAgICAgXCJjYXB0aW9uXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxUYWJsZUNlbGxFbGVtZW50XCI6IFtcbiAgICAgICAgXCJ0ZFwiLFxuICAgICAgICBcInRoXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxUYWJsZUNvbEVsZW1lbnRcIjogW1xuICAgICAgICBcImNvbFwiLFxuICAgICAgICBcImNvbGdyb3VwXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxUYWJsZUVsZW1lbnRcIjogW1xuICAgICAgICBcInRhYmxlXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxUYWJsZVJvd0VsZW1lbnRcIjogW1xuICAgICAgICBcInRyXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxUYWJsZVNlY3Rpb25FbGVtZW50XCI6IFtcbiAgICAgICAgXCJ0aGVhZFwiLFxuICAgICAgICBcInRib2R5XCIsXG4gICAgICAgIFwidGZvb3RcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTFRlbXBsYXRlRWxlbWVudFwiOiBbXG4gICAgICAgIFwidGVtcGxhdGVcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTFRleHRBcmVhRWxlbWVudFwiOiBbXG4gICAgICAgIFwidGV4dGFyZWFcIlxuICAgICAgXSxcbiAgICAgIFwiSFRNTFRpbWVFbGVtZW50XCI6IFtcbiAgICAgICAgXCJ0aW1lXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxUaXRsZUVsZW1lbnRcIjogW1xuICAgICAgICBcInRpdGxlXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxUcmFja0VsZW1lbnRcIjogW1xuICAgICAgICBcInRyYWNrXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxVTGlzdEVsZW1lbnRcIjogW1xuICAgICAgICBcInVsXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxVbmtub3duRWxlbWVudFwiOiBbXG4gICAgICAgIFwidW5rbm93blwiLFxuICAgICAgICBcInZoZ3JvdXB2XCIsXG4gICAgICAgIFwidmtleWdlblwiXG4gICAgICBdLFxuICAgICAgXCJIVE1MVmlkZW9FbGVtZW50XCI6IFtcbiAgICAgICAgXCJ2aWRlb1wiXG4gICAgICBdXG4gICAgfSxcbiAgICBcIm5vZGVzXCI6IHtcbiAgICAgIFwiQXR0clwiOiBbXG4gICAgICAgIFwibm9kZVwiXG4gICAgICBdLFxuICAgICAgXCJBdWRpb1wiOiBbXG4gICAgICAgIFwiYXVkaW9cIlxuICAgICAgXSxcbiAgICAgIFwiQ0RBVEFTZWN0aW9uXCI6IFtcbiAgICAgICAgXCJub2RlXCJcbiAgICAgIF0sXG4gICAgICBcIkNoYXJhY3RlckRhdGFcIjogW1xuICAgICAgICBcIm5vZGVcIlxuICAgICAgXSxcbiAgICAgIFwiQ29tbWVudFwiOiBbXG4gICAgICAgIFwiI2NvbW1lbnRcIlxuICAgICAgXSxcbiAgICAgIFwiRG9jdW1lbnRcIjogW1xuICAgICAgICBcIiNkb2N1bWVudFwiXG4gICAgICBdLFxuICAgICAgXCJEb2N1bWVudEZyYWdtZW50XCI6IFtcbiAgICAgICAgXCIjZG9jdW1lbnQtZnJhZ21lbnRcIlxuICAgICAgXSxcbiAgICAgIFwiRG9jdW1lbnRUeXBlXCI6IFtcbiAgICAgICAgXCJub2RlXCJcbiAgICAgIF0sXG4gICAgICBcIkhUTUxEb2N1bWVudFwiOiBbXG4gICAgICAgIFwiI2RvY3VtZW50XCJcbiAgICAgIF0sXG4gICAgICBcIkltYWdlXCI6IFtcbiAgICAgICAgXCJpbWdcIlxuICAgICAgXSxcbiAgICAgIFwiT3B0aW9uXCI6IFtcbiAgICAgICAgXCJvcHRpb25cIlxuICAgICAgXSxcbiAgICAgIFwiUHJvY2Vzc2luZ0luc3RydWN0aW9uXCI6IFtcbiAgICAgICAgXCJub2RlXCJcbiAgICAgIF0sXG4gICAgICBcIlNoYWRvd1Jvb3RcIjogW1xuICAgICAgICBcIiNzaGFkb3ctcm9vdFwiXG4gICAgICBdLFxuICAgICAgXCJUZXh0XCI6IFtcbiAgICAgICAgXCIjdGV4dFwiXG4gICAgICBdLFxuICAgICAgXCJYTUxEb2N1bWVudFwiOiBbXG4gICAgICAgIFwieG1sXCJcbiAgICAgIF1cbiAgICB9XG4gIH0pKTtcbiAgXG4gIFxuICAgIFxuICAvLyBwYXNzZWQgYXQgcnVudGltZSwgY29uZmlndXJhYmxlXG4gIC8vIHZpYSBub2RlanMgbW9kdWxlXG4gIGlmICghcG9seWZpbGwpIHBvbHlmaWxsID0gJ2F1dG8nO1xuICBcbiAgdmFyXG4gICAgLy8gVjAgcG9seWZpbGwgZW50cnlcbiAgICBSRUdJU1RFUl9FTEVNRU5UID0gJ3JlZ2lzdGVyRWxlbWVudCcsXG4gIFxuICAgIC8vIElFIDwgMTEgb25seSArIG9sZCBXZWJLaXQgZm9yIGF0dHJpYnV0ZXMgKyBmZWF0dXJlIGRldGVjdGlvblxuICAgIEVYUEFORE9fVUlEID0gJ19fJyArIFJFR0lTVEVSX0VMRU1FTlQgKyAod2luZG93Lk1hdGgucmFuZG9tKCkgKiAxMGU0ID4+IDApLFxuICBcbiAgICAvLyBzaG9ydGN1dHMgYW5kIGNvc3RhbnRzXG4gICAgQUREX0VWRU5UX0xJU1RFTkVSID0gJ2FkZEV2ZW50TGlzdGVuZXInLFxuICAgIEFUVEFDSEVEID0gJ2F0dGFjaGVkJyxcbiAgICBDQUxMQkFDSyA9ICdDYWxsYmFjaycsXG4gICAgREVUQUNIRUQgPSAnZGV0YWNoZWQnLFxuICAgIEVYVEVORFMgPSAnZXh0ZW5kcycsXG4gIFxuICAgIEFUVFJJQlVURV9DSEFOR0VEX0NBTExCQUNLID0gJ2F0dHJpYnV0ZUNoYW5nZWQnICsgQ0FMTEJBQ0ssXG4gICAgQVRUQUNIRURfQ0FMTEJBQ0sgPSBBVFRBQ0hFRCArIENBTExCQUNLLFxuICAgIENPTk5FQ1RFRF9DQUxMQkFDSyA9ICdjb25uZWN0ZWQnICsgQ0FMTEJBQ0ssXG4gICAgRElTQ09OTkVDVEVEX0NBTExCQUNLID0gJ2Rpc2Nvbm5lY3RlZCcgKyBDQUxMQkFDSyxcbiAgICBDUkVBVEVEX0NBTExCQUNLID0gJ2NyZWF0ZWQnICsgQ0FMTEJBQ0ssXG4gICAgREVUQUNIRURfQ0FMTEJBQ0sgPSBERVRBQ0hFRCArIENBTExCQUNLLFxuICBcbiAgICBBRERJVElPTiA9ICdBRERJVElPTicsXG4gICAgTU9ESUZJQ0FUSU9OID0gJ01PRElGSUNBVElPTicsXG4gICAgUkVNT1ZBTCA9ICdSRU1PVkFMJyxcbiAgXG4gICAgRE9NX0FUVFJfTU9ESUZJRUQgPSAnRE9NQXR0ck1vZGlmaWVkJyxcbiAgICBET01fQ09OVEVOVF9MT0FERUQgPSAnRE9NQ29udGVudExvYWRlZCcsXG4gICAgRE9NX1NVQlRSRUVfTU9ESUZJRUQgPSAnRE9NU3VidHJlZU1vZGlmaWVkJyxcbiAgXG4gICAgUFJFRklYX1RBRyA9ICc8JyxcbiAgICBQUkVGSVhfSVMgPSAnPScsXG4gIFxuICAgIC8vIHZhbGlkIGFuZCBpbnZhbGlkIG5vZGUgbmFtZXNcbiAgICB2YWxpZE5hbWUgPSAvXltBLVpdW0EtWjAtOV0qKD86LVtBLVowLTldKykrJC8sXG4gICAgaW52YWxpZE5hbWVzID0gW1xuICAgICAgJ0FOTk9UQVRJT04tWE1MJyxcbiAgICAgICdDT0xPUi1QUk9GSUxFJyxcbiAgICAgICdGT05ULUZBQ0UnLFxuICAgICAgJ0ZPTlQtRkFDRS1TUkMnLFxuICAgICAgJ0ZPTlQtRkFDRS1VUkknLFxuICAgICAgJ0ZPTlQtRkFDRS1GT1JNQVQnLFxuICAgICAgJ0ZPTlQtRkFDRS1OQU1FJyxcbiAgICAgICdNSVNTSU5HLUdMWVBIJ1xuICAgIF0sXG4gIFxuICAgIC8vIHJlZ2lzdGVyZWQgdHlwZXMgYW5kIHRoZWlyIHByb3RvdHlwZXNcbiAgICB0eXBlcyA9IFtdLFxuICAgIHByb3RvcyA9IFtdLFxuICBcbiAgICAvLyB0byBxdWVyeSBzdWJub2Rlc1xuICAgIHF1ZXJ5ID0gJycsXG4gIFxuICAgIC8vIGh0bWwgc2hvcnRjdXQgdXNlZCB0byBmZWF0dXJlIGRldGVjdFxuICAgIGRvY3VtZW50RWxlbWVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxcbiAgXG4gICAgLy8gRVM1IGlubGluZSBoZWxwZXJzIHx8IGJhc2ljIHBhdGNoZXNcbiAgICBpbmRleE9mID0gdHlwZXMuaW5kZXhPZiB8fCBmdW5jdGlvbiAodikge1xuICAgICAgZm9yKHZhciBpID0gdGhpcy5sZW5ndGg7IGktLSAmJiB0aGlzW2ldICE9PSB2Oyl7fVxuICAgICAgcmV0dXJuIGk7XG4gICAgfSxcbiAgXG4gICAgLy8gb3RoZXIgaGVscGVycyAvIHNob3J0Y3V0c1xuICAgIE9QID0gT2JqZWN0LnByb3RvdHlwZSxcbiAgICBoT1AgPSBPUC5oYXNPd25Qcm9wZXJ0eSxcbiAgICBpUE8gPSBPUC5pc1Byb3RvdHlwZU9mLFxuICBcbiAgICBkZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSxcbiAgICBlbXB0eSA9IFtdLFxuICAgIGdPUEQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFxuICAgIGdPUE4gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyxcbiAgICBnUE8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YsXG4gICAgc1BPID0gT2JqZWN0LnNldFByb3RvdHlwZU9mLFxuICBcbiAgICAvLyBqc2hpbnQgcHJvdG86IHRydWVcbiAgICBoYXNQcm90byA9ICEhT2JqZWN0Ll9fcHJvdG9fXyxcbiAgXG4gICAgLy8gVjEgaGVscGVyc1xuICAgIGZpeEdldENsYXNzID0gZmFsc2UsXG4gICAgRFJFQ0VWMSA9ICdfX2RyZUNFdjEnLFxuICAgIGN1c3RvbUVsZW1lbnRzID0gd2luZG93LmN1c3RvbUVsZW1lbnRzLFxuICAgIHVzYWJsZUN1c3RvbUVsZW1lbnRzID0gcG9seWZpbGwgIT09ICdmb3JjZScgJiYgISEoXG4gICAgICBjdXN0b21FbGVtZW50cyAmJlxuICAgICAgY3VzdG9tRWxlbWVudHMuZGVmaW5lICYmXG4gICAgICBjdXN0b21FbGVtZW50cy5nZXQgJiZcbiAgICAgIGN1c3RvbUVsZW1lbnRzLndoZW5EZWZpbmVkXG4gICAgKSxcbiAgICBEaWN0ID0gT2JqZWN0LmNyZWF0ZSB8fCBPYmplY3QsXG4gICAgTWFwID0gd2luZG93Lk1hcCB8fCBmdW5jdGlvbiBNYXAoKSB7XG4gICAgICB2YXIgSyA9IFtdLCBWID0gW10sIGk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uIChrKSB7XG4gICAgICAgICAgcmV0dXJuIFZbaW5kZXhPZi5jYWxsKEssIGspXTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoaywgdikge1xuICAgICAgICAgIGkgPSBpbmRleE9mLmNhbGwoSywgayk7XG4gICAgICAgICAgaWYgKGkgPCAwKSBWW0sucHVzaChrKSAtIDFdID0gdjtcbiAgICAgICAgICBlbHNlIFZbaV0gPSB2O1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0sXG4gICAgUHJvbWlzZSA9IHdpbmRvdy5Qcm9taXNlIHx8IGZ1bmN0aW9uIChmbikge1xuICAgICAgdmFyXG4gICAgICAgIG5vdGlmeSA9IFtdLFxuICAgICAgICBkb25lID0gZmFsc2UsXG4gICAgICAgIHAgPSB7XG4gICAgICAgICAgJ2NhdGNoJzogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHA7XG4gICAgICAgICAgfSxcbiAgICAgICAgICAndGhlbic6IGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgICAgbm90aWZ5LnB1c2goY2IpO1xuICAgICAgICAgICAgaWYgKGRvbmUpIHNldFRpbWVvdXQocmVzb2x2ZSwgMSk7XG4gICAgICAgICAgICByZXR1cm4gcDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIDtcbiAgICAgIGZ1bmN0aW9uIHJlc29sdmUodmFsdWUpIHtcbiAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgIHdoaWxlIChub3RpZnkubGVuZ3RoKSBub3RpZnkuc2hpZnQoKSh2YWx1ZSk7XG4gICAgICB9XG4gICAgICBmbihyZXNvbHZlKTtcbiAgICAgIHJldHVybiBwO1xuICAgIH0sXG4gICAganVzdENyZWF0ZWQgPSBmYWxzZSxcbiAgICBjb25zdHJ1Y3RvcnMgPSBEaWN0KG51bGwpLFxuICAgIHdhaXRpbmdMaXN0ID0gRGljdChudWxsKSxcbiAgICBub2RlTmFtZXMgPSBuZXcgTWFwKCksXG4gICAgc2Vjb25kQXJndW1lbnQgPSBTdHJpbmcsXG4gIFxuICAgIC8vIHVzZWQgdG8gY3JlYXRlIHVuaXF1ZSBpbnN0YW5jZXNcbiAgICBjcmVhdGUgPSBPYmplY3QuY3JlYXRlIHx8IGZ1bmN0aW9uIEJyaWRnZShwcm90bykge1xuICAgICAgLy8gc2lsbHkgYnJva2VuIHBvbHlmaWxsIHByb2JhYmx5IGV2ZXIgdXNlZCBidXQgc2hvcnQgZW5vdWdoIHRvIHdvcmtcbiAgICAgIHJldHVybiBwcm90byA/ICgoQnJpZGdlLnByb3RvdHlwZSA9IHByb3RvKSwgbmV3IEJyaWRnZSgpKSA6IHRoaXM7XG4gICAgfSxcbiAgXG4gICAgLy8gd2lsbCBzZXQgdGhlIHByb3RvdHlwZSBpZiBwb3NzaWJsZVxuICAgIC8vIG9yIGNvcHkgb3ZlciBhbGwgcHJvcGVydGllc1xuICAgIHNldFByb3RvdHlwZSA9IHNQTyB8fCAoXG4gICAgICBoYXNQcm90byA/XG4gICAgICAgIGZ1bmN0aW9uIChvLCBwKSB7XG4gICAgICAgICAgby5fX3Byb3RvX18gPSBwO1xuICAgICAgICAgIHJldHVybiBvO1xuICAgICAgICB9IDogKFxuICAgICAgKGdPUE4gJiYgZ09QRCkgP1xuICAgICAgICAoZnVuY3Rpb24oKXtcbiAgICAgICAgICBmdW5jdGlvbiBzZXRQcm9wZXJ0aWVzKG8sIHApIHtcbiAgICAgICAgICAgIGZvciAodmFyXG4gICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgbmFtZXMgPSBnT1BOKHApLFxuICAgICAgICAgICAgICBpID0gMCwgbGVuZ3RoID0gbmFtZXMubGVuZ3RoO1xuICAgICAgICAgICAgICBpIDwgbGVuZ3RoOyBpKytcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBrZXkgPSBuYW1lc1tpXTtcbiAgICAgICAgICAgICAgaWYgKCFoT1AuY2FsbChvLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgZGVmaW5lUHJvcGVydHkobywga2V5LCBnT1BEKHAsIGtleSkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAobywgcCkge1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICBzZXRQcm9wZXJ0aWVzKG8sIHApO1xuICAgICAgICAgICAgfSB3aGlsZSAoKHAgPSBnUE8ocCkpICYmICFpUE8uY2FsbChwLCBvKSk7XG4gICAgICAgICAgICByZXR1cm4gbztcbiAgICAgICAgICB9O1xuICAgICAgICB9KCkpIDpcbiAgICAgICAgZnVuY3Rpb24gKG8sIHApIHtcbiAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gcCkge1xuICAgICAgICAgICAgb1trZXldID0gcFtrZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbztcbiAgICAgICAgfVxuICAgICkpLFxuICBcbiAgICAvLyBET00gc2hvcnRjdXRzIGFuZCBoZWxwZXJzLCBpZiBhbnlcbiAgXG4gICAgTXV0YXRpb25PYnNlcnZlciA9IHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyIHx8XG4gICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyLFxuICBcbiAgICBIVE1MRWxlbWVudFByb3RvdHlwZSA9IChcbiAgICAgIHdpbmRvdy5IVE1MRWxlbWVudCB8fFxuICAgICAgd2luZG93LkVsZW1lbnQgfHxcbiAgICAgIHdpbmRvdy5Ob2RlXG4gICAgKS5wcm90b3R5cGUsXG4gIFxuICAgIElFOCA9ICFpUE8uY2FsbChIVE1MRWxlbWVudFByb3RvdHlwZSwgZG9jdW1lbnRFbGVtZW50KSxcbiAgXG4gICAgc2FmZVByb3BlcnR5ID0gSUU4ID8gZnVuY3Rpb24gKG8sIGssIGQpIHtcbiAgICAgIG9ba10gPSBkLnZhbHVlO1xuICAgICAgcmV0dXJuIG87XG4gICAgfSA6IGRlZmluZVByb3BlcnR5LFxuICBcbiAgICBpc1ZhbGlkTm9kZSA9IElFOCA/XG4gICAgICBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICByZXR1cm4gbm9kZS5ub2RlVHlwZSA9PT0gMTtcbiAgICAgIH0gOlxuICAgICAgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIGlQTy5jYWxsKEhUTUxFbGVtZW50UHJvdG90eXBlLCBub2RlKTtcbiAgICAgIH0sXG4gIFxuICAgIHRhcmdldHMgPSBJRTggJiYgW10sXG4gIFxuICAgIGF0dGFjaFNoYWRvdyA9IEhUTUxFbGVtZW50UHJvdG90eXBlLmF0dGFjaFNoYWRvdyxcbiAgICBjbG9uZU5vZGUgPSBIVE1MRWxlbWVudFByb3RvdHlwZS5jbG9uZU5vZGUsXG4gICAgZGlzcGF0Y2hFdmVudCA9IEhUTUxFbGVtZW50UHJvdG90eXBlLmRpc3BhdGNoRXZlbnQsXG4gICAgZ2V0QXR0cmlidXRlID0gSFRNTEVsZW1lbnRQcm90b3R5cGUuZ2V0QXR0cmlidXRlLFxuICAgIGhhc0F0dHJpYnV0ZSA9IEhUTUxFbGVtZW50UHJvdG90eXBlLmhhc0F0dHJpYnV0ZSxcbiAgICByZW1vdmVBdHRyaWJ1dGUgPSBIVE1MRWxlbWVudFByb3RvdHlwZS5yZW1vdmVBdHRyaWJ1dGUsXG4gICAgc2V0QXR0cmlidXRlID0gSFRNTEVsZW1lbnRQcm90b3R5cGUuc2V0QXR0cmlidXRlLFxuICBcbiAgICAvLyByZXBsYWNlZCBsYXRlciBvblxuICAgIGNyZWF0ZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50LFxuICAgIHBhdGNoZWRDcmVhdGVFbGVtZW50ID0gY3JlYXRlRWxlbWVudCxcbiAgXG4gICAgLy8gc2hhcmVkIG9ic2VydmVyIGZvciBhbGwgYXR0cmlidXRlc1xuICAgIGF0dHJpYnV0ZXNPYnNlcnZlciA9IE11dGF0aW9uT2JzZXJ2ZXIgJiYge1xuICAgICAgYXR0cmlidXRlczogdHJ1ZSxcbiAgICAgIGNoYXJhY3RlckRhdGE6IHRydWUsXG4gICAgICBhdHRyaWJ1dGVPbGRWYWx1ZTogdHJ1ZVxuICAgIH0sXG4gIFxuICAgIC8vIHVzZWZ1bCB0byBkZXRlY3Qgb25seSBpZiB0aGVyZSdzIG5vIE11dGF0aW9uT2JzZXJ2ZXJcbiAgICBET01BdHRyTW9kaWZpZWQgPSBNdXRhdGlvbk9ic2VydmVyIHx8IGZ1bmN0aW9uKGUpIHtcbiAgICAgIGRvZXNOb3RTdXBwb3J0RE9NQXR0ck1vZGlmaWVkID0gZmFsc2U7XG4gICAgICBkb2N1bWVudEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgRE9NX0FUVFJfTU9ESUZJRUQsXG4gICAgICAgIERPTUF0dHJNb2RpZmllZFxuICAgICAgKTtcbiAgICB9LFxuICBcbiAgICAvLyB3aWxsIGJvdGggYmUgdXNlZCB0byBtYWtlIERPTU5vZGVJbnNlcnRlZCBhc3luY2hyb25vdXNcbiAgICBhc2FwUXVldWUsXG4gICAgYXNhcFRpbWVyID0gMCxcbiAgXG4gICAgLy8gaW50ZXJuYWwgZmxhZ3NcbiAgICBWMCA9IFJFR0lTVEVSX0VMRU1FTlQgaW4gZG9jdW1lbnQsXG4gICAgc2V0TGlzdGVuZXIgPSB0cnVlLFxuICAgIGp1c3RTZXR1cCA9IGZhbHNlLFxuICAgIGRvZXNOb3RTdXBwb3J0RE9NQXR0ck1vZGlmaWVkID0gdHJ1ZSxcbiAgICBkcm9wRG9tQ29udGVudExvYWRlZCA9IHRydWUsXG4gIFxuICAgIC8vIG5lZWRlZCBmb3IgdGhlIGlubmVySFRNTCBoZWxwZXJcbiAgICBub3RGcm9tSW5uZXJIVE1MSGVscGVyID0gdHJ1ZSxcbiAgXG4gICAgLy8gb3B0aW9uYWxseSBkZWZpbmVkIGxhdGVyIG9uXG4gICAgb25TdWJ0cmVlTW9kaWZpZWQsXG4gICAgY2FsbERPTUF0dHJNb2RpZmllZCxcbiAgICBnZXRBdHRyaWJ1dGVzTWlycm9yLFxuICAgIG9ic2VydmVyLFxuICAgIG9ic2VydmUsXG4gIFxuICAgIC8vIGJhc2VkIG9uIHNldHRpbmcgcHJvdG90eXBlIGNhcGFiaWxpdHlcbiAgICAvLyB3aWxsIGNoZWNrIHByb3RvIG9yIHRoZSBleHBhbmRvIGF0dHJpYnV0ZVxuICAgIC8vIGluIG9yZGVyIHRvIHNldHVwIHRoZSBub2RlIG9uY2VcbiAgICBwYXRjaElmTm90QWxyZWFkeSxcbiAgICBwYXRjaFxuICA7XG4gIFxuICAvLyBvbmx5IGlmIG5lZWRlZFxuICBpZiAoIVYwKSB7XG4gIFxuICAgIGlmIChzUE8gfHwgaGFzUHJvdG8pIHtcbiAgICAgICAgcGF0Y2hJZk5vdEFscmVhZHkgPSBmdW5jdGlvbiAobm9kZSwgcHJvdG8pIHtcbiAgICAgICAgICBpZiAoIWlQTy5jYWxsKHByb3RvLCBub2RlKSkge1xuICAgICAgICAgICAgc2V0dXBOb2RlKG5vZGUsIHByb3RvKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHBhdGNoID0gc2V0dXBOb2RlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHBhdGNoSWZOb3RBbHJlYWR5ID0gZnVuY3Rpb24gKG5vZGUsIHByb3RvKSB7XG4gICAgICAgICAgaWYgKCFub2RlW0VYUEFORE9fVUlEXSkge1xuICAgICAgICAgICAgbm9kZVtFWFBBTkRPX1VJRF0gPSBPYmplY3QodHJ1ZSk7XG4gICAgICAgICAgICBzZXR1cE5vZGUobm9kZSwgcHJvdG8pO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcGF0Y2ggPSBwYXRjaElmTm90QWxyZWFkeTtcbiAgICB9XG4gIFxuICAgIGlmIChJRTgpIHtcbiAgICAgIGRvZXNOb3RTdXBwb3J0RE9NQXR0ck1vZGlmaWVkID0gZmFsc2U7XG4gICAgICAoZnVuY3Rpb24gKCl7XG4gICAgICAgIHZhclxuICAgICAgICAgIGRlc2NyaXB0b3IgPSBnT1BEKEhUTUxFbGVtZW50UHJvdG90eXBlLCBBRERfRVZFTlRfTElTVEVORVIpLFxuICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXIgPSBkZXNjcmlwdG9yLnZhbHVlLFxuICAgICAgICAgIHBhdGNoZWRSZW1vdmVBdHRyaWJ1dGUgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgdmFyIGUgPSBuZXcgQ3VzdG9tRXZlbnQoRE9NX0FUVFJfTU9ESUZJRUQsIHtidWJibGVzOiB0cnVlfSk7XG4gICAgICAgICAgICBlLmF0dHJOYW1lID0gbmFtZTtcbiAgICAgICAgICAgIGUucHJldlZhbHVlID0gZ2V0QXR0cmlidXRlLmNhbGwodGhpcywgbmFtZSk7XG4gICAgICAgICAgICBlLm5ld1ZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgIGVbUkVNT1ZBTF0gPSBlLmF0dHJDaGFuZ2UgPSAyO1xuICAgICAgICAgICAgcmVtb3ZlQXR0cmlidXRlLmNhbGwodGhpcywgbmFtZSk7XG4gICAgICAgICAgICBkaXNwYXRjaEV2ZW50LmNhbGwodGhpcywgZSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBwYXRjaGVkU2V0QXR0cmlidXRlID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgaGFkID0gaGFzQXR0cmlidXRlLmNhbGwodGhpcywgbmFtZSksXG4gICAgICAgICAgICAgIG9sZCA9IGhhZCAmJiBnZXRBdHRyaWJ1dGUuY2FsbCh0aGlzLCBuYW1lKSxcbiAgICAgICAgICAgICAgZSA9IG5ldyBDdXN0b21FdmVudChET01fQVRUUl9NT0RJRklFRCwge2J1YmJsZXM6IHRydWV9KVxuICAgICAgICAgICAgO1xuICAgICAgICAgICAgc2V0QXR0cmlidXRlLmNhbGwodGhpcywgbmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgZS5hdHRyTmFtZSA9IG5hbWU7XG4gICAgICAgICAgICBlLnByZXZWYWx1ZSA9IGhhZCA/IG9sZCA6IG51bGw7XG4gICAgICAgICAgICBlLm5ld1ZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICBpZiAoaGFkKSB7XG4gICAgICAgICAgICAgIGVbTU9ESUZJQ0FUSU9OXSA9IGUuYXR0ckNoYW5nZSA9IDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBlW0FERElUSU9OXSA9IGUuYXR0ckNoYW5nZSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkaXNwYXRjaEV2ZW50LmNhbGwodGhpcywgZSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvblByb3BlcnR5Q2hhbmdlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIC8vIGpzaGludCBlcW51bGw6dHJ1ZVxuICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgIG5vZGUgPSBlLmN1cnJlbnRUYXJnZXQsXG4gICAgICAgICAgICAgIHN1cGVyU2VjcmV0ID0gbm9kZVtFWFBBTkRPX1VJRF0sXG4gICAgICAgICAgICAgIHByb3BlcnR5TmFtZSA9IGUucHJvcGVydHlOYW1lLFxuICAgICAgICAgICAgICBldmVudFxuICAgICAgICAgICAgO1xuICAgICAgICAgICAgaWYgKHN1cGVyU2VjcmV0Lmhhc093blByb3BlcnR5KHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICAgICAgc3VwZXJTZWNyZXQgPSBzdXBlclNlY3JldFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICAgICAgICBldmVudCA9IG5ldyBDdXN0b21FdmVudChET01fQVRUUl9NT0RJRklFRCwge2J1YmJsZXM6IHRydWV9KTtcbiAgICAgICAgICAgICAgZXZlbnQuYXR0ck5hbWUgPSBzdXBlclNlY3JldC5uYW1lO1xuICAgICAgICAgICAgICBldmVudC5wcmV2VmFsdWUgPSBzdXBlclNlY3JldC52YWx1ZSB8fCBudWxsO1xuICAgICAgICAgICAgICBldmVudC5uZXdWYWx1ZSA9IChzdXBlclNlY3JldC52YWx1ZSA9IG5vZGVbcHJvcGVydHlOYW1lXSB8fCBudWxsKTtcbiAgICAgICAgICAgICAgaWYgKGV2ZW50LnByZXZWYWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZXZlbnRbQURESVRJT05dID0gZXZlbnQuYXR0ckNoYW5nZSA9IDA7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZXZlbnRbTU9ESUZJQ0FUSU9OXSA9IGV2ZW50LmF0dHJDaGFuZ2UgPSAxO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGRpc3BhdGNoRXZlbnQuY2FsbChub2RlLCBldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICA7XG4gICAgICAgIGRlc2NyaXB0b3IudmFsdWUgPSBmdW5jdGlvbiAodHlwZSwgaGFuZGxlciwgY2FwdHVyZSkge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHR5cGUgPT09IERPTV9BVFRSX01PRElGSUVEICYmXG4gICAgICAgICAgICB0aGlzW0FUVFJJQlVURV9DSEFOR0VEX0NBTExCQUNLXSAmJlxuICAgICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUgIT09IHBhdGNoZWRTZXRBdHRyaWJ1dGVcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHRoaXNbRVhQQU5ET19VSURdID0ge1xuICAgICAgICAgICAgICBjbGFzc05hbWU6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnY2xhc3MnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLmNsYXNzTmFtZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUgPSBwYXRjaGVkU2V0QXR0cmlidXRlO1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUgPSBwYXRjaGVkUmVtb3ZlQXR0cmlidXRlO1xuICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lci5jYWxsKHRoaXMsICdwcm9wZXJ0eWNoYW5nZScsIG9uUHJvcGVydHlDaGFuZ2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhZGRFdmVudExpc3RlbmVyLmNhbGwodGhpcywgdHlwZSwgaGFuZGxlciwgY2FwdHVyZSk7XG4gICAgICAgIH07XG4gICAgICAgIGRlZmluZVByb3BlcnR5KEhUTUxFbGVtZW50UHJvdG90eXBlLCBBRERfRVZFTlRfTElTVEVORVIsIGRlc2NyaXB0b3IpO1xuICAgICAgfSgpKTtcbiAgICB9IGVsc2UgaWYgKCFNdXRhdGlvbk9ic2VydmVyKSB7XG4gICAgICBkb2N1bWVudEVsZW1lbnRbQUREX0VWRU5UX0xJU1RFTkVSXShET01fQVRUUl9NT0RJRklFRCwgRE9NQXR0ck1vZGlmaWVkKTtcbiAgICAgIGRvY3VtZW50RWxlbWVudC5zZXRBdHRyaWJ1dGUoRVhQQU5ET19VSUQsIDEpO1xuICAgICAgZG9jdW1lbnRFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShFWFBBTkRPX1VJRCk7XG4gICAgICBpZiAoZG9lc05vdFN1cHBvcnRET01BdHRyTW9kaWZpZWQpIHtcbiAgICAgICAgb25TdWJ0cmVlTW9kaWZpZWQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIHZhclxuICAgICAgICAgICAgbm9kZSA9IHRoaXMsXG4gICAgICAgICAgICBvbGRBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgbmV3QXR0cmlidXRlcyxcbiAgICAgICAgICAgIGtleVxuICAgICAgICAgIDtcbiAgICAgICAgICBpZiAobm9kZSA9PT0gZS50YXJnZXQpIHtcbiAgICAgICAgICAgIG9sZEF0dHJpYnV0ZXMgPSBub2RlW0VYUEFORE9fVUlEXTtcbiAgICAgICAgICAgIG5vZGVbRVhQQU5ET19VSURdID0gKG5ld0F0dHJpYnV0ZXMgPSBnZXRBdHRyaWJ1dGVzTWlycm9yKG5vZGUpKTtcbiAgICAgICAgICAgIGZvciAoa2V5IGluIG5ld0F0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgICAgaWYgKCEoa2V5IGluIG9sZEF0dHJpYnV0ZXMpKSB7XG4gICAgICAgICAgICAgICAgLy8gYXR0cmlidXRlIHdhcyBhZGRlZFxuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsRE9NQXR0ck1vZGlmaWVkKFxuICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgICBvbGRBdHRyaWJ1dGVzW2tleV0sXG4gICAgICAgICAgICAgICAgICBuZXdBdHRyaWJ1dGVzW2tleV0sXG4gICAgICAgICAgICAgICAgICBBRERJVElPTlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAobmV3QXR0cmlidXRlc1trZXldICE9PSBvbGRBdHRyaWJ1dGVzW2tleV0pIHtcbiAgICAgICAgICAgICAgICAvLyBhdHRyaWJ1dGUgd2FzIGNoYW5nZWRcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbERPTUF0dHJNb2RpZmllZChcbiAgICAgICAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAgICAgICBub2RlLFxuICAgICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgICAgb2xkQXR0cmlidXRlc1trZXldLFxuICAgICAgICAgICAgICAgICAgbmV3QXR0cmlidXRlc1trZXldLFxuICAgICAgICAgICAgICAgICAgTU9ESUZJQ0FUSU9OXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY2hlY2tpbmcgaWYgaXQgaGFzIGJlZW4gcmVtb3ZlZFxuICAgICAgICAgICAgZm9yIChrZXkgaW4gb2xkQXR0cmlidXRlcykge1xuICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gbmV3QXR0cmlidXRlcykpIHtcbiAgICAgICAgICAgICAgICAvLyBhdHRyaWJ1dGUgcmVtb3ZlZFxuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsRE9NQXR0ck1vZGlmaWVkKFxuICAgICAgICAgICAgICAgICAgMixcbiAgICAgICAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgICBvbGRBdHRyaWJ1dGVzW2tleV0sXG4gICAgICAgICAgICAgICAgICBuZXdBdHRyaWJ1dGVzW2tleV0sXG4gICAgICAgICAgICAgICAgICBSRU1PVkFMXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY2FsbERPTUF0dHJNb2RpZmllZCA9IGZ1bmN0aW9uIChcbiAgICAgICAgICBhdHRyQ2hhbmdlLFxuICAgICAgICAgIGN1cnJlbnRUYXJnZXQsXG4gICAgICAgICAgYXR0ck5hbWUsXG4gICAgICAgICAgcHJldlZhbHVlLFxuICAgICAgICAgIG5ld1ZhbHVlLFxuICAgICAgICAgIGFjdGlvblxuICAgICAgICApIHtcbiAgICAgICAgICB2YXIgZSA9IHtcbiAgICAgICAgICAgIGF0dHJDaGFuZ2U6IGF0dHJDaGFuZ2UsXG4gICAgICAgICAgICBjdXJyZW50VGFyZ2V0OiBjdXJyZW50VGFyZ2V0LFxuICAgICAgICAgICAgYXR0ck5hbWU6IGF0dHJOYW1lLFxuICAgICAgICAgICAgcHJldlZhbHVlOiBwcmV2VmFsdWUsXG4gICAgICAgICAgICBuZXdWYWx1ZTogbmV3VmFsdWVcbiAgICAgICAgICB9O1xuICAgICAgICAgIGVbYWN0aW9uXSA9IGF0dHJDaGFuZ2U7XG4gICAgICAgICAgb25ET01BdHRyTW9kaWZpZWQoZSk7XG4gICAgICAgIH07XG4gICAgICAgIGdldEF0dHJpYnV0ZXNNaXJyb3IgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgIGZvciAodmFyXG4gICAgICAgICAgICBhdHRyLCBuYW1lLFxuICAgICAgICAgICAgcmVzdWx0ID0ge30sXG4gICAgICAgICAgICBhdHRyaWJ1dGVzID0gbm9kZS5hdHRyaWJ1dGVzLFxuICAgICAgICAgICAgaSA9IDAsIGxlbmd0aCA9IGF0dHJpYnV0ZXMubGVuZ3RoO1xuICAgICAgICAgICAgaSA8IGxlbmd0aDsgaSsrXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBhdHRyID0gYXR0cmlidXRlc1tpXTtcbiAgICAgICAgICAgIG5hbWUgPSBhdHRyLm5hbWU7XG4gICAgICAgICAgICBpZiAobmFtZSAhPT0gJ3NldEF0dHJpYnV0ZScpIHtcbiAgICAgICAgICAgICAgcmVzdWx0W25hbWVdID0gYXR0ci52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gIFxuICAgIC8vIHNldCBhcyBlbnVtZXJhYmxlLCB3cml0YWJsZSBhbmQgY29uZmlndXJhYmxlXG4gICAgZG9jdW1lbnRbUkVHSVNURVJfRUxFTUVOVF0gPSBmdW5jdGlvbiByZWdpc3RlckVsZW1lbnQodHlwZSwgb3B0aW9ucykge1xuICAgICAgdXBwZXJUeXBlID0gdHlwZS50b1VwcGVyQ2FzZSgpO1xuICAgICAgaWYgKHNldExpc3RlbmVyKSB7XG4gICAgICAgIC8vIG9ubHkgZmlyc3QgdGltZSBkb2N1bWVudC5yZWdpc3RlckVsZW1lbnQgaXMgdXNlZFxuICAgICAgICAvLyB3ZSBuZWVkIHRvIHNldCB0aGlzIGxpc3RlbmVyXG4gICAgICAgIC8vIHNldHRpbmcgaXQgYnkgZGVmYXVsdCBtaWdodCBzbG93IGRvd24gZm9yIG5vIHJlYXNvblxuICAgICAgICBzZXRMaXN0ZW5lciA9IGZhbHNlO1xuICAgICAgICBpZiAoTXV0YXRpb25PYnNlcnZlcikge1xuICAgICAgICAgIG9ic2VydmVyID0gKGZ1bmN0aW9uKGF0dGFjaGVkLCBkZXRhY2hlZCl7XG4gICAgICAgICAgICBmdW5jdGlvbiBjaGVja0VtQWxsKGxpc3QsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBsaXN0Lmxlbmd0aDsgaSA8IGxlbmd0aDsgY2FsbGJhY2sobGlzdFtpKytdKSl7fVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uIChyZWNvcmRzKSB7XG4gICAgICAgICAgICAgIGZvciAodmFyXG4gICAgICAgICAgICAgICAgY3VycmVudCwgbm9kZSwgbmV3VmFsdWUsXG4gICAgICAgICAgICAgICAgaSA9IDAsIGxlbmd0aCA9IHJlY29yZHMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKytcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IHJlY29yZHNbaV07XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQudHlwZSA9PT0gJ2NoaWxkTGlzdCcpIHtcbiAgICAgICAgICAgICAgICAgIGNoZWNrRW1BbGwoY3VycmVudC5hZGRlZE5vZGVzLCBhdHRhY2hlZCk7XG4gICAgICAgICAgICAgICAgICBjaGVja0VtQWxsKGN1cnJlbnQucmVtb3ZlZE5vZGVzLCBkZXRhY2hlZCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIG5vZGUgPSBjdXJyZW50LnRhcmdldDtcbiAgICAgICAgICAgICAgICAgIGlmIChub3RGcm9tSW5uZXJIVE1MSGVscGVyICYmXG4gICAgICAgICAgICAgICAgICAgICAgbm9kZVtBVFRSSUJVVEVfQ0hBTkdFRF9DQUxMQkFDS10gJiZcbiAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50LmF0dHJpYnV0ZU5hbWUgIT09ICdzdHlsZScpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3VmFsdWUgPSBnZXRBdHRyaWJ1dGUuY2FsbChub2RlLCBjdXJyZW50LmF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV3VmFsdWUgIT09IGN1cnJlbnQub2xkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBub2RlW0FUVFJJQlVURV9DSEFOR0VEX0NBTExCQUNLXShcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQuYXR0cmlidXRlTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQub2xkVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdWYWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0oZXhlY3V0ZUFjdGlvbihBVFRBQ0hFRCksIGV4ZWN1dGVBY3Rpb24oREVUQUNIRUQpKSk7XG4gICAgICAgICAgb2JzZXJ2ZSA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKFxuICAgICAgICAgICAgICBub2RlLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgICAgICAgICAgICAgIHN1YnRyZWU6IHRydWVcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICAgIH07XG4gICAgICAgICAgb2JzZXJ2ZShkb2N1bWVudCk7XG4gICAgICAgICAgaWYgKGF0dGFjaFNoYWRvdykge1xuICAgICAgICAgICAgSFRNTEVsZW1lbnRQcm90b3R5cGUuYXR0YWNoU2hhZG93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICByZXR1cm4gb2JzZXJ2ZShhdHRhY2hTaGFkb3cuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhc2FwUXVldWUgPSBbXTtcbiAgICAgICAgICBkb2N1bWVudFtBRERfRVZFTlRfTElTVEVORVJdKCdET01Ob2RlSW5zZXJ0ZWQnLCBvbkRPTU5vZGUoQVRUQUNIRUQpKTtcbiAgICAgICAgICBkb2N1bWVudFtBRERfRVZFTlRfTElTVEVORVJdKCdET01Ob2RlUmVtb3ZlZCcsIG9uRE9NTm9kZShERVRBQ0hFRCkpO1xuICAgICAgICB9XG4gIFxuICAgICAgICBkb2N1bWVudFtBRERfRVZFTlRfTElTVEVORVJdKERPTV9DT05URU5UX0xPQURFRCwgb25SZWFkeVN0YXRlQ2hhbmdlKTtcbiAgICAgICAgZG9jdW1lbnRbQUREX0VWRU5UX0xJU1RFTkVSXSgncmVhZHlzdGF0ZWNoYW5nZScsIG9uUmVhZHlTdGF0ZUNoYW5nZSk7XG4gIFxuICAgICAgICBIVE1MRWxlbWVudFByb3RvdHlwZS5jbG9uZU5vZGUgPSBmdW5jdGlvbiAoZGVlcCkge1xuICAgICAgICAgIHZhclxuICAgICAgICAgICAgbm9kZSA9IGNsb25lTm9kZS5jYWxsKHRoaXMsICEhZGVlcCksXG4gICAgICAgICAgICBpID0gZ2V0VHlwZUluZGV4KG5vZGUpXG4gICAgICAgICAgO1xuICAgICAgICAgIGlmICgtMSA8IGkpIHBhdGNoKG5vZGUsIHByb3Rvc1tpXSk7XG4gICAgICAgICAgaWYgKGRlZXAgJiYgcXVlcnkubGVuZ3RoKSBsb29wQW5kU2V0dXAobm9kZS5xdWVyeVNlbGVjdG9yQWxsKHF1ZXJ5KSk7XG4gICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgIH07XG4gICAgICB9XG4gIFxuICAgICAgaWYgKGp1c3RTZXR1cCkgcmV0dXJuIChqdXN0U2V0dXAgPSBmYWxzZSk7XG4gIFxuICAgICAgaWYgKC0yIDwgKFxuICAgICAgICBpbmRleE9mLmNhbGwodHlwZXMsIFBSRUZJWF9JUyArIHVwcGVyVHlwZSkgK1xuICAgICAgICBpbmRleE9mLmNhbGwodHlwZXMsIFBSRUZJWF9UQUcgKyB1cHBlclR5cGUpXG4gICAgICApKSB7XG4gICAgICAgIHRocm93VHlwZUVycm9yKHR5cGUpO1xuICAgICAgfVxuICBcbiAgICAgIGlmICghdmFsaWROYW1lLnRlc3QodXBwZXJUeXBlKSB8fCAtMSA8IGluZGV4T2YuY2FsbChpbnZhbGlkTmFtZXMsIHVwcGVyVHlwZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgdHlwZSAnICsgdHlwZSArICcgaXMgaW52YWxpZCcpO1xuICAgICAgfVxuICBcbiAgICAgIHZhclxuICAgICAgICBjb25zdHJ1Y3RvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gZXh0ZW5kaW5nID9cbiAgICAgICAgICAgIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobm9kZU5hbWUsIHVwcGVyVHlwZSkgOlxuICAgICAgICAgICAgZG9jdW1lbnQuY3JlYXRlRWxlbWVudChub2RlTmFtZSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9wdCA9IG9wdGlvbnMgfHwgT1AsXG4gICAgICAgIGV4dGVuZGluZyA9IGhPUC5jYWxsKG9wdCwgRVhURU5EUyksXG4gICAgICAgIG5vZGVOYW1lID0gZXh0ZW5kaW5nID8gb3B0aW9uc1tFWFRFTkRTXS50b1VwcGVyQ2FzZSgpIDogdXBwZXJUeXBlLFxuICAgICAgICB1cHBlclR5cGUsXG4gICAgICAgIGlcbiAgICAgIDtcbiAgXG4gICAgICBpZiAoZXh0ZW5kaW5nICYmIC0xIDwgKFxuICAgICAgICBpbmRleE9mLmNhbGwodHlwZXMsIFBSRUZJWF9UQUcgKyBub2RlTmFtZSlcbiAgICAgICkpIHtcbiAgICAgICAgdGhyb3dUeXBlRXJyb3Iobm9kZU5hbWUpO1xuICAgICAgfVxuICBcbiAgICAgIGkgPSB0eXBlcy5wdXNoKChleHRlbmRpbmcgPyBQUkVGSVhfSVMgOiBQUkVGSVhfVEFHKSArIHVwcGVyVHlwZSkgLSAxO1xuICBcbiAgICAgIHF1ZXJ5ID0gcXVlcnkuY29uY2F0KFxuICAgICAgICBxdWVyeS5sZW5ndGggPyAnLCcgOiAnJyxcbiAgICAgICAgZXh0ZW5kaW5nID8gbm9kZU5hbWUgKyAnW2lzPVwiJyArIHR5cGUudG9Mb3dlckNhc2UoKSArICdcIl0nIDogbm9kZU5hbWVcbiAgICAgICk7XG4gIFxuICAgICAgY29uc3RydWN0b3IucHJvdG90eXBlID0gKFxuICAgICAgICBwcm90b3NbaV0gPSBoT1AuY2FsbChvcHQsICdwcm90b3R5cGUnKSA/XG4gICAgICAgICAgb3B0LnByb3RvdHlwZSA6XG4gICAgICAgICAgY3JlYXRlKEhUTUxFbGVtZW50UHJvdG90eXBlKVxuICAgICAgKTtcbiAgXG4gICAgICBpZiAocXVlcnkubGVuZ3RoKSBsb29wQW5kVmVyaWZ5KFxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHF1ZXJ5KSxcbiAgICAgICAgQVRUQUNIRURcbiAgICAgICk7XG4gIFxuICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yO1xuICAgIH07XG4gIFxuICAgIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgPSAocGF0Y2hlZENyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbiAobG9jYWxOYW1lLCB0eXBlRXh0ZW5zaW9uKSB7XG4gICAgICB2YXJcbiAgICAgICAgaXMgPSBnZXRJcyh0eXBlRXh0ZW5zaW9uKSxcbiAgICAgICAgbm9kZSA9IGlzID9cbiAgICAgICAgICBjcmVhdGVFbGVtZW50LmNhbGwoZG9jdW1lbnQsIGxvY2FsTmFtZSwgc2Vjb25kQXJndW1lbnQoaXMpKSA6XG4gICAgICAgICAgY3JlYXRlRWxlbWVudC5jYWxsKGRvY3VtZW50LCBsb2NhbE5hbWUpLFxuICAgICAgICBuYW1lID0gJycgKyBsb2NhbE5hbWUsXG4gICAgICAgIGkgPSBpbmRleE9mLmNhbGwoXG4gICAgICAgICAgdHlwZXMsXG4gICAgICAgICAgKGlzID8gUFJFRklYX0lTIDogUFJFRklYX1RBRykgK1xuICAgICAgICAgIChpcyB8fCBuYW1lKS50b1VwcGVyQ2FzZSgpXG4gICAgICAgICksXG4gICAgICAgIHNldHVwID0gLTEgPCBpXG4gICAgICA7XG4gICAgICBpZiAoaXMpIHtcbiAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoJ2lzJywgaXMgPSBpcy50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgaWYgKHNldHVwKSB7XG4gICAgICAgICAgc2V0dXAgPSBpc0luUVNBKG5hbWUudG9VcHBlckNhc2UoKSwgaXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBub3RGcm9tSW5uZXJIVE1MSGVscGVyID0gIWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQuaW5uZXJIVE1MSGVscGVyO1xuICAgICAgaWYgKHNldHVwKSBwYXRjaChub2RlLCBwcm90b3NbaV0pO1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfSk7XG4gIFxuICB9XG4gIFxuICBmdW5jdGlvbiBBU0FQKCkge1xuICAgIHZhciBxdWV1ZSA9IGFzYXBRdWV1ZS5zcGxpY2UoMCwgYXNhcFF1ZXVlLmxlbmd0aCk7XG4gICAgYXNhcFRpbWVyID0gMDtcbiAgICB3aGlsZSAocXVldWUubGVuZ3RoKSB7XG4gICAgICBxdWV1ZS5zaGlmdCgpLmNhbGwoXG4gICAgICAgIG51bGwsIHF1ZXVlLnNoaWZ0KClcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIFxuICBmdW5jdGlvbiBsb29wQW5kVmVyaWZ5KGxpc3QsIGFjdGlvbikge1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBsaXN0Lmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB2ZXJpZnlBbmRTZXR1cEFuZEFjdGlvbihsaXN0W2ldLCBhY3Rpb24pO1xuICAgIH1cbiAgfVxuICBcbiAgZnVuY3Rpb24gbG9vcEFuZFNldHVwKGxpc3QpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gbGlzdC5sZW5ndGgsIG5vZGU7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgbm9kZSA9IGxpc3RbaV07XG4gICAgICBwYXRjaChub2RlLCBwcm90b3NbZ2V0VHlwZUluZGV4KG5vZGUpXSk7XG4gICAgfVxuICB9XG4gIFxuICBmdW5jdGlvbiBleGVjdXRlQWN0aW9uKGFjdGlvbikge1xuICAgIHJldHVybiBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgaWYgKGlzVmFsaWROb2RlKG5vZGUpKSB7XG4gICAgICAgIHZlcmlmeUFuZFNldHVwQW5kQWN0aW9uKG5vZGUsIGFjdGlvbik7XG4gICAgICAgIGlmIChxdWVyeS5sZW5ndGgpIGxvb3BBbmRWZXJpZnkoXG4gICAgICAgICAgbm9kZS5xdWVyeVNlbGVjdG9yQWxsKHF1ZXJ5KSxcbiAgICAgICAgICBhY3Rpb25cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIFxuICBmdW5jdGlvbiBnZXRUeXBlSW5kZXgodGFyZ2V0KSB7XG4gICAgdmFyXG4gICAgICBpcyA9IGdldEF0dHJpYnV0ZS5jYWxsKHRhcmdldCwgJ2lzJyksXG4gICAgICBub2RlTmFtZSA9IHRhcmdldC5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpLFxuICAgICAgaSA9IGluZGV4T2YuY2FsbChcbiAgICAgICAgdHlwZXMsXG4gICAgICAgIGlzID9cbiAgICAgICAgICAgIFBSRUZJWF9JUyArIGlzLnRvVXBwZXJDYXNlKCkgOlxuICAgICAgICAgICAgUFJFRklYX1RBRyArIG5vZGVOYW1lXG4gICAgICApXG4gICAgO1xuICAgIHJldHVybiBpcyAmJiAtMSA8IGkgJiYgIWlzSW5RU0Eobm9kZU5hbWUsIGlzKSA/IC0xIDogaTtcbiAgfVxuICBcbiAgZnVuY3Rpb24gaXNJblFTQShuYW1lLCB0eXBlKSB7XG4gICAgcmV0dXJuIC0xIDwgcXVlcnkuaW5kZXhPZihuYW1lICsgJ1tpcz1cIicgKyB0eXBlICsgJ1wiXScpO1xuICB9XG4gIFxuICBmdW5jdGlvbiBvbkRPTUF0dHJNb2RpZmllZChlKSB7XG4gICAgdmFyXG4gICAgICBub2RlID0gZS5jdXJyZW50VGFyZ2V0LFxuICAgICAgYXR0ckNoYW5nZSA9IGUuYXR0ckNoYW5nZSxcbiAgICAgIGF0dHJOYW1lID0gZS5hdHRyTmFtZSxcbiAgICAgIHRhcmdldCA9IGUudGFyZ2V0LFxuICAgICAgYWRkaXRpb24gPSBlW0FERElUSU9OXSB8fCAyLFxuICAgICAgcmVtb3ZhbCA9IGVbUkVNT1ZBTF0gfHwgM1xuICAgIDtcbiAgICBpZiAobm90RnJvbUlubmVySFRNTEhlbHBlciAmJlxuICAgICAgICAoIXRhcmdldCB8fCB0YXJnZXQgPT09IG5vZGUpICYmXG4gICAgICAgIG5vZGVbQVRUUklCVVRFX0NIQU5HRURfQ0FMTEJBQ0tdICYmXG4gICAgICAgIGF0dHJOYW1lICE9PSAnc3R5bGUnICYmIChcbiAgICAgICAgICBlLnByZXZWYWx1ZSAhPT0gZS5uZXdWYWx1ZSB8fFxuICAgICAgICAgIC8vIElFOSwgSUUxMCwgYW5kIE9wZXJhIDEyIGdvdGNoYVxuICAgICAgICAgIGUubmV3VmFsdWUgPT09ICcnICYmIChcbiAgICAgICAgICAgIGF0dHJDaGFuZ2UgPT09IGFkZGl0aW9uIHx8XG4gICAgICAgICAgICBhdHRyQ2hhbmdlID09PSByZW1vdmFsXG4gICAgICAgICAgKVxuICAgICkpIHtcbiAgICAgIG5vZGVbQVRUUklCVVRFX0NIQU5HRURfQ0FMTEJBQ0tdKFxuICAgICAgICBhdHRyTmFtZSxcbiAgICAgICAgYXR0ckNoYW5nZSA9PT0gYWRkaXRpb24gPyBudWxsIDogZS5wcmV2VmFsdWUsXG4gICAgICAgIGF0dHJDaGFuZ2UgPT09IHJlbW92YWwgPyBudWxsIDogZS5uZXdWYWx1ZVxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgXG4gIGZ1bmN0aW9uIG9uRE9NTm9kZShhY3Rpb24pIHtcbiAgICB2YXIgZXhlY3V0b3IgPSBleGVjdXRlQWN0aW9uKGFjdGlvbik7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7XG4gICAgICBhc2FwUXVldWUucHVzaChleGVjdXRvciwgZS50YXJnZXQpO1xuICAgICAgaWYgKGFzYXBUaW1lcikgY2xlYXJUaW1lb3V0KGFzYXBUaW1lcik7XG4gICAgICBhc2FwVGltZXIgPSBzZXRUaW1lb3V0KEFTQVAsIDEpO1xuICAgIH07XG4gIH1cbiAgXG4gIGZ1bmN0aW9uIG9uUmVhZHlTdGF0ZUNoYW5nZShlKSB7XG4gICAgaWYgKGRyb3BEb21Db250ZW50TG9hZGVkKSB7XG4gICAgICBkcm9wRG9tQ29udGVudExvYWRlZCA9IGZhbHNlO1xuICAgICAgZS5jdXJyZW50VGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoRE9NX0NPTlRFTlRfTE9BREVELCBvblJlYWR5U3RhdGVDaGFuZ2UpO1xuICAgIH1cbiAgICBpZiAocXVlcnkubGVuZ3RoKSBsb29wQW5kVmVyaWZ5KFxuICAgICAgKGUudGFyZ2V0IHx8IGRvY3VtZW50KS5xdWVyeVNlbGVjdG9yQWxsKHF1ZXJ5KSxcbiAgICAgIGUuZGV0YWlsID09PSBERVRBQ0hFRCA/IERFVEFDSEVEIDogQVRUQUNIRURcbiAgICApO1xuICAgIGlmIChJRTgpIHB1cmdlKCk7XG4gIH1cbiAgXG4gIGZ1bmN0aW9uIHBhdGNoZWRTZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUpIHtcbiAgICAvLyBqc2hpbnQgdmFsaWR0aGlzOnRydWVcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgc2V0QXR0cmlidXRlLmNhbGwoc2VsZiwgbmFtZSwgdmFsdWUpO1xuICAgIG9uU3VidHJlZU1vZGlmaWVkLmNhbGwoc2VsZiwge3RhcmdldDogc2VsZn0pO1xuICB9XG4gIFxuICBmdW5jdGlvbiBzZXR1cE5vZGUobm9kZSwgcHJvdG8pIHtcbiAgICBzZXRQcm90b3R5cGUobm9kZSwgcHJvdG8pO1xuICAgIGlmIChvYnNlcnZlcikge1xuICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShub2RlLCBhdHRyaWJ1dGVzT2JzZXJ2ZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZG9lc05vdFN1cHBvcnRET01BdHRyTW9kaWZpZWQpIHtcbiAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUgPSBwYXRjaGVkU2V0QXR0cmlidXRlO1xuICAgICAgICBub2RlW0VYUEFORE9fVUlEXSA9IGdldEF0dHJpYnV0ZXNNaXJyb3Iobm9kZSk7XG4gICAgICAgIG5vZGVbQUREX0VWRU5UX0xJU1RFTkVSXShET01fU1VCVFJFRV9NT0RJRklFRCwgb25TdWJ0cmVlTW9kaWZpZWQpO1xuICAgICAgfVxuICAgICAgbm9kZVtBRERfRVZFTlRfTElTVEVORVJdKERPTV9BVFRSX01PRElGSUVELCBvbkRPTUF0dHJNb2RpZmllZCk7XG4gICAgfVxuICAgIGlmIChub2RlW0NSRUFURURfQ0FMTEJBQ0tdICYmIG5vdEZyb21Jbm5lckhUTUxIZWxwZXIpIHtcbiAgICAgIG5vZGUuY3JlYXRlZCA9IHRydWU7XG4gICAgICBub2RlW0NSRUFURURfQ0FMTEJBQ0tdKCk7XG4gICAgICBub2RlLmNyZWF0ZWQgPSBmYWxzZTtcbiAgICB9XG4gIH1cbiAgXG4gIGZ1bmN0aW9uIHB1cmdlKCkge1xuICAgIGZvciAodmFyXG4gICAgICBub2RlLFxuICAgICAgaSA9IDAsXG4gICAgICBsZW5ndGggPSB0YXJnZXRzLmxlbmd0aDtcbiAgICAgIGkgPCBsZW5ndGg7IGkrK1xuICAgICkge1xuICAgICAgbm9kZSA9IHRhcmdldHNbaV07XG4gICAgICBpZiAoIWRvY3VtZW50RWxlbWVudC5jb250YWlucyhub2RlKSkge1xuICAgICAgICBsZW5ndGgtLTtcbiAgICAgICAgdGFyZ2V0cy5zcGxpY2UoaS0tLCAxKTtcbiAgICAgICAgdmVyaWZ5QW5kU2V0dXBBbmRBY3Rpb24obm9kZSwgREVUQUNIRUQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBcbiAgZnVuY3Rpb24gdGhyb3dUeXBlRXJyb3IodHlwZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignQSAnICsgdHlwZSArICcgdHlwZSBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQnKTtcbiAgfVxuICBcbiAgZnVuY3Rpb24gdmVyaWZ5QW5kU2V0dXBBbmRBY3Rpb24obm9kZSwgYWN0aW9uKSB7XG4gICAgdmFyXG4gICAgICBmbixcbiAgICAgIGkgPSBnZXRUeXBlSW5kZXgobm9kZSlcbiAgICA7XG4gICAgaWYgKC0xIDwgaSkge1xuICAgICAgcGF0Y2hJZk5vdEFscmVhZHkobm9kZSwgcHJvdG9zW2ldKTtcbiAgICAgIGkgPSAwO1xuICAgICAgaWYgKGFjdGlvbiA9PT0gQVRUQUNIRUQgJiYgIW5vZGVbQVRUQUNIRURdKSB7XG4gICAgICAgIG5vZGVbREVUQUNIRURdID0gZmFsc2U7XG4gICAgICAgIG5vZGVbQVRUQUNIRURdID0gdHJ1ZTtcbiAgICAgICAgaSA9IDE7XG4gICAgICAgIGlmIChJRTggJiYgaW5kZXhPZi5jYWxsKHRhcmdldHMsIG5vZGUpIDwgMCkge1xuICAgICAgICAgIHRhcmdldHMucHVzaChub2RlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChhY3Rpb24gPT09IERFVEFDSEVEICYmICFub2RlW0RFVEFDSEVEXSkge1xuICAgICAgICBub2RlW0FUVEFDSEVEXSA9IGZhbHNlO1xuICAgICAgICBub2RlW0RFVEFDSEVEXSA9IHRydWU7XG4gICAgICAgIGkgPSAxO1xuICAgICAgfVxuICAgICAgaWYgKGkgJiYgKGZuID0gbm9kZVthY3Rpb24gKyBDQUxMQkFDS10pKSBmbi5jYWxsKG5vZGUpO1xuICAgIH1cbiAgfVxuICBcbiAgXG4gIFxuICAvLyBWMSBpbiBkYSBIb3VzZSFcbiAgZnVuY3Rpb24gQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5KCkge31cbiAgXG4gIEN1c3RvbUVsZW1lbnRSZWdpc3RyeS5wcm90b3R5cGUgPSB7XG4gICAgY29uc3RydWN0b3I6IEN1c3RvbUVsZW1lbnRSZWdpc3RyeSxcbiAgICAvLyBhIHdvcmthcm91bmQgZm9yIHRoZSBzdHViYm9ybiBXZWJLaXRcbiAgICBkZWZpbmU6IHVzYWJsZUN1c3RvbUVsZW1lbnRzID9cbiAgICAgIGZ1bmN0aW9uIChuYW1lLCBDbGFzcywgb3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucykge1xuICAgICAgICAgIENFUkRlZmluZShuYW1lLCBDbGFzcywgb3B0aW9ucyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIE5BTUUgPSBuYW1lLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgY29uc3RydWN0b3JzW05BTUVdID0ge1xuICAgICAgICAgICAgY29uc3RydWN0b3I6IENsYXNzLFxuICAgICAgICAgICAgY3JlYXRlOiBbTkFNRV1cbiAgICAgICAgICB9O1xuICAgICAgICAgIG5vZGVOYW1lcy5zZXQoQ2xhc3MsIE5BTUUpO1xuICAgICAgICAgIGN1c3RvbUVsZW1lbnRzLmRlZmluZShuYW1lLCBDbGFzcyk7XG4gICAgICAgIH1cbiAgICAgIH0gOlxuICAgICAgQ0VSRGVmaW5lLFxuICAgIGdldDogdXNhYmxlQ3VzdG9tRWxlbWVudHMgP1xuICAgICAgZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGN1c3RvbUVsZW1lbnRzLmdldChuYW1lKSB8fCBnZXQobmFtZSk7XG4gICAgICB9IDpcbiAgICAgIGdldCxcbiAgICB3aGVuRGVmaW5lZDogdXNhYmxlQ3VzdG9tRWxlbWVudHMgP1xuICAgICAgZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmFjZShbXG4gICAgICAgICAgY3VzdG9tRWxlbWVudHMud2hlbkRlZmluZWQobmFtZSksXG4gICAgICAgICAgd2hlbkRlZmluZWQobmFtZSlcbiAgICAgICAgXSk7XG4gICAgICB9IDpcbiAgICAgIHdoZW5EZWZpbmVkXG4gIH07XG4gIFxuICBmdW5jdGlvbiBDRVJEZWZpbmUobmFtZSwgQ2xhc3MsIG9wdGlvbnMpIHtcbiAgICB2YXJcbiAgICAgIGlzID0gb3B0aW9ucyAmJiBvcHRpb25zW0VYVEVORFNdIHx8ICcnLFxuICAgICAgQ1Byb3RvID0gQ2xhc3MucHJvdG90eXBlLFxuICAgICAgcHJvdG8gPSBjcmVhdGUoQ1Byb3RvKSxcbiAgICAgIGF0dHJpYnV0ZXMgPSBDbGFzcy5vYnNlcnZlZEF0dHJpYnV0ZXMgfHwgZW1wdHksXG4gICAgICBkZWZpbml0aW9uID0ge3Byb3RvdHlwZTogcHJvdG99XG4gICAgO1xuICAgIC8vIFRPRE86IGlzIHRoaXMgbmVlZGVkIGF0IGFsbCBzaW5jZSBpdCdzIGluaGVyaXRlZD9cbiAgICAvLyBkZWZpbmVQcm9wZXJ0eShwcm90bywgJ2NvbnN0cnVjdG9yJywge3ZhbHVlOiBDbGFzc30pO1xuICAgIHNhZmVQcm9wZXJ0eShwcm90bywgQ1JFQVRFRF9DQUxMQkFDSywge1xuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChqdXN0Q3JlYXRlZCkganVzdENyZWF0ZWQgPSBmYWxzZTtcbiAgICAgICAgICBlbHNlIGlmICghdGhpc1tEUkVDRVYxXSkge1xuICAgICAgICAgICAgdGhpc1tEUkVDRVYxXSA9IHRydWU7XG4gICAgICAgICAgICBuZXcgQ2xhc3ModGhpcyk7XG4gICAgICAgICAgICBpZiAoQ1Byb3RvW0NSRUFURURfQ0FMTEJBQ0tdKVxuICAgICAgICAgICAgICBDUHJvdG9bQ1JFQVRFRF9DQUxMQkFDS10uY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIHZhciBpbmZvID0gY29uc3RydWN0b3JzW25vZGVOYW1lcy5nZXQoQ2xhc3MpXTtcbiAgICAgICAgICAgIGlmICghdXNhYmxlQ3VzdG9tRWxlbWVudHMgfHwgaW5mby5jcmVhdGUubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICBub3RpZnlBdHRyaWJ1dGVzKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBzYWZlUHJvcGVydHkocHJvdG8sIEFUVFJJQlVURV9DSEFOR0VEX0NBTExCQUNLLCB7XG4gICAgICB2YWx1ZTogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgaWYgKC0xIDwgaW5kZXhPZi5jYWxsKGF0dHJpYnV0ZXMsIG5hbWUpKVxuICAgICAgICAgIENQcm90b1tBVFRSSUJVVEVfQ0hBTkdFRF9DQUxMQkFDS10uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoQ1Byb3RvW0NPTk5FQ1RFRF9DQUxMQkFDS10pIHtcbiAgICAgIHNhZmVQcm9wZXJ0eShwcm90bywgQVRUQUNIRURfQ0FMTEJBQ0ssIHtcbiAgICAgICAgdmFsdWU6IENQcm90b1tDT05ORUNURURfQ0FMTEJBQ0tdXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKENQcm90b1tESVNDT05ORUNURURfQ0FMTEJBQ0tdKSB7XG4gICAgICBzYWZlUHJvcGVydHkocHJvdG8sIERFVEFDSEVEX0NBTExCQUNLLCB7XG4gICAgICAgIHZhbHVlOiBDUHJvdG9bRElTQ09OTkVDVEVEX0NBTExCQUNLXVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpcykgZGVmaW5pdGlvbltFWFRFTkRTXSA9IGlzO1xuICAgIG5hbWUgPSBuYW1lLnRvVXBwZXJDYXNlKCk7XG4gICAgY29uc3RydWN0b3JzW25hbWVdID0ge1xuICAgICAgY29uc3RydWN0b3I6IENsYXNzLFxuICAgICAgY3JlYXRlOiBpcyA/IFtpcywgc2Vjb25kQXJndW1lbnQobmFtZSldIDogW25hbWVdXG4gICAgfTtcbiAgICBub2RlTmFtZXMuc2V0KENsYXNzLCBuYW1lKTtcbiAgICBkb2N1bWVudFtSRUdJU1RFUl9FTEVNRU5UXShuYW1lLnRvTG93ZXJDYXNlKCksIGRlZmluaXRpb24pO1xuICAgIHdoZW5EZWZpbmVkKG5hbWUpO1xuICAgIHdhaXRpbmdMaXN0W25hbWVdLnIoKTtcbiAgfVxuICBcbiAgZnVuY3Rpb24gZ2V0KG5hbWUpIHtcbiAgICB2YXIgaW5mbyA9IGNvbnN0cnVjdG9yc1tuYW1lLnRvVXBwZXJDYXNlKCldO1xuICAgIHJldHVybiBpbmZvICYmIGluZm8uY29uc3RydWN0b3I7XG4gIH1cbiAgXG4gIGZ1bmN0aW9uIGdldElzKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnID9cbiAgICAgICAgb3B0aW9ucyA6IChvcHRpb25zICYmIG9wdGlvbnMuaXMgfHwgJycpO1xuICB9XG4gIFxuICBmdW5jdGlvbiBub3RpZnlBdHRyaWJ1dGVzKHNlbGYpIHtcbiAgICB2YXJcbiAgICAgIGNhbGxiYWNrID0gc2VsZltBVFRSSUJVVEVfQ0hBTkdFRF9DQUxMQkFDS10sXG4gICAgICBhdHRyaWJ1dGVzID0gY2FsbGJhY2sgPyBzZWxmLmF0dHJpYnV0ZXMgOiBlbXB0eSxcbiAgICAgIGkgPSBhdHRyaWJ1dGVzLmxlbmd0aCxcbiAgICAgIGF0dHJpYnV0ZVxuICAgIDtcbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICBhdHRyaWJ1dGUgPSAgYXR0cmlidXRlc1tpXTsgLy8gfHwgYXR0cmlidXRlcy5pdGVtKGkpO1xuICAgICAgY2FsbGJhY2suY2FsbChcbiAgICAgICAgc2VsZixcbiAgICAgICAgYXR0cmlidXRlLm5hbWUgfHwgYXR0cmlidXRlLm5vZGVOYW1lLFxuICAgICAgICBudWxsLFxuICAgICAgICBhdHRyaWJ1dGUudmFsdWUgfHwgYXR0cmlidXRlLm5vZGVWYWx1ZVxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgXG4gIGZ1bmN0aW9uIHdoZW5EZWZpbmVkKG5hbWUpIHtcbiAgICBuYW1lID0gbmFtZS50b1VwcGVyQ2FzZSgpO1xuICAgIGlmICghKG5hbWUgaW4gd2FpdGluZ0xpc3QpKSB7XG4gICAgICB3YWl0aW5nTGlzdFtuYW1lXSA9IHt9O1xuICAgICAgd2FpdGluZ0xpc3RbbmFtZV0ucCA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgIHdhaXRpbmdMaXN0W25hbWVdLnIgPSByZXNvbHZlO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB3YWl0aW5nTGlzdFtuYW1lXS5wO1xuICB9XG4gIFxuICBmdW5jdGlvbiBwb2x5ZmlsbFYxKCkge1xuICAgIGlmIChjdXN0b21FbGVtZW50cykgZGVsZXRlIHdpbmRvdy5jdXN0b21FbGVtZW50cztcbiAgICBkZWZpbmVQcm9wZXJ0eSh3aW5kb3csICdjdXN0b21FbGVtZW50cycsIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiBuZXcgQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5KClcbiAgICB9KTtcbiAgICBkZWZpbmVQcm9wZXJ0eSh3aW5kb3csICdDdXN0b21FbGVtZW50UmVnaXN0cnknLCB7XG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5XG4gICAgfSk7XG4gICAgZm9yICh2YXJcbiAgICAgIHBhdGNoQ2xhc3MgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICB2YXIgQ2xhc3MgPSB3aW5kb3dbbmFtZV07XG4gICAgICAgIGlmIChDbGFzcykge1xuICAgICAgICAgIHdpbmRvd1tuYW1lXSA9IGZ1bmN0aW9uIEN1c3RvbUVsZW1lbnRzVjEoc2VsZikge1xuICAgICAgICAgICAgdmFyIGluZm8sIGlzTmF0aXZlO1xuICAgICAgICAgICAgaWYgKCFzZWxmKSBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIGlmICghc2VsZltEUkVDRVYxXSkge1xuICAgICAgICAgICAgICBqdXN0Q3JlYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgIGluZm8gPSBjb25zdHJ1Y3RvcnNbbm9kZU5hbWVzLmdldChzZWxmLmNvbnN0cnVjdG9yKV07XG4gICAgICAgICAgICAgIGlzTmF0aXZlID0gdXNhYmxlQ3VzdG9tRWxlbWVudHMgJiYgaW5mby5jcmVhdGUubGVuZ3RoID09PSAxO1xuICAgICAgICAgICAgICBzZWxmID0gaXNOYXRpdmUgP1xuICAgICAgICAgICAgICAgIFJlZmxlY3QuY29uc3RydWN0KENsYXNzLCBlbXB0eSwgaW5mby5jb25zdHJ1Y3RvcikgOlxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQuYXBwbHkoZG9jdW1lbnQsIGluZm8uY3JlYXRlKTtcbiAgICAgICAgICAgICAgc2VsZltEUkVDRVYxXSA9IHRydWU7XG4gICAgICAgICAgICAgIGp1c3RDcmVhdGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgIGlmICghaXNOYXRpdmUpIG5vdGlmeUF0dHJpYnV0ZXMoc2VsZik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHdpbmRvd1tuYW1lXS5wcm90b3R5cGUgPSBDbGFzcy5wcm90b3R5cGU7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIENsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHdpbmRvd1tuYW1lXTtcbiAgICAgICAgICB9IGNhdGNoKFdlYktpdCkge1xuICAgICAgICAgICAgZml4R2V0Q2xhc3MgPSB0cnVlO1xuICAgICAgICAgICAgZGVmaW5lUHJvcGVydHkoQ2xhc3MsIERSRUNFVjEsIHt2YWx1ZTogd2luZG93W25hbWVdfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgQ2xhc3NlcyA9IGh0bWxDbGFzcy5nZXQoL15IVE1MW0EtWl0qW2Etel0vKSxcbiAgICAgIGkgPSBDbGFzc2VzLmxlbmd0aDtcbiAgICAgIGktLTtcbiAgICAgIHBhdGNoQ2xhc3MoQ2xhc3Nlc1tpXSlcbiAgICApIHt9XG4gICAgKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbiAobmFtZSwgb3B0aW9ucykge1xuICAgICAgdmFyIGlzID0gZ2V0SXMob3B0aW9ucyk7XG4gICAgICByZXR1cm4gaXMgP1xuICAgICAgICBwYXRjaGVkQ3JlYXRlRWxlbWVudC5jYWxsKHRoaXMsIG5hbWUsIHNlY29uZEFyZ3VtZW50KGlzKSkgOlxuICAgICAgICBwYXRjaGVkQ3JlYXRlRWxlbWVudC5jYWxsKHRoaXMsIG5hbWUpO1xuICAgIH0pO1xuICAgIGlmICghVjApIHtcbiAgICAgIGp1c3RTZXR1cCA9IHRydWU7XG4gICAgICBkb2N1bWVudFtSRUdJU1RFUl9FTEVNRU5UXSgnJyk7XG4gICAgfVxuICB9XG4gIFxuICAvLyBpZiBjdXN0b21FbGVtZW50cyBpcyBub3QgdGhlcmUgYXQgYWxsXG4gIGlmICghY3VzdG9tRWxlbWVudHMgfHwgcG9seWZpbGwgPT09ICdmb3JjZScpIHBvbHlmaWxsVjEoKTtcbiAgZWxzZSB7XG4gICAgLy8gaWYgYXZhaWxhYmxlIHRlc3QgZXh0ZW5kcyB3b3JrIGFzIGV4cGVjdGVkXG4gICAgdHJ5IHtcbiAgICAgIChmdW5jdGlvbiAoRFJFLCBvcHRpb25zLCBuYW1lKSB7XG4gICAgICAgIG9wdGlvbnNbRVhURU5EU10gPSAnYSc7XG4gICAgICAgIERSRS5wcm90b3R5cGUgPSBjcmVhdGUoSFRNTEFuY2hvckVsZW1lbnQucHJvdG90eXBlKTtcbiAgICAgICAgRFJFLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IERSRTtcbiAgICAgICAgd2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZShuYW1lLCBEUkUsIG9wdGlvbnMpO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgZ2V0QXR0cmlidXRlLmNhbGwoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScsIHtpczogbmFtZX0pLCAnaXMnKSAhPT0gbmFtZSB8fFxuICAgICAgICAgICh1c2FibGVDdXN0b21FbGVtZW50cyAmJiBnZXRBdHRyaWJ1dGUuY2FsbChuZXcgRFJFKCksICdpcycpICE9PSBuYW1lKVxuICAgICAgICApIHtcbiAgICAgICAgICB0aHJvdyBvcHRpb25zO1xuICAgICAgICB9XG4gICAgICB9KFxuICAgICAgICBmdW5jdGlvbiBEUkUoKSB7XG4gICAgICAgICAgcmV0dXJuIFJlZmxlY3QuY29uc3RydWN0KEhUTUxBbmNob3JFbGVtZW50LCBbXSwgRFJFKTtcbiAgICAgICAgfSxcbiAgICAgICAge30sXG4gICAgICAgICdkb2N1bWVudC1yZWdpc3Rlci1lbGVtZW50LWEnXG4gICAgICApKTtcbiAgICB9IGNhdGNoKG9fTykge1xuICAgICAgLy8gb3IgZm9yY2UgdGhlIHBvbHlmaWxsIGlmIG5vdFxuICAgICAgLy8gYW5kIGtlZXAgaW50ZXJuYWwgb3JpZ2luYWwgcmVmZXJlbmNlXG4gICAgICBwb2x5ZmlsbFYxKCk7XG4gICAgfVxuICB9XG4gIFxuICB0cnkge1xuICAgIGNyZWF0ZUVsZW1lbnQuY2FsbChkb2N1bWVudCwgJ2EnLCAnYScpO1xuICB9IGNhdGNoKEZpcmVGb3gpIHtcbiAgICBzZWNvbmRBcmd1bWVudCA9IGZ1bmN0aW9uIChpcykge1xuICAgICAgcmV0dXJuIHtpczogaXN9O1xuICAgIH07XG4gIH1cbiAgXG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW5zdGFsbEN1c3RvbUVsZW1lbnRzO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2RvY3VtZW50LXJlZ2lzdGVyLWVsZW1lbnQvcG9ueS9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 44 */
/***/ (function(module, exports) {

eval("/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  return  bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]];\n}\n\nmodule.exports = bytesToUuid;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L3V1aWQvbGliL2J5dGVzVG9VdWlkLmpzPzMwNjgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsU0FBUztBQUN4QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiI0NC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29udmVydCBhcnJheSBvZiAxNiBieXRlIHZhbHVlcyB0byBVVUlEIHN0cmluZyBmb3JtYXQgb2YgdGhlIGZvcm06XG4gKiBYWFhYWFhYWC1YWFhYLVhYWFgtWFhYWC1YWFhYLVhYWFhYWFhYWFhYWFxuICovXG52YXIgYnl0ZVRvSGV4ID0gW107XG5mb3IgKHZhciBpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gIGJ5dGVUb0hleFtpXSA9IChpICsgMHgxMDApLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSk7XG59XG5cbmZ1bmN0aW9uIGJ5dGVzVG9VdWlkKGJ1Ziwgb2Zmc2V0KSB7XG4gIHZhciBpID0gb2Zmc2V0IHx8IDA7XG4gIHZhciBidGggPSBieXRlVG9IZXg7XG4gIHJldHVybiAgYnRoW2J1ZltpKytdXSArIGJ0aFtidWZbaSsrXV0gK1xuICAgICAgICAgIGJ0aFtidWZbaSsrXV0gKyBidGhbYnVmW2krK11dICsgJy0nICtcbiAgICAgICAgICBidGhbYnVmW2krK11dICsgYnRoW2J1ZltpKytdXSArICctJyArXG4gICAgICAgICAgYnRoW2J1ZltpKytdXSArIGJ0aFtidWZbaSsrXV0gKyAnLScgK1xuICAgICAgICAgIGJ0aFtidWZbaSsrXV0gKyBidGhbYnVmW2krK11dICsgJy0nICtcbiAgICAgICAgICBidGhbYnVmW2krK11dICsgYnRoW2J1ZltpKytdXSArXG4gICAgICAgICAgYnRoW2J1ZltpKytdXSArIGJ0aFtidWZbaSsrXV0gK1xuICAgICAgICAgIGJ0aFtidWZbaSsrXV0gKyBidGhbYnVmW2krK11dO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJ5dGVzVG9VdWlkO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3V1aWQvbGliL2J5dGVzVG9VdWlkLmpzXG4vLyBtb2R1bGUgaWQgPSA0NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 45 */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(global) {// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\nvar rng;\n\nvar crypto = global.crypto || global.msCrypto; // for IE 11\nif (crypto && crypto.getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16);\n  rng = function whatwgRNG() {\n    crypto.getRandomValues(rnds8);\n    return rnds8;\n  };\n}\n\nif (!rng) {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var  rnds = new Array(16);\n  rng = function() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n\nmodule.exports = rng;\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(47)))//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L3V1aWQvbGliL3JuZy1icm93c2VyLmpzPzk0NWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw4Q0FBOEM7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixRQUFRO0FBQzlCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiNDUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBVbmlxdWUgSUQgY3JlYXRpb24gcmVxdWlyZXMgYSBoaWdoIHF1YWxpdHkgcmFuZG9tICMgZ2VuZXJhdG9yLiAgSW4gdGhlXG4vLyBicm93c2VyIHRoaXMgaXMgYSBsaXR0bGUgY29tcGxpY2F0ZWQgZHVlIHRvIHVua25vd24gcXVhbGl0eSBvZiBNYXRoLnJhbmRvbSgpXG4vLyBhbmQgaW5jb25zaXN0ZW50IHN1cHBvcnQgZm9yIHRoZSBgY3J5cHRvYCBBUEkuICBXZSBkbyB0aGUgYmVzdCB3ZSBjYW4gdmlhXG4vLyBmZWF0dXJlLWRldGVjdGlvblxudmFyIHJuZztcblxudmFyIGNyeXB0byA9IGdsb2JhbC5jcnlwdG8gfHwgZ2xvYmFsLm1zQ3J5cHRvOyAvLyBmb3IgSUUgMTFcbmlmIChjcnlwdG8gJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcykge1xuICAvLyBXSEFUV0cgY3J5cHRvIFJORyAtIGh0dHA6Ly93aWtpLndoYXR3Zy5vcmcvd2lraS9DcnlwdG9cbiAgdmFyIHJuZHM4ID0gbmV3IFVpbnQ4QXJyYXkoMTYpO1xuICBybmcgPSBmdW5jdGlvbiB3aGF0d2dSTkcoKSB7XG4gICAgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhybmRzOCk7XG4gICAgcmV0dXJuIHJuZHM4O1xuICB9O1xufVxuXG5pZiAoIXJuZykge1xuICAvLyBNYXRoLnJhbmRvbSgpLWJhc2VkIChSTkcpXG4gIC8vXG4gIC8vIElmIGFsbCBlbHNlIGZhaWxzLCB1c2UgTWF0aC5yYW5kb20oKS4gIEl0J3MgZmFzdCwgYnV0IGlzIG9mIHVuc3BlY2lmaWVkXG4gIC8vIHF1YWxpdHkuXG4gIHZhciAgcm5kcyA9IG5ldyBBcnJheSgxNik7XG4gIHJuZyA9IGZ1bmN0aW9uKCkge1xuICAgIGZvciAodmFyIGkgPSAwLCByOyBpIDwgMTY7IGkrKykge1xuICAgICAgaWYgKChpICYgMHgwMykgPT09IDApIHIgPSBNYXRoLnJhbmRvbSgpICogMHgxMDAwMDAwMDA7XG4gICAgICBybmRzW2ldID0gciA+Pj4gKChpICYgMHgwMykgPDwgMykgJiAweGZmO1xuICAgIH1cblxuICAgIHJldHVybiBybmRzO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHJuZztcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi91dWlkL2xpYi9ybmctYnJvd3Nlci5qc1xuLy8gbW9kdWxlIGlkID0gNDVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 46 */
/***/ (function(module, exports, __webpack_require__) {

eval("var rng = __webpack_require__(45);\nvar bytesToUuid = __webpack_require__(44);\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options == 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L3V1aWQvdjQuanM/NDJlNyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9CQUFvQixTQUFTO0FBQzdCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBIiwiZmlsZSI6IjQ2LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHJuZyA9IHJlcXVpcmUoJy4vbGliL3JuZycpO1xudmFyIGJ5dGVzVG9VdWlkID0gcmVxdWlyZSgnLi9saWIvYnl0ZXNUb1V1aWQnKTtcblxuZnVuY3Rpb24gdjQob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgdmFyIGkgPSBidWYgJiYgb2Zmc2V0IHx8IDA7XG5cbiAgaWYgKHR5cGVvZihvcHRpb25zKSA9PSAnc3RyaW5nJykge1xuICAgIGJ1ZiA9IG9wdGlvbnMgPT0gJ2JpbmFyeScgPyBuZXcgQXJyYXkoMTYpIDogbnVsbDtcbiAgICBvcHRpb25zID0gbnVsbDtcbiAgfVxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICB2YXIgcm5kcyA9IG9wdGlvbnMucmFuZG9tIHx8IChvcHRpb25zLnJuZyB8fCBybmcpKCk7XG5cbiAgLy8gUGVyIDQuNCwgc2V0IGJpdHMgZm9yIHZlcnNpb24gYW5kIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYFxuICBybmRzWzZdID0gKHJuZHNbNl0gJiAweDBmKSB8IDB4NDA7XG4gIHJuZHNbOF0gPSAocm5kc1s4XSAmIDB4M2YpIHwgMHg4MDtcblxuICAvLyBDb3B5IGJ5dGVzIHRvIGJ1ZmZlciwgaWYgcHJvdmlkZWRcbiAgaWYgKGJ1Zikge1xuICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCAxNjsgKytpaSkge1xuICAgICAgYnVmW2kgKyBpaV0gPSBybmRzW2lpXTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYnVmIHx8IGJ5dGVzVG9VdWlkKHJuZHMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHY0O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3V1aWQvdjQuanNcbi8vIG1vZHVsZSBpZCA9IDQ2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 47 */
/***/ (function(module, exports) {

eval("var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzPzM2OTgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDRDQUE0Qzs7QUFFNUMiLCJmaWxlIjoiNDcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZztcclxuXHJcbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXHJcbmcgPSAoZnVuY3Rpb24oKSB7XHJcblx0cmV0dXJuIHRoaXM7XHJcbn0pKCk7XHJcblxyXG50cnkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxyXG5cdGcgPSBnIHx8IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSB8fCAoMSxldmFsKShcInRoaXNcIik7XHJcbn0gY2F0Y2goZSkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXHJcblx0aWYodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIilcclxuXHRcdGcgPSB3aW5kb3c7XHJcbn1cclxuXHJcbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cclxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3NcclxuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBnO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAod2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanNcbi8vIG1vZHVsZSBpZCA9IDQ3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ })
/******/ ]);